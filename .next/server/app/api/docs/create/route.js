(()=>{var e={};e.id=616,e.ids=[616],e.modules={399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},4300:e=>{"use strict";e.exports=require("buffer")},358:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},3068:(e,t,r)=>{"use strict";let n;r.r(t),r.d(t,{originalPathname:()=>rZ,patchFetch:()=>rJ,requestAsyncStorage:()=>rY,routeModule:()=>rW,serverHooks:()=>rX,staticGenerationAsyncStorage:()=>rK});var i,a,s,o,l,u,c,h,d,f,p,m={};r.r(m),r.d(m,{POST:()=>rG,runtime:()=>r$});var g=r(9303),y=r(8716),b=r(670),v=r(8277);function w(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;let _=e=>e?(...t)=>e(...t):(...e)=>fetch(...e);class E extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class T extends E{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class x extends E{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class S extends E{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(i||(i={}));class k{constructor(e,{headers:t={},customFetch:r,region:n=i.Any}={}){this.url=e,this.headers=t,this.region=n,this.fetch=_(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){var t,r,n,i;return t=this,r=arguments,n=void 0,i=function*(e,t={}){var r;let n,i;try{let a;let{headers:s,method:o,body:l,signal:u,timeout:c}=t,h={},{region:d}=t;d||(d=this.region);let f=new URL(`${this.url}/${e}`);d&&"any"!==d&&(h["x-region"]=d,f.searchParams.set("forceFunctionRegion",d)),l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?"undefined"!=typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",a=l):"string"==typeof l?(h["Content-Type"]="text/plain",a=l):"undefined"!=typeof FormData&&l instanceof FormData?a=l:(h["Content-Type"]="application/json",a=JSON.stringify(l)):!l||"string"==typeof l||"undefined"!=typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer||"undefined"!=typeof FormData&&l instanceof FormData?a=l:a=JSON.stringify(l);let p=u;c&&(i=new AbortController,n=setTimeout(()=>i.abort(),c),u?(p=i.signal,u.addEventListener("abort",()=>i.abort())):p=i.signal);let m=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:a,signal:p}).catch(e=>{throw new T(e)}),g=m.headers.get("x-relay-error");if(g&&"true"===g)throw new x(m);if(!m.ok)throw new S(m);let y=(null!==(r=m.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return{data:"application/json"===y?yield m.json():"application/octet-stream"===y||"application/pdf"===y?yield m.blob():"text/event-stream"===y?m:"multipart/form-data"===y?yield m.formData():yield m.text(),error:null,response:m}}catch(e){return{data:null,error:e,response:e instanceof S||e instanceof x?e.context:void 0}}finally{n&&clearTimeout(n)}},new(n||(n=Promise))(function(e,a){function s(e){try{l(i.next(e))}catch(e){a(e)}}function o(e){try{l(i.throw(e))}catch(e){a(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof n?r:new n(function(e){e(r)})).then(s,o)}l((i=i.apply(t,r||[])).next())})}}var O=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},A=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(r=e.isMaybeSingle)&&void 0!==r&&r,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,n,i,a;let s=null,o=null,l=null,u=e.status,c=e.statusText;if(e.ok){if("HEAD"!==r.method){let t=await e.text();""===t||(o="text/csv"===r.headers.get("Accept")?t:r.headers.get("Accept")&&(null===(i=r.headers.get("Accept"))||void 0===i?void 0:i.includes("application/vnd.pgrst.plan+text"))?t:JSON.parse(t))}let a=null===(t=r.headers.get("Prefer"))||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),h=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");a&&h&&h.length>1&&(l=parseInt(h[1])),r.isMaybeSingle&&"GET"===r.method&&Array.isArray(o)&&(o.length>1?(s={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,u=406,c="Not Acceptable"):o=1===o.length?o[0]:null)}else{let t=await e.text();try{s=JSON.parse(t),Array.isArray(s)&&404===e.status&&(o=[],s=null,u=200,c="OK")}catch(r){404===e.status&&""===t?(u=204,c="No Content"):s={message:t}}if(s&&r.isMaybeSingle&&(null==s||null===(a=s.details)||void 0===a?void 0:a.includes("0 rows"))&&(s=null,u=200,c="OK"),s&&r.shouldThrowOnError)throw new O(s)}return{error:s,data:o,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(n=n.catch(e=>{var t,r,n,i,a,s;let o="",l=null==e?void 0:e.cause;if(l){let t=null!==(r=null==l?void 0:l.message)&&void 0!==r?r:"",s=null!==(n=null==l?void 0:l.code)&&void 0!==n?n:"";o=`${null!==(i=null==e?void 0:e.name)&&void 0!==i?i:"FetchError"}: ${null==e?void 0:e.message}

Caused by: ${null!==(a=null==l?void 0:l.name)&&void 0!==a?a:"Error"}: ${t}`,s&&(o+=` (${s})`),(null==l?void 0:l.stack)&&(o+=`
${l.stack}`)}else o=null!==(s=null==e?void 0:e.stack)&&void 0!==s?s:"";return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}},C=class extends A{select(e){let t=!1,r=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){let a=i?`${i}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){let n=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){let i=void 0===n?"offset":`${n}.offset`,a=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:a="text"}={}){var s;let o=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=null!==(s=this.headers.get("Accept"))&&void 0!==s?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${l}"; options=${o};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};let D=RegExp("[,()]");var N=class extends C{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){let r=Array.from(new Set(t)).map(e=>"string"==typeof e&&D.test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){let r=Array.from(new Set(t)).map(e=>"string"==typeof e&&D.test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let i="";"plain"===n?i="pl":"phrase"===n?i="ph":"websearch"===n&&(i="w");let a=void 0===r?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){let n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},R=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){let{head:r=!1,count:n}=null!=t?t:{},i=!1,a=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e)).join(""),{url:s,headers:o}=this.cloneRequestState();return s.searchParams.set("select",a),n&&o.append("Prefer",`count=${n}`),new N({method:r?"HEAD":"GET",url:s,headers:o,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;let{url:i,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),r||a.append("Prefer","missing=default"),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);i.searchParams.set("columns",e.join(","))}}return new N({method:"POST",url:i,headers:a,schema:this.schema,body:e,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var a;let{url:s,headers:o}=this.cloneRequestState();if(o.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),void 0!==t&&s.searchParams.set("on_conflict",t),n&&o.append("Prefer",`count=${n}`),i||o.append("Prefer","missing=default"),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);s.searchParams.set("columns",e.join(","))}}return new N({method:"POST",url:s,headers:o,schema:this.schema,body:e,fetch:null!==(a=this.fetch)&&void 0!==a?a:fetch})}update(e,{count:t}={}){var r;let{url:n,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new N({method:"PATCH",url:n,headers:i,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}delete({count:e}={}){var t;let{url:r,headers:n}=this.cloneRequestState();return e&&n.append("Prefer",`count=${e}`),new N({method:"DELETE",url:r,headers:n,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}},I=class e{constructor(e,{headers:t={},schema:r,fetch:n}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=n}from(e){if(!e||"string"!=typeof e||""===e.trim())throw Error("Invalid relation name: relation must be a non-empty string.");return new R(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:n=!1,count:i}={}){var a;let s,o;let l=new URL(`${this.url}/rpc/${e}`),u=e=>null!==e&&"object"==typeof e&&(!Array.isArray(e)||e.some(u)),c=r&&Object.values(t).some(u);c?(s="POST",o=t):r||n?(s=r?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{l.searchParams.append(e,t)})):(s="POST",o=t);let h=new Headers(this.headers);return c?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new N({method:s,url:l,headers:h,schema:this.schemaName,body:o,fetch:null!==(a=this.fetch)&&void 0!==a?a:fetch})}};class P{constructor(){}static detectEnvironment(){var e;if("undefined"!=typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!=typeof global&&void 0!==global.WebSocket)return{type:"native",constructor:global.WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocketPair&&void 0===globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!=typeof globalThis&&globalThis.EdgeRuntime||"undefined"!=typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};let t=globalThis.process;if(t){let e=t.versions;if(e&&e.node){let t=parseInt(e.node.replace(/^v/,"").split(".")[0]);return t>=22?void 0!==globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${t} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${t} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}}let L="1.0.0";(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(a||(a={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(s||(s={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(o||(o={})),(l||(l={})).websocket="websocket",function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(u||(u={}));class j{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=null!=e?e:[]}encode(e,t){return e.event!==this.BROADCAST_EVENT||e.payload instanceof ArrayBuffer||"string"!=typeof e.payload.event?t(JSON.stringify([e.join_ref,e.ref,e.topic,e.event,e.payload])):t(this._binaryEncodeUserBroadcastPush(e))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer(null===(t=e.payload)||void 0===t?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r;let n=null!==(r=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==r?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,n)}_encodeJsonUserBroadcastPush(e){var t,r;let n=null!==(r=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==r?r:{},i=new TextEncoder().encode(JSON.stringify(n)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(e,t,r){let n=e.topic,i=null!==(f=e.ref)&&void 0!==f?f:"",a=null!==(p=e.join_ref)&&void 0!==p?p:"",s=e.payload.event,o=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},l=0===Object.keys(o).length?"":JSON.stringify(o);if(a.length>255)throw Error(`joinRef length ${a.length} exceeds maximum of 255`);if(i.length>255)throw Error(`ref length ${i.length} exceeds maximum of 255`);if(n.length>255)throw Error(`topic length ${n.length} exceeds maximum of 255`);if(s.length>255)throw Error(`userEvent length ${s.length} exceeds maximum of 255`);if(l.length>255)throw Error(`metadata length ${l.length} exceeds maximum of 255`);let u=this.USER_BROADCAST_PUSH_META_LENGTH+a.length+i.length+n.length+s.length+l.length,c=new ArrayBuffer(this.HEADER_LENGTH+u),h=new DataView(c),d=0;h.setUint8(d++,this.KINDS.userBroadcastPush),h.setUint8(d++,a.length),h.setUint8(d++,i.length),h.setUint8(d++,n.length),h.setUint8(d++,s.length),h.setUint8(d++,l.length),h.setUint8(d++,t),Array.from(a,e=>h.setUint8(d++,e.charCodeAt(0))),Array.from(i,e=>h.setUint8(d++,e.charCodeAt(0))),Array.from(n,e=>h.setUint8(d++,e.charCodeAt(0))),Array.from(s,e=>h.setUint8(d++,e.charCodeAt(0))),Array.from(l,e=>h.setUint8(d++,e.charCodeAt(0)));var f,p,m=new Uint8Array(c.byteLength+r.byteLength);return m.set(new Uint8Array(c),0),m.set(new Uint8Array(r),c.byteLength),m.buffer}decode(e,t){if(this._isArrayBuffer(e))return t(this._binaryDecode(e));if("string"==typeof e){let[r,n,i,a,s]=JSON.parse(e);return t({join_ref:r,ref:n,topic:i,event:a,payload:s})}return t({})}_binaryDecode(e){let t=new DataView(e),r=t.getUint8(0),n=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,t,n)}_decodeUserBroadcast(e,t,r){let n=t.getUint8(1),i=t.getUint8(2),a=t.getUint8(3),s=t.getUint8(4),o=this.HEADER_LENGTH+4,l=r.decode(e.slice(o,o+n));o+=n;let u=r.decode(e.slice(o,o+i));o+=i;let c=r.decode(e.slice(o,o+a));o+=a;let h=e.slice(o,e.byteLength),d=s===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,f={type:this.BROADCAST_EVENT,event:u,payload:d};return a>0&&(f.meta=JSON.parse(c)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:f}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return e&&"object"==typeof e?Object.fromEntries(Object.entries(e).filter(([e])=>t.includes(e))):{}}}class M{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(c||(c={}));let U=(e,t,r={})=>{var n;let i=null!==(n=r.skipTypes)&&void 0!==n?n:[];return t?Object.keys(t).reduce((r,n)=>(r[n]=B(n,e,t,i),r),{}):{}},B=(e,t,r,n)=>{let i=t.find(t=>t.name===e),a=null==i?void 0:i.type,s=r[e];return a&&!n.includes(a)?z(a,s):q(s)},z=(e,t)=>{if("_"===e.charAt(0))return V(t,e.slice(1,e.length));switch(e){case c.bool:return $(t);case c.float4:case c.float8:case c.int2:case c.int4:case c.int8:case c.numeric:case c.oid:return F(t);case c.json:case c.jsonb:return H(t);case c.timestamp:return G(t);case c.abstime:case c.date:case c.daterange:case c.int4range:case c.int8range:case c.money:case c.reltime:case c.text:case c.time:case c.timestamptz:case c.timetz:case c.tsrange:case c.tstzrange:default:return q(t)}},q=e=>e,$=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},F=e=>{if("string"==typeof e){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},H=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(e){}return e},V=(e,t)=>{if("string"!=typeof e)return e;let r=e.length-1,n=e[r];if("{"===e[0]&&"}"===n){let n;let i=e.slice(1,r);try{n=JSON.parse("["+i+"]")}catch(e){n=i?i.split(","):[]}return n.map(e=>z(t,e))}return e},G=e=>"string"==typeof e?e.replace(" ","T"):e,W=e=>{let t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===t.pathname||"/"===t.pathname?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Y{constructor(e,t,r={},n=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(h||(h={}));class K{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{let{onJoin:t,onLeave:r,onSync:n}=this.caller;this.joinRef=this.channel._joinRef(),this.state=K.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=K.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],n()}),this.channel._on(r.diff,{},e=>{let{onJoin:t,onLeave:r,onSync:n}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=K.syncDiff(this.state,e,t,r),n())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,n){let i=this.cloneDeep(e),a=this.transformState(t),s={},o={};return this.map(i,(e,t)=>{a[e]||(o[e]=t)}),this.map(a,(e,t)=>{let r=i[e];if(r){let n=t.map(e=>e.presence_ref),i=r.map(e=>e.presence_ref),a=t.filter(e=>0>i.indexOf(e.presence_ref)),l=r.filter(e=>0>n.indexOf(e.presence_ref));a.length>0&&(s[e]=a),l.length>0&&(o[e]=l)}else s[e]=t}),this.syncDiff(i,{joins:s,leaves:o},r,n)}static syncDiff(e,t,r,n){let{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(t,n)=>{var i;let a=null!==(i=e[t])&&void 0!==i?i:[];if(e[t]=this.cloneDeep(n),a.length>0){let r=e[t].map(e=>e.presence_ref),n=a.filter(e=>0>r.indexOf(e.presence_ref));e[t].unshift(...n)}r(t,a,n)}),this.map(a,(t,r)=>{let i=e[t];if(!i)return;let a=r.map(e=>e.presence_ref);i=i.filter(e=>0>a.indexOf(e.presence_ref)),e[t]=i,n(t,i,r),0===i.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return Object.getOwnPropertyNames(e=this.cloneDeep(e)).reduce((t,r)=>{let n=e[r];return"metas"in n?t[r]=n.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):t[r]=n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(d||(d={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(f||(f={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(p||(p={}));class X{constructor(e,t={config:{}},r){var n,i;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=s.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Y(this,o.join,this.params,this.timeout),this.rejoinTimer=new M(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=s.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=s.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=s.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=s.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=s.errored,this.rejoinTimer.scheduleTimeout())}),this._on(o.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new K(this),this.broadcastEndpointURL=W(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null===(i=null===(n=this.params.config)||void 0===n?void 0:n.broadcast)||void 0===i?void 0:i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==s.closed){let{config:{broadcast:a,presence:o,private:l}}=this.params,u=null!==(n=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(e=>e.filter))&&void 0!==n?n:[],c=!!this.bindings[f.PRESENCE]&&this.bindings[f.PRESENCE].length>0||(null===(i=this.params.config.presence)||void 0===i?void 0:i.enabled)===!0,h={},d={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(t=>null==e?void 0:e(p.CHANNEL_ERROR,t)),this._onClose(()=>null==e?void 0:e(p.CLOSED)),this.updateJoinPayload(Object.assign({config:d},h)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:t})=>{var r;if(this.socket._isManualToken()||this.socket.setAuth(),void 0===t){null==e||e(p.SUBSCRIBED);return}{let n=this.bindings.postgres_changes,i=null!==(r=null==n?void 0:n.length)&&void 0!==r?r:0,a=[];for(let r=0;r<i;r++){let i=n[r],{filter:{event:o,schema:l,table:u,filter:c}}=i,h=t&&t[r];if(h&&h.event===o&&X.isFilterValueEqual(h.schema,l)&&X.isFilterValueEqual(h.table,u)&&X.isFilterValueEqual(h.filter,c))a.push(Object.assign(Object.assign({},i),{id:h.id}));else{this.unsubscribe(),this.state=s.errored,null==e||e(p.CHANNEL_ERROR,Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=a,e&&e(p.SUBSCRIBED);return}}).receive("error",t=>{this.state=s.errored,null==e||e(p.CHANNEL_ERROR,Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null==e||e(p.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===s.joined&&e===f.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,r)}async httpSend(e,t,r={}){var n;if(null==t)return Promise.reject("Payload is required for httpSend()");let i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);let a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,null!==(n=r.timeout)&&void 0!==n?n:this.timeout);if(202===s.status)return{success:!0};let o=s.statusText;try{let e=await s.json();o=e.error||e.message||o}catch(e){}return Promise.reject(Error(o))}async send(e,t={}){var r,n;if(this._canPush()||"broadcast"!==e.type)return new Promise(r=>{var n,i,a;let s=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(a=null===(i=null===(n=this.params)||void 0===n?void 0:n.config)||void 0===i?void 0:i.broadcast)||void 0===a?void 0:a.ack)||r("ok"),s.receive("ok",()=>r("ok")),s.receive("error",()=>r("error")),s.receive("timeout",()=>r("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:i,payload:a}=e,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);let o={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{let e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(r=t.timeout)&&void 0!==r?r:this.timeout);return await (null===(n=e.body)||void 0===n?void 0:n.cancel()),e.ok?"ok":"error"}catch(e){if("AbortError"===e.name)return"timed out";return"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=s.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(o.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{(r=new Y(this,o.leave,{},e)).receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{null==r||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=s.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){let n=new AbortController,i=setTimeout(()=>n.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(i),a}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Y(this,e,t,r);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){let e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,i;let a=e.toLocaleLowerCase(),{close:s,error:l,leave:u,join:c}=o;if(r&&[s,l,u,c].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,t,r);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?null===(n=this.bindings.postgres_changes)||void 0===n||n.filter(e=>{var t,r,n;return(null===(t=e.filter)||void 0===t?void 0:t.event)==="*"||(null===(n=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===n?void 0:n.toLocaleLowerCase())===a}).map(e=>e.callback(h,r)):null===(i=this.bindings[a])||void 0===i||i.filter(e=>{var r,n,i,s,o,l,u,c;if(!["broadcast","presence","postgres_changes"].includes(a))return e.type.toLocaleLowerCase()===a;if("id"in e){let a=e.id,l=null===(r=e.filter)||void 0===r?void 0:r.event;return a&&(null===(n=t.ids)||void 0===n?void 0:n.includes(a))&&("*"===l||(null==l?void 0:l.toLocaleLowerCase())===(null===(i=t.data)||void 0===i?void 0:i.type.toLocaleLowerCase()))&&(!(null===(s=e.filter)||void 0===s?void 0:s.table)||e.filter.table===(null===(o=t.data)||void 0===o?void 0:o.table))}{let r=null===(u=null===(l=null==e?void 0:e.filter)||void 0===l?void 0:l.event)||void 0===u?void 0:u.toLocaleLowerCase();return"*"===r||r===(null===(c=null==t?void 0:t.event)||void 0===c?void 0:c.toLocaleLowerCase())}}).map(e=>{if("object"==typeof h&&"ids"in h){let e=h.data,{schema:t,table:r,commit_timestamp:n,type:i,errors:a}=e;h=Object.assign(Object.assign({},{schema:t,table:r,commit_timestamp:n,eventType:i,new:{},old:{},errors:a}),this._getPayloadRecords(e))}e.callback(h,r)})}_isClosed(){return this.state===s.closed}_isJoined(){return this.state===s.joined}_isJoining(){return this.state===s.joining}_isLeaving(){return this.state===s.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){let n=e.toLocaleLowerCase(),i={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,t){let r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(e=>{var n;return!((null===(n=e.type)||void 0===n?void 0:n.toLocaleLowerCase())===r&&X.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}static isFilterValueEqual(e,t){return(null!=e?e:void 0)===(null!=t?t:void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(o.close,{},e)}_onError(e){this._on(o.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=s.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return("INSERT"===e.type||"UPDATE"===e.type)&&(t.new=U(e.columns,e.record)),("UPDATE"===e.type||"DELETE"===e.type)&&(t.old=U(e.columns,e.old_record)),t}}let Z=()=>{},J={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Q=[1e3,2e3,5e3,1e4],ee=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class et{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=null,this.heartbeatIntervalMs=J.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Z,this.ref=0,this.reconnectTimer=null,this.vsn=L,this.logger=Z,this.conn=null,this.sendBuffer=[],this.serializer=new j,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),!(null===(r=null==t?void 0:t.params)||void 0===r?void 0:r.apikey))throw Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${l.websocket}`,this.httpEndpoint=W(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null==t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=P.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let e=t.message;if(e.includes("Node.js"))throw Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`);throw Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting()){if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},"function"==typeof this.conn.close&&(e?this.conn.close(e,null!=t?t:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}}getChannels(){return this.channels}async removeChannel(e){let t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){let e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case a.connecting:return u.Connecting;case a.open:return u.Open;case a.closing:return u.Closing;default:return u.Closed}}isConnected(){return this.connectionState()===u.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e,t={config:{}}){let r=`realtime:${e}`,n=this.getChannels().find(e=>e.topic===r);if(n)return n;{let r=new X(`realtime:${e}`,t,this);return this.channels.push(r),r}}push(e){let{topic:t,event:r,payload:n,ref:i}=e,a=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${r} (${i})`,n),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(e){this.log("error","error in heartbeat callback",e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(e){this.log("error","error in heartbeat callback",e)}this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},J.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(e){this.log("error","error in heartbeat callback",e)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event&&e.ref&&e.ref===this.pendingHeartbeatRef){let t=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error",t)}catch(e){this.log("error","error in heartbeat callback",e)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}let{topic:t,event:r,payload:n,ref:i}=e,a=i?`(${i})`:"",s=n.status||"";this.log("receive",`${s} ${t} ${r} ${a}`.trim(),n),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,n,i)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===a.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===a.open||this.conn.readyState===a.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this._terminateWorker()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(o.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;let r=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return`${e}${r}${n}`}_workerObjectUrl(e){let t;if(e)t=e;else{let e=new Blob([ee],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e,t=!1){this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;let r=!1;if(e)t=e,r=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(e){this.log("error","Error fetching access token from callback",e),t=this.accessTokenValue}else t=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{let r={access_token:t,version:"realtime-js/2.90.1"};t&&e.updateJoinPayload(r),e.joinedOnce&&e._isJoined()&&e._push(o.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(t){this.log("error",`error in ${e} callback`,t)}})}catch(t){this.log("error",`error triggering ${e} callbacks`,t)}}_setupReconnectionTimer(){this.reconnectTimer=new M(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},J.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,n,i,a,s,o,l,u,c,h,d;switch(this.transport=null!==(t=null==e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(r=null==e?void 0:e.timeout)&&void 0!==r?r:1e4,this.heartbeatIntervalMs=null!==(n=null==e?void 0:e.heartbeatIntervalMs)&&void 0!==n?n:J.HEARTBEAT_INTERVAL,this.worker=null!==(i=null==e?void 0:e.worker)&&void 0!==i&&i,this.accessToken=null!==(a=null==e?void 0:e.accessToken)&&void 0!==a?a:null,this.heartbeatCallback=null!==(s=null==e?void 0:e.heartbeatCallback)&&void 0!==s?s:Z,this.vsn=null!==(o=null==e?void 0:e.vsn)&&void 0!==o?o:L,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.logger)&&(this.logger=e.logger),((null==e?void 0:e.logLevel)||(null==e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(l=null==e?void 0:e.reconnectAfterMs)&&void 0!==l?l:e=>Q[e-1]||1e4,this.vsn){case L:this.encode=null!==(u=null==e?void 0:e.encode)&&void 0!==u?u:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(c=null==e?void 0:e.decode)&&void 0!==c?c:(e,t)=>t(JSON.parse(e));break;case"2.0.0":this.encode=null!==(h=null==e?void 0:e.encode)&&void 0!==h?h:this.serializer.encode.bind(this.serializer),this.decode=null!==(d=null==e?void 0:e.decode)&&void 0!==d?d:this.serializer.decode.bind(this.serializer);break;default:throw Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if("undefined"!=typeof window&&!window.Worker)throw Error("Web Worker is not supported");this.workerUrl=null==e?void 0:e.workerUrl}}}var er=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown="CommitStateUnknownException"===t.icebergType||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};async function en(e){return e&&"none"!==e.type?"bearer"===e.type?{Authorization:`Bearer ${e.token}`}:"header"===e.type?{[e.name]:e.value}:"custom"===e.type?await e.getHeaders():{}:{}}function ei(e){return e.join("\x1f")}var ea=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){let t=e?{parent:ei(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(e=>({namespace:e}))}async createNamespace(e,t){let r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ei(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ei(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ei(e.namespace)}`}),!0}catch(e){if(e instanceof er&&404===e.status)return!1;throw e}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(e){if(e instanceof er&&409===e.status)return;throw e}}};function es(e){return e.join("\x1f")}var eo=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${es(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){let r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${es(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){let r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${es(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${es(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){let t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${es(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){let t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${es(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(e){if(e instanceof er&&404===e.status)return!1;throw e}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof er&&409===r.status)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},el=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);let r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=function(e){let t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:s}){let o=function(e,t,r){let n=new URL(t,e);if(r)for(let[e,t]of Object.entries(r))void 0!==t&&n.searchParams.set(e,t);return n.toString()}(e.baseUrl,n,i),l=await en(e.auth),u=await t(o,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...l,...s},body:a?JSON.stringify(a):void 0}),c=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),d=h&&c?JSON.parse(c):c;if(!u.ok){let e=h?d:void 0,t=e?.error;throw new er(t?.message??`Request failed with status ${u.status}`,{status:u.status,icebergType:t?.type,icebergCode:t?.code,details:e})}return{status:u.status,headers:u.headers,data:d}}}}({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new ea(this.client,t),this.tableOps=new eo(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},eu=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function ec(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}var eh=class extends eu{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ed=class extends eu{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};let ef=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),ep=()=>Response,em=e=>{if(Array.isArray(e))return e.map(e=>em(e));if("function"==typeof e||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([e,r])=>{t[e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""))]=em(r)}),t},eg=e=>{if("object"!=typeof e||null===e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ey=e=>!(!e||"string"!=typeof e||0===e.length||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\"))&&/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function eb(e){return(eb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ev(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ew(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ev(Object(r),!0).forEach(function(t){!function(e,t,r){var n;(n=function(e,t){if("object"!=eb(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=eb(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==eb(n)?n:n+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ev(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let e_=e=>{var t;return e.msg||e.message||e.error_description||("string"==typeof e.error?e.error:null===(t=e.error)||void 0===t?void 0:t.message)||JSON.stringify(e)},eE=async(e,t,r)=>{e instanceof await ep()&&!(null==r?void 0:r.noResolveJson)?e.json().then(r=>{let n=e.status||500,i=(null==r?void 0:r.statusCode)||n+"";t(new eh(e_(r),n,i))}).catch(e=>{t(new ed(e_(e),e))}):t(new ed(e_(e),e))},eT=(e,t,r,n)=>{let i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"!==e&&n?(eg(n)?(i.headers=ew({"Content-Type":"application/json"},null==t?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,(null==t?void 0:t.duplex)&&(i.duplex=t.duplex),ew(ew({},i),r)):i};async function ex(e,t,r,n,i,a){return new Promise((s,o)=>{e(r,eT(t,n,i,a)).then(e=>{if(!e.ok)throw e;return(null==n?void 0:n.noResolveJson)?e:e.json()}).then(e=>s(e)).catch(e=>eE(e,o,n))})}async function eS(e,t,r,n){return ex(e,"GET",t,r,n)}async function ek(e,t,r,n,i){return ex(e,"POST",t,n,i,r)}async function eO(e,t,r,n,i){return ex(e,"PUT",t,n,i,r)}async function eA(e,t,r,n){return ex(e,"HEAD",t,ew(ew({},r),{},{noResolveJson:!0}),n)}async function eC(e,t,r,n,i){return ex(e,"DELETE",t,n,i,r)}var eD=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){try{return{data:(await this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ec(e))return{data:null,error:e};throw e}}};n=Symbol.toStringTag;var eN=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[n]="BlobDownloadBuilder",this.promise=null}asStream(){return new eD(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){try{return{data:await (await this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ec(e))return{data:null,error:e};throw e}}};let eR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},eI={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var eP=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=ef(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){try{let i;let a=ew(ew({},eI),n),s=ew(ew({},this.headers),"POST"===e&&{"x-upsert":String(a.upsert)}),o=a.metadata;"undefined"!=typeof Blob&&r instanceof Blob?((i=new FormData).append("cacheControl",a.cacheControl),o&&i.append("metadata",this.encodeMetadata(o)),i.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?((i=r).has("cacheControl")||i.append("cacheControl",a.cacheControl),o&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(o))):(i=r,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,o&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(o))),("undefined"!=typeof ReadableStream&&i instanceof ReadableStream||i&&"object"==typeof i&&"pipe"in i&&"function"==typeof i.pipe)&&!a.duplex&&(a.duplex="half")),(null==n?void 0:n.headers)&&(s=ew(ew({},s),n.headers));let l=this._removeEmptyFolders(t),u=this._getFinalPath(l),c=await ("PUT"==e?eO:ek)(this.fetch,`${this.url}/object/${u}`,i,ew({headers:s},(null==a?void 0:a.duplex)?{duplex:a.duplex}:{}));return{data:{path:l,id:c.Id,fullPath:c.Key},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ec(e))return{data:null,error:e};throw e}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){let i=this._removeEmptyFolders(e),a=this._getFinalPath(i),s=new URL(this.url+`/object/upload/sign/${a}`);s.searchParams.set("token",t);try{let e;let t=ew({upsert:eI.upsert},n),a=ew(ew({},this.headers),{"x-upsert":String(t.upsert)});return"undefined"!=typeof Blob&&r instanceof Blob?((e=new FormData).append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(e=r).append("cacheControl",t.cacheControl):(e=r,a["cache-control"]=`max-age=${t.cacheControl}`,a["content-type"]=t.contentType),{data:{path:i,fullPath:(await eO(this.fetch,s.toString(),e,{headers:a})).Key},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ec(e))return{data:null,error:e};throw e}}async createSignedUploadUrl(e,t){try{let r=this._getFinalPath(e),n=ew({},this.headers);(null==t?void 0:t.upsert)&&(n["x-upsert"]="true");let i=await ek(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),a=new URL(this.url+i.url),s=a.searchParams.get("token");if(!s)throw new eu("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:s},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ec(e))return{data:null,error:e};throw e}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){try{return{data:await ek(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ec(e))return{data:null,error:e};throw e}}async copy(e,t,r){try{return{data:{path:(await ek(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ec(e))return{data:null,error:e};throw e}}async createSignedUrl(e,t,r){try{let n=this._getFinalPath(e),i=await ek(this.fetch,`${this.url}/object/sign/${n}`,ew({expiresIn:t},(null==r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers}),a=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ec(e))return{data:null,error:e};throw e}}async createSignedUrls(e,t,r){var n=this;try{let i=await ek(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),a=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:i.map(e=>ew(ew({},e),{},{signedUrl:e.signedURL?encodeURI(`${n.url}${e.signedURL}${a}`):null})),error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(ec(e))return{data:null,error:e};throw e}}download(e,t){let r=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",n=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),i=n?`?${n}`:"",a=this._getFinalPath(e);return new eN(()=>eS(this.fetch,`${this.url}/${r}/${a}${i}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}async info(e){let t=this._getFinalPath(e);try{return{data:em(await eS(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers})),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ec(e))return{data:null,error:e};throw e}}async exists(e){let t=this._getFinalPath(e);try{return await eA(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ec(e)&&e instanceof ed){let t=e.originalError;if([400,404].includes(null==t?void 0:t.status))return{data:!1,error:e}}throw e}}getPublicUrl(e,t){let r=this._getFinalPath(e),n=[],i=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==i&&n.push(i);let a=void 0!==(null==t?void 0:t.transform)?"render/image":"object",s=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==s&&n.push(s);let o=n.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${o}`)}}}async remove(e){try{return{data:await eC(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ec(e))return{data:null,error:e};throw e}}async list(e,t,r){try{let n=ew(ew(ew({},eR),t),{},{prefix:e||""});return{data:await ek(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ec(e))return{data:null,error:e};throw e}}async listV2(e,t){try{let r=ew({},e);return{data:await ek(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ec(e))return{data:null,error:e};throw e}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};let eL="2.90.1",ej={"X-Client-Info":`storage-js/${eL}`};var eM=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;let i=new URL(e);(null==n?void 0:n.useNewHostname)&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=ew(ew({},ej),t),this.fetch=ef(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){try{let t=this.listBucketOptionsToQueryString(e);return{data:await eS(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ec(e))return{data:null,error:e};throw e}}async getBucket(e){try{return{data:await eS(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ec(e))return{data:null,error:e};throw e}}async createBucket(e,t={public:!1}){try{return{data:await ek(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ec(e))return{data:null,error:e};throw e}}async updateBucket(e,t){try{return{data:await eO(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ec(e))return{data:null,error:e};throw e}}async emptyBucket(e){try{return{data:await ek(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ec(e))return{data:null,error:e};throw e}}async deleteBucket(e){try{return{data:await eC(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ec(e))return{data:null,error:e};throw e}}listBucketOptionsToQueryString(e){let t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},eU=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ew(ew({},ej),t),this.fetch=ef(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){try{return{data:await ek(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ec(e))return{data:null,error:e};throw e}}async listBuckets(e){try{let t=new URLSearchParams;(null==e?void 0:e.limit)!==void 0&&t.set("limit",e.limit.toString()),(null==e?void 0:e.offset)!==void 0&&t.set("offset",e.offset.toString()),(null==e?void 0:e.sortColumn)&&t.set("sortColumn",e.sortColumn),(null==e?void 0:e.sortOrder)&&t.set("sortOrder",e.sortOrder),(null==e?void 0:e.search)&&t.set("search",e.search);let r=t.toString(),n=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:await eS(this.fetch,n,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ec(e))return{data:null,error:e};throw e}}async deleteBucket(e){try{return{data:await eC(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ec(e))return{data:null,error:e};throw e}}from(e){var t=this;if(!ey(e))throw new eu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let r=new el({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(e,t){let r=e[t];return"function"!=typeof r?r:async(...t)=>{try{return{data:await r.apply(e,t),error:null}}catch(e){if(n)throw e;return{data:null,error:e}}}}})}};let eB={"X-Client-Info":`storage-js/${eL}`,"Content-Type":"application/json"};var ez=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function eq(e){return"object"==typeof e&&null!==e&&"__isStorageVectorsError"in e}var e$=class extends ez{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},eF=class extends ez{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};let eH=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),eV=e=>{if("object"!=typeof e||null===e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},eG=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),eW=async(e,t,r)=>{if(e&&"object"==typeof e&&"status"in e&&"ok"in e&&"number"==typeof e.status&&!(null==r?void 0:r.noResolveJson)){let r=e.status||500;"function"==typeof e.json?e.json().then(e=>{let n=(null==e?void 0:e.statusCode)||(null==e?void 0:e.code)||r+"";t(new e$(eG(e),r,n))}).catch(()=>{t(new e$(e.statusText||`HTTP ${r} error`,r,r+""))}):t(new e$(e.statusText||`HTTP ${r} error`,r,r+""))}else t(new eF(eG(e),e))},eY=(e,t,r,n)=>{let i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"!==e&&n?(eV(n)?(i.headers=ew({"Content-Type":"application/json"},null==t?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,ew(ew({},i),r)):i};async function eK(e,t,r,n,i,a){return new Promise((s,o)=>{e(r,eY(t,n,i,a)).then(e=>{if(!e.ok)throw e;if(null==n?void 0:n.noResolveJson)return e;let t=e.headers.get("content-type");return t&&t.includes("application/json")?e.json():{}}).then(e=>s(e)).catch(e=>eW(e,o,n))})}async function eX(e,t,r,n,i){return eK(e,"POST",t,n,i,r)}var eZ=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ew(ew({},eB),t),this.fetch=eH(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){try{return{data:await eX(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers})||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(eq(e))return{data:null,error:e};throw e}}async getIndex(e,t){try{return{data:await eX(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(eq(e))return{data:null,error:e};throw e}}async listIndexes(e){try{return{data:await eX(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(eq(e))return{data:null,error:e};throw e}}async deleteIndex(e,t){try{return{data:await eX(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers})||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(eq(e))return{data:null,error:e};throw e}}},eJ=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ew(ew({},eB),t),this.fetch=eH(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){try{if(e.vectors.length<1||e.vectors.length>500)throw Error("Vector batch size must be between 1 and 500 items");return{data:await eX(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers})||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(eq(e))return{data:null,error:e};throw e}}async getVectors(e){try{return{data:await eX(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(eq(e))return{data:null,error:e};throw e}}async listVectors(e){try{if(void 0!==e.segmentCount){if(e.segmentCount<1||e.segmentCount>16)throw Error("segmentCount must be between 1 and 16");if(void 0!==e.segmentIndex&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await eX(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(eq(e))return{data:null,error:e};throw e}}async queryVectors(e){try{return{data:await eX(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(eq(e))return{data:null,error:e};throw e}}async deleteVectors(e){try{if(e.keys.length<1||e.keys.length>500)throw Error("Keys batch size must be between 1 and 500 items");return{data:await eX(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers})||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(eq(e))return{data:null,error:e};throw e}}},eQ=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ew(ew({},eB),t),this.fetch=eH(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){try{return{data:await eX(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers})||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(eq(e))return{data:null,error:e};throw e}}async getBucket(e){try{return{data:await eX(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(eq(e))return{data:null,error:e};throw e}}async listBuckets(e={}){try{return{data:await eX(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(eq(e))return{data:null,error:e};throw e}}async deleteBucket(e){try{return{data:await eX(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers})||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(eq(e))return{data:null,error:e};throw e}}},e0=class extends eQ{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new e1(this.url,this.headers,e,this.fetch)}async createBucket(e){return super.createBucket.call(this,e)}async getBucket(e){return super.getBucket.call(this,e)}async listBuckets(e={}){return super.listBuckets.call(this,e)}async deleteBucket(e){return super.deleteBucket.call(this,e)}},e1=class extends eZ{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){return super.createIndex.call(this,ew(ew({},e),{},{vectorBucketName:this.vectorBucketName}))}async listIndexes(e={}){return super.listIndexes.call(this,ew(ew({},e),{},{vectorBucketName:this.vectorBucketName}))}async getIndex(e){return super.getIndex.call(this,this.vectorBucketName,e)}async deleteIndex(e){return super.deleteIndex.call(this,this.vectorBucketName,e)}index(e){return new e2(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},e2=class extends eJ{constructor(e,t,r,n,i){super(e,t,i),this.vectorBucketName=r,this.indexName=n}async putVectors(e){return super.putVectors.call(this,ew(ew({},e),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}async getVectors(e){return super.getVectors.call(this,ew(ew({},e),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}async listVectors(e={}){return super.listVectors.call(this,ew(ew({},e),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}async queryVectors(e){return super.queryVectors.call(this,ew(ew({},e),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}async deleteVectors(e){return super.deleteVectors.call(this,ew(ew({},e),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}},e5=class extends eM{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new eP(this.url,this.headers,e,this.fetch)}get vectors(){return new e0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new eU(this.url+"/iceberg",this.headers,this.fetch)}};let e3="2.90.1",e6={"X-Client-Info":`gotrue-js/${e3}`},e8="X-Supabase-Api-Version",e4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},e9=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class e7 extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function te(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class tt extends e7{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class tr extends e7{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class tn extends e7{constructor(e,t,r,n){super(e,r,n),this.name=t,this.status=r}}class ti extends tn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class ta extends tn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ts extends tn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class to extends tn{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tl extends tn{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tu extends tn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class tc extends tn{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function th(e){return te(e)&&"AuthRetryableFetchError"===e.name}class td extends tn{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class tf extends tn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}let tp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),tm=" 	\n\r=".split(""),tg=(()=>{let e=Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<tm.length;t+=1)e[tm[t].charCodeAt(0)]=-2;for(let t=0;t<tp.length;t+=1)e[tp[t].charCodeAt(0)]=t;return e})();function ty(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;)r(tp[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6;else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;)r(tp[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6}function tb(e,t,r){let n=tg[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else if(-2===n)return;else throw Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}function tv(e){let t=[],r=e=>{t.push(String.fromCodePoint(e))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=e=>{(function(e,t,r){if(0===t.utf8seq){if(e<=127){r(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)==0){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else if(4===t.utf8seq)t.codepoint=7&e;else throw Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}})(e,n,r)};for(let t=0;t<e.length;t+=1)tb(e.charCodeAt(t),i,a);return t.join("")}function tw(e){let t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};for(let t=0;t<e.length;t+=1)tb(e.charCodeAt(t),r,n);return new Uint8Array(t)}function t_(e){let t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};return e.forEach(e=>ty(e,r,n)),ty(null,r,n),t.join("")}let tE=()=>"undefined"!=typeof window&&"undefined"!=typeof document,tT={tested:!1,writable:!1},tx=()=>{if(!tE())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(e){return!1}if(tT.tested)return tT.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),tT.tested=!0,tT.writable=!0}catch(e){tT.tested=!0,tT.writable=!1}return tT.writable},tS=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),tk=e=>"object"==typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json,tO=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},tA=async(e,t)=>{let r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(e){return r}},tC=async(e,t)=>{await e.removeItem(t)};class tD{constructor(){this.promise=new tD.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function tN(e){let t=e.split(".");if(3!==t.length)throw new tf("Invalid JWT structure");for(let e=0;e<t.length;e++)if(!e9.test(t[e]))throw new tf("JWT not in base64url format");return{header:JSON.parse(tv(t[0])),payload:JSON.parse(tv(t[1])),signature:tw(t[2]),raw:{header:t[0],payload:t[1]}}}async function tR(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function tI(e){return("0"+e.toString(16)).substr(-2)}async function tP(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>String.fromCharCode(e)).join("")}async function tL(e){return"undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder?btoa(await tP(e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):(console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e)}async function tj(e,t,r=!1){let n=function(){let e=new Uint32Array(56);if("undefined"==typeof crypto){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length,r="";for(let n=0;n<56;n++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,tI).join("")}(),i=n;r&&(i+="/PASSWORD_RECOVERY"),await tO(e,`${t}-code-verifier`,i);let a=await tL(n),s=n===a?"plain":"s256";return[a,s]}tD.promiseConstructor=Promise;let tM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,tU=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function tB(e){if(!tU.test(e))throw Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function tz(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"==typeof t){let e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tq(e){return JSON.parse(JSON.stringify(e))}let t$=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tF=[502,503,504];async function tH(e){var t;let r,n;if(!tk(e))throw new tc(t$(e),0);if(tF.includes(e.status))throw new tc(t$(e),e.status);try{r=await e.json()}catch(e){throw new tr(t$(e),e)}let i=function(e){let t=e.headers.get(e8);if(!t||!t.match(tM))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(e){return null}}(e);if(i&&i.getTime()>=e4["2024-01-01"].timestamp&&"object"==typeof r&&r&&"string"==typeof r.code?n=r.code:"object"==typeof r&&r&&"string"==typeof r.error_code&&(n=r.error_code),n){if("weak_password"===n)throw new td(t$(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===n)throw new ti}else if("object"==typeof r&&r&&"object"==typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new td(t$(r),e.status,r.weak_password.reasons);throw new tt(t$(r),e.status||500,n)}let tV=(e,t,r,n)=>{let i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function tG(e,t,r,n){var i;let a=Object.assign({},null==n?void 0:n.headers);a[e8]||(a[e8]=e4["2024-01-01"].name),(null==n?void 0:n.jwt)&&(a.Authorization=`Bearer ${n.jwt}`);let s=null!==(i=null==n?void 0:n.query)&&void 0!==i?i:{};(null==n?void 0:n.redirectTo)&&(s.redirect_to=n.redirectTo);let o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await tW(e,t,r+o,{headers:a,noResolveJson:null==n?void 0:n.noResolveJson},{},null==n?void 0:n.body);return(null==n?void 0:n.xform)?null==n?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function tW(e,t,r,n,i,a){let s;let o=tV(t,n,i,a);try{s=await e(r,Object.assign({},o))}catch(e){throw console.error(e),new tc(t$(e),0)}if(s.ok||await tH(s),null==n?void 0:n.noResolveJson)return s;try{return await s.json()}catch(e){await tH(e)}}function tY(e){var t,r;let n=null;return e.access_token&&e.refresh_token&&e.expires_in&&(n=Object.assign({},e),!e.expires_at)&&(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)),{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function tK(e){let t=tY(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function tX(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function tZ(e){return{data:e,error:null}}function tJ(e){let{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e;return{data:{properties:{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},user:Object.assign({},w(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]))},error:null}}function tQ(e){return e}let t0=["global","local","others"];class t1{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=tS(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=t0[0]){if(0>t0.indexOf(t))throw Error(`@supabase/auth-js: Parameter scope must be one of ${t0.join(", ")}`);try{return await tG(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(e){if(te(e))return{data:null,error:e};throw e}}async inviteUserByEmail(e,t={}){try{return await tG(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:tX})}catch(e){if(te(e))return{data:{user:null},error:e};throw e}}async generateLink(e){try{let{options:t}=e,r=w(e,["options"]),n=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(n.new_email=null==r?void 0:r.newEmail,delete n.newEmail),await tG(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:tJ,redirectTo:null==t?void 0:t.redirectTo})}catch(e){if(te(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(e){try{return await tG(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:tX})}catch(e){if(te(e))return{data:{user:null},error:e};throw e}}async listUsers(e){var t,r,n,i,a,s,o;try{let l={nextPage:null,lastPage:0,total:0},u=await tG(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(i=null===(n=null==e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==i?i:""},xform:tQ});if(u.error)throw u.error;let c=await u.json(),h=null!==(a=u.headers.get("x-total-count"))&&void 0!==a?a:0,d=null!==(o=null===(s=u.headers.get("link"))||void 0===s?void 0:s.split(","))&&void 0!==o?o:[];return d.length>0&&(d.forEach(e=>{let t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},c),l),error:null}}catch(e){if(te(e))return{data:{users:[]},error:e};throw e}}async getUserById(e){tB(e);try{return await tG(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:tX})}catch(e){if(te(e))return{data:{user:null},error:e};throw e}}async updateUserById(e,t){tB(e);try{return await tG(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:tX})}catch(e){if(te(e))return{data:{user:null},error:e};throw e}}async deleteUser(e,t=!1){tB(e);try{return await tG(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:tX})}catch(e){if(te(e))return{data:{user:null},error:e};throw e}}async _listFactors(e){tB(e.userId);try{let{data:t,error:r}=await tG(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(e){if(te(e))return{data:null,error:e};throw e}}async _deleteFactor(e){tB(e.userId),tB(e.id);try{return{data:await tG(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(e){if(te(e))return{data:null,error:e};throw e}}async _listOAuthClients(e){var t,r,n,i,a,s,o;try{let l={nextPage:null,lastPage:0,total:0},u=await tG(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(i=null===(n=null==e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==i?i:""},xform:tQ});if(u.error)throw u.error;let c=await u.json(),h=null!==(a=u.headers.get("x-total-count"))&&void 0!==a?a:0,d=null!==(o=null===(s=u.headers.get("link"))||void 0===s?void 0:s.split(","))&&void 0!==o?o:[];return d.length>0&&(d.forEach(e=>{let t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},c),l),error:null}}catch(e){if(te(e))return{data:{clients:[]},error:e};throw e}}async _createOAuthClient(e){try{return await tG(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(te(e))return{data:null,error:e};throw e}}async _getOAuthClient(e){try{return await tG(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(te(e))return{data:null,error:e};throw e}}async _updateOAuthClient(e,t){try{return await tG(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(te(e))return{data:null,error:e};throw e}}async _deleteOAuthClient(e){try{return await tG(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(e){if(te(e))return{data:null,error:e};throw e}}async _regenerateOAuthClientSecret(e){try{return await tG(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(te(e))return{data:null,error:e};throw e}}}function t2(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}let t5={debug:!!(globalThis&&tx()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class t3 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class t6 extends t3{}async function t8(e,t,r){t5.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),t5.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async n=>{if(n){t5.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{t5.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(0===t)throw t5.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new t6(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(t5.debug)try{let e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(e){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",e)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function t4(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}class t9 extends Error{constructor({message:e,code:t,cause:r,name:n}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=null!==(i=null!=n?n:r instanceof Error?r.name:void 0)&&void 0!==i?i:"Unknown Error",this.code=t}}class t7 extends t9{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}class re{createNewAbortSignal(){if(this.controller){let e=Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}let rt=new re;function rr(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function rn(){var e,t;return!!(tE()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null===(e=null==navigator?void 0:navigator.credentials)||void 0===e?void 0:e.create)&&"function"==typeof(null===(t=null==navigator?void 0:navigator.credentials)||void 0===t?void 0:t.get))}async function ri(e){try{let t=await navigator.credentials.create(e);if(!t)return{data:null,error:new t7("Empty credential response",t)};if(!(t instanceof PublicKeyCredential))return{data:null,error:new t7("Browser returned unexpected credential type",t)};return{data:t,error:null}}catch(t){return{data:null,error:function({error:e,options:t}){var r,n,i;let{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new t9({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("ConstraintError"===e.name){if((null===(r=a.authenticatorSelection)||void 0===r?void 0:r.requireResidentKey)===!0)return new t9({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if("conditional"===t.mediation&&(null===(n=a.authenticatorSelection)||void 0===n?void 0:n.userVerification)==="required")return new t9({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if((null===(i=a.authenticatorSelection)||void 0===i?void 0:i.userVerification)==="required")return new t9({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else if("InvalidStateError"===e.name)return new t9({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});else if("NotAllowedError"===e.name)return new t9({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});else if("NotSupportedError"===e.name)return new t9(0===a.pubKeyCredParams.filter(e=>"public-key"===e.type).length?{message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}:{message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});else if("SecurityError"===e.name){let t=window.location.hostname;if(!rr(t))return new t9({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(a.rp.id!==t)return new t9({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("TypeError"===e.name){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new t9({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if("UnknownError"===e.name)return new t9({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e});return new t9({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}({error:t,options:e})}}}async function ra(e){try{let t=await navigator.credentials.get(e);if(!t)return{data:null,error:new t7("Empty credential response",t)};if(!(t instanceof PublicKeyCredential))return{data:null,error:new t7("Browser returned unexpected credential type",t)};return{data:t,error:null}}catch(t){return{data:null,error:function({error:e,options:t}){let{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new t9({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("NotAllowedError"===e.name)return new t9({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});else if("SecurityError"===e.name){let t=window.location.hostname;if(!rr(t))return new t9({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(r.rpId!==t)return new t9({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("UnknownError"===e.name)return new t9({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e});return new t9({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}({error:t,options:e})}}}let rs={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ro={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function rl(...e){let t=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),r=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),n={};for(let i of e)if(i)for(let e in i){let a=i[e];if(void 0!==a){if(Array.isArray(a))n[e]=a;else if(r(a))n[e]=a;else if(t(a)){let r=n[e];t(r)?n[e]=rl(r,a):n[e]=rl(a)}else n[e]=a}}return n}class ru{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:n},i){try{var a,s,o,l;let{data:u,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!u)return{data:null,error:c};let h=null!=n?n:rt.createNewAbortSignal();if("create"===u.webauthn.type){let{user:e}=u.webauthn.credential_options.publicKey;e.name||(e.name=`${e.id}:${r}`),e.displayName||(e.displayName=e.name)}switch(u.webauthn.type){case"create":{let t=(a=u.webauthn.credential_options.publicKey,s=null==i?void 0:i.create,rl(rs,a,s||{})),{data:r,error:n}=await ri({publicKey:t,signal:h});if(r)return{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:r}},error:null};return{data:null,error:n}}case"request":{let t=(o=u.webauthn.credential_options.publicKey,l=null==i?void 0:i.request,rl(ro,o,l||{})),{data:r,error:n}=await ra(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:t,signal:h}));if(r)return{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:r}},error:null};return{data:null,error:n}}}}catch(e){if(te(e))return{data:null,error:e};return{data:null,error:new tr("Unexpected error in challenge",e)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t="undefined"!=typeof window?window.location.hostname:void 0,rpOrigins:r="undefined"!=typeof window?[window.location.origin]:void 0,signal:n}={}},i){if(!t)return{data:null,error:new e7("rpId is required for WebAuthn authentication")};try{if(!rn())return{data:null,error:new tr("Browser does not support WebAuthn",null)};let{data:a,error:s}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:n},{request:i});if(!a)return{data:null,error:s};let{webauthn:o}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:o.type,rpId:t,rpOrigins:r,credential_response:o.credential_response}})}catch(e){if(te(e))return{data:null,error:e};return{data:null,error:new tr("Unexpected error in authenticate",e)}}}async _register({friendlyName:e,webauthn:{rpId:t="undefined"!=typeof window?window.location.hostname:void 0,rpOrigins:r="undefined"!=typeof window?[window.location.origin]:void 0,signal:n}={}},i){if(!t)return{data:null,error:new e7("rpId is required for WebAuthn registration")};try{if(!rn())return{data:null,error:new tr("Browser does not support WebAuthn",null)};let{data:a,error:s}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(t=>{var r;return null===(r=t.data)||void 0===r?void 0:r.all.find(t=>"webauthn"===t.factor_type&&t.friendly_name===e&&"unverified"!==t.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null==e?void 0:e.id}):void 0),{data:null,error:s};let{data:o,error:l}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:n},{create:i});if(!o)return{data:null,error:l};return this._verify({factorId:a.id,challengeId:o.challengeId,webauthn:{rpId:t,rpOrigins:r,type:o.webauthn.type,credential_response:o.webauthn.credential_response}})}catch(e){if(te(e))return{data:null,error:e};return{data:null,error:new tr("Unexpected error in register",e)}}}}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();let rc={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:e6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function rh(e,t,r){return await r()}let rd={};class rf{get jwks(){var e,t;return null!==(t=null===(e=rd[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){rd[this.storageKey]=Object.assign(Object.assign({},rd[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=rd[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){rd[this.storageKey]=Object.assign(Object.assign({},rd[this.storageKey]),{cachedAt:e})}constructor(e){var t,r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let i=Object.assign(Object.assign({},rc),e);if(this.storageKey=i.storageKey,this.instanceID=null!==(t=rf.nextInstanceID[this.storageKey])&&void 0!==t?t:0,rf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,"function"==typeof i.debug&&(this.logger=i.debug),this.instanceID>0&&tE()){let e=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(e),this.logDebugMessages&&console.trace(e)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new t1({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=tS(i.fetch),this.lock=i.lock||rh,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&tE()&&(null===(r=null==globalThis?void 0:globalThis.navigator)||void 0===r?void 0:r.locks)?this.lock=t8:this.lock=rh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ru(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:tx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=t2(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=t2(this.memoryStorage)),tE()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(e){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",e)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${e3}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t={},r="none";if(tE()&&(t=function(e){let t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(e){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}(window.location.href),this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce")),tE()&&this.detectSessionInUrl&&"none"!==r){let{data:n,error:i}=await this._getSessionFromURL(t,r);if(i)return this._debug("#_initialize()","error detecting session from URL",i),te(i)&&"AuthImplicitGrantRedirectError"===i.name&&(null===(e=i.details)||void 0===e||e.code),{error:i};let{session:a,redirectType:s}=n;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{"recovery"===s?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){if(te(e))return this._returnResult({error:e});return this._returnResult({error:new tr("Unexpected error during initialization",e)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,n;try{let{data:i,error:a}=await tG(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(r=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(n=null==e?void 0:e.options)||void 0===n?void 0:n.captchaToken}},xform:tY});if(a||!i)return this._returnResult({data:{user:null,session:null},error:a});let s=i.session,o=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",s)),this._returnResult({data:{user:o,session:s},error:null})}catch(e){if(te(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signUp(e){var t,r,n;try{let i;if("email"in e){let{email:r,password:n,options:a}=e,s=null,o=null;"pkce"===this.flowType&&([s,o]=await tj(this.storage,this.storageKey)),i=await tG(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==a?void 0:a.emailRedirectTo,body:{email:r,password:n,data:null!==(t=null==a?void 0:a.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken},code_challenge:s,code_challenge_method:o},xform:tY})}else if("phone"in e){let{phone:t,password:a,options:s}=e;i=await tG(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:a,data:null!==(r=null==s?void 0:s.data)&&void 0!==r?r:{},channel:null!==(n=null==s?void 0:s.channel)&&void 0!==n?n:"sms",gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:tY})}else throw new ts("You must provide either an email or phone number and a password");let{data:a,error:s}=i;if(s||!a)return await tC(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});let o=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(e){if(await tC(this.storage,`${this.storageKey}-code-verifier`),te(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithPassword(e){try{let t;if("email"in e){let{email:r,password:n,options:i}=e;t=await tG(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:tK})}else if("phone"in e){let{phone:r,password:n,options:i}=e;t=await tG(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:tK})}else throw new ts("You must provide either an email or phone number and a password");let{data:r,error:n}=t;if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!r||!r.session||!r.user){let e=new ta;return this._returnResult({data:{user:null,session:null},error:e})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(e){if(te(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithOAuth(e){var t,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:null===(i=e.options)||void 0===i?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){let{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,r,n,i,a,s,o,l,u,c,h,d;let f,p;if("message"in e)f=e.message,p=e.signature;else{let c;let{chain:h,wallet:m,statement:g,options:y}=e;if(tE()){if("object"==typeof m)c=m;else{let e=window;if("ethereum"in e&&"object"==typeof e.ethereum&&"request"in e.ethereum&&"function"==typeof e.ethereum.request)c=e.ethereum;else throw Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}}else{if("object"!=typeof m||!(null==y?void 0:y.url))throw Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");c=m}let b=new URL(null!==(t=null==y?void 0:y.url)&&void 0!==t?t:window.location.href),v=await c.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!v||0===v.length)throw Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let w=t4(v[0]),_=null===(r=null==y?void 0:y.signInWithEthereum)||void 0===r?void 0:r.chainId;_||(_=parseInt(await c.request({method:"eth_chainId"}),16)),f=function(e){var t;let{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:o,requestId:l,resources:u,scheme:c,uri:h,version:d}=e;if(!Number.isInteger(r))throw Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!h)throw Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==d)throw Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(null===(t=e.statement)||void 0===t?void 0:t.includes("\n"))throw Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`);let f=t4(e.address),p=c?`${c}://${n}`:n,m=e.statement?`${e.statement}
`:"",g=`${p} wants you to sign in with your Ethereum account:
${f}

${m}`,y=`URI: ${h}
Version: ${d}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),o&&(y+=`
Not Before: ${o.toISOString()}`),l&&(y+=`
Request ID: ${l}`),u){let e="\nResources:";for(let t of u){if(!t||"string"!=typeof t)throw Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${t}`);e+=`
- ${t}`}y+=e}return`${g}
${y}`}({domain:b.host,address:w,statement:g,uri:b.href,version:"1",chainId:_,nonce:null===(n=null==y?void 0:y.signInWithEthereum)||void 0===n?void 0:n.nonce,issuedAt:null!==(a=null===(i=null==y?void 0:y.signInWithEthereum)||void 0===i?void 0:i.issuedAt)&&void 0!==a?a:new Date,expirationTime:null===(s=null==y?void 0:y.signInWithEthereum)||void 0===s?void 0:s.expirationTime,notBefore:null===(o=null==y?void 0:y.signInWithEthereum)||void 0===o?void 0:o.notBefore,requestId:null===(l=null==y?void 0:y.signInWithEthereum)||void 0===l?void 0:l.requestId,resources:null===(u=null==y?void 0:y.signInWithEthereum)||void 0===u?void 0:u.resources}),p=await c.request({method:"personal_sign",params:[(d=f,"0x"+Array.from(new TextEncoder().encode(d),e=>e.toString(16).padStart(2,"0")).join("")),w]})}try{let{data:t,error:r}=await tG(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:p},(null===(c=e.options)||void 0===c?void 0:c.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:tY});if(r)throw r;if(!t||!t.session||!t.user){let e=new ta;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:r})}catch(e){if(te(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithSolana(e){var t,r,n,i,a,s,o,l,u,c,h,d;let f,p;if("message"in e)f=e.message,p=e.signature;else{let h;let{chain:d,wallet:m,statement:g,options:y}=e;if(tE()){if("object"==typeof m)h=m;else{let e=window;if("solana"in e&&"object"==typeof e.solana&&("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))h=e.solana;else throw Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}}else{if("object"!=typeof m||!(null==y?void 0:y.url))throw Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");h=m}let b=new URL(null!==(t=null==y?void 0:y.url)&&void 0!==t?t:window.location.href);if("signIn"in h&&h.signIn){let e;let t=await h.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},null==y?void 0:y.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),g?{statement:g}:null));if(Array.isArray(t)&&t[0]&&"object"==typeof t[0])e=t[0];else if(t&&"object"==typeof t&&"signedMessage"in t&&"signature"in t)e=t;else throw Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in e&&"signature"in e&&("string"==typeof e.signedMessage||e.signedMessage instanceof Uint8Array)&&e.signature instanceof Uint8Array)f="string"==typeof e.signedMessage?e.signedMessage:new TextDecoder().decode(e.signedMessage),p=e.signature;else throw Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in h)||"function"!=typeof h.signMessage||!("publicKey"in h)||"object"!=typeof h||!h.publicKey||!("toBase58"in h.publicKey)||"function"!=typeof h.publicKey.toBase58)throw Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=[`${b.host} wants you to sign in with your Solana account:`,h.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${null!==(n=null===(r=null==y?void 0:y.signInWithSolana)||void 0===r?void 0:r.issuedAt)&&void 0!==n?n:new Date().toISOString()}`,...(null===(i=null==y?void 0:y.signInWithSolana)||void 0===i?void 0:i.notBefore)?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...(null===(a=null==y?void 0:y.signInWithSolana)||void 0===a?void 0:a.expirationTime)?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...(null===(s=null==y?void 0:y.signInWithSolana)||void 0===s?void 0:s.chainId)?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...(null===(o=null==y?void 0:y.signInWithSolana)||void 0===o?void 0:o.nonce)?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...(null===(l=null==y?void 0:y.signInWithSolana)||void 0===l?void 0:l.requestId)?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...(null===(c=null===(u=null==y?void 0:y.signInWithSolana)||void 0===u?void 0:u.resources)||void 0===c?void 0:c.length)?["Resources",...y.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");let e=await h.signMessage(new TextEncoder().encode(f),"utf8");if(!e||!(e instanceof Uint8Array))throw Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{let{data:t,error:r}=await tG(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:t_(p)},(null===(h=e.options)||void 0===h?void 0:h.captchaToken)?{gotrue_meta_security:{captcha_token:null===(d=e.options)||void 0===d?void 0:d.captchaToken}}:null),xform:tY});if(r)throw r;if(!t||!t.session||!t.user){let e=new ta;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:r})}catch(e){if(te(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async _exchangeCodeForSession(e){let t=await tA(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(null!=t?t:"").split("/");try{if(!r&&"pkce"===this.flowType)throw new tu;let{data:t,error:i}=await tG(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:tY});if(await tC(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!t||!t.session||!t.user){let e=new ta;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign(Object.assign({},t),{redirectType:null!=n?n:null}),error:i})}catch(e){if(await tC(this.storage,`${this.storageKey}-code-verifier`),te(e))return this._returnResult({data:{user:null,session:null,redirectType:null},error:e});throw e}}async signInWithIdToken(e){try{let{options:t,provider:r,token:n,access_token:i,nonce:a}=e,{data:s,error:o}=await tG(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:tY});if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){let e=new ta;return this._returnResult({data:{user:null,session:null},error:e})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:s,error:o})}catch(e){if(te(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithOtp(e){var t,r,n,i,a;try{if("email"in e){let{email:n,options:i}=e,a=null,s=null;"pkce"===this.flowType&&([a,s]=await tj(this.storage,this.storageKey));let{error:o}=await tG(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:n,data:null!==(t=null==i?void 0:i.data)&&void 0!==t?t:{},create_user:null===(r=null==i?void 0:i.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:a,code_challenge_method:s},redirectTo:null==i?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}if("phone"in e){let{phone:t,options:r}=e,{data:s,error:o}=await tG(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(n=null==r?void 0:r.data)&&void 0!==n?n:{},create_user:null===(i=null==r?void 0:r.shouldCreateUser)||void 0===i||i,gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},channel:null!==(a=null==r?void 0:r.channel)&&void 0!==a?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null==s?void 0:s.message_id},error:o})}throw new ts("You must provide either an email or phone number.")}catch(e){if(await tC(this.storage,`${this.storageKey}-code-verifier`),te(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async verifyOtp(e){var t,r;try{let n,i;"options"in e&&(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo,i=null===(r=e.options)||void 0===r?void 0:r.captchaToken);let{data:a,error:s}=await tG(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:tY});if(s)throw s;if(!a)throw Error("An error occurred on token verification.");let o=a.session,l=a.user;return(null==o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(e){if(te(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithSSO(e){var t,r,n,i,a;try{let s=null,o=null;"pkce"===this.flowType&&([s,o]=await tj(this.storage,this.storageKey));let l=await tG(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(n=null==e?void 0:e.options)||void 0===n?void 0:n.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:tZ});return(null===(i=l.data)||void 0===i?void 0:i.url)&&tE()&&!(null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(e){if(await tC(this.storage,`${this.storageKey}-code-verifier`),te(e))return this._returnResult({data:null,error:e});throw e}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new ti;let{error:n}=await tG(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:n})})}catch(e){if(te(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{let t=`${this.url}/resend`;if("email"in e){let{email:r,type:n,options:i}=e,{error:a}=await tG(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},redirectTo:null==i?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}if("phone"in e){let{phone:r,type:n,options:i}=e,{data:a,error:s}=await tG(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null==a?void 0:a.message_id},error:s})}throw new ts("You must provide either an email or phone number and a type")}catch(e){if(te(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(e){}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(e){}})()),await e;this.pendingInLock.length;){let e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{let t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",Error().stack);try{let t=null,r=await tA(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),null!==r&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};let n=!!t.expires_at&&1e3*t.expires_at-Date.now()<9e4;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){let e=await tA(this.userStorage,this.storageKey+"-user");(null==e?void 0:e.user)?t.user=e.user:t.user=tz()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){var e;let r={value:this.suppressGetSessionWarning};t.user=(e=t.user,new Proxy(e,{get:(e,t,n)=>{if("__isInsecureUserWarningProxy"===t)return!0;if("symbol"==typeof t){let r=t.toString();if("Symbol(Symbol.toPrimitive)"===r||"Symbol(Symbol.toStringTag)"===r||"Symbol(util.inspect.custom)"===r||"Symbol(nodejs.util.inspect.custom)"===r)return Reflect.get(e,t,n)}return r.value||"string"!=typeof t||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(e,t,n)}})),r.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}let{data:i,error:a}=await this._callRefreshToken(t.refresh_token);if(a)return this._returnResult({data:{session:null},error:a});return this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;let t=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{if(e)return await tG(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:tX});return await this._useSession(async e=>{var t,r,n;let{data:i,error:a}=e;if(a)throw a;return(null===(t=i.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await tG(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(n=null===(r=i.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0,xform:tX}):{data:{user:null},error:new ti}})}catch(e){if(te(e))return te(e)&&"AuthSessionMissingError"===e.name&&(await this._removeSession(),await tC(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:e});throw e}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{let{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new ti;let a=n.session,s=null,o=null;"pkce"===this.flowType&&null!=e.email&&([s,o]=await tj(this.storage,this.storageKey));let{data:l,error:u}=await tG(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:o}),jwt:a.access_token,xform:tX});if(u)throw u;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(e){if(await tC(this.storage,`${this.storageKey}-code-verifier`),te(e))return this._returnResult({data:{user:null},error:e});throw e}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ti;let t=Date.now()/1e3,r=t,n=!0,i=null,{payload:a}=tN(e.access_token);if(a.exp&&(n=(r=a.exp)<=t),n){let{data:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!t)return{data:{user:null,session:null},error:null};i=t}else{let{data:n,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:n.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(e){if(te(e))return this._returnResult({data:{session:null,user:null},error:e});throw e}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){let{data:n,error:i}=t;if(i)throw i;e=null!==(r=n.session)&&void 0!==r?r:void 0}if(!(null==e?void 0:e.refresh_token))throw new ti;let{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(e){if(te(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async _getSessionFromURL(e,t){try{if(!tE())throw new to("No browser detected.");if(e.error||e.error_description||e.error_code)throw new to(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new tl("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new to("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new tl("No code detected.");let{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;let n=new URL(window.location.href);return n.searchParams.delete("code"),window.history.replaceState(window.history.state,"",n.toString()),{data:{session:t.session,redirectType:null},error:null}}let{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:a,expires_in:s,expires_at:o,token_type:l}=e;if(!i||!s||!a||!l)throw new to("No session defined in URL");let u=Math.round(Date.now()/1e3),c=parseInt(s),h=u+c;o&&(h=parseInt(o));let d=h-u;1e3*d<=3e4&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${c}s`);let f=h-c;u-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,h,u):u-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,h,u);let{data:p,error:m}=await this._getUser(i);if(m)throw m;let g={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:c,expires_at:h,refresh_token:a,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(e){if(te(e))return this._returnResult({data:{session:null,redirectType:null},error:e});throw e}}_isImplicitGrantCallback(e){return"function"==typeof this.detectSessionInUrl?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){let t=await tA(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;let{data:n,error:i}=t;if(i)return this._returnResult({error:i});let a=null===(r=n.session)||void 0===r?void 0:r.access_token;if(a){let{error:t}=await this.admin.signOut(a,e);if(t&&!(te(t)&&"AuthApiError"===t.name&&(404===t.status||401===t.status||403===t.status)))return this._returnResult({error:t})}return"others"!==e&&(await this._removeSession(),await tC(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){let t=Symbol("auth-callback"),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,n;try{let{data:{session:n},error:i}=t;if(i)throw i;await (null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(t){await (null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",t),console.error(t)}})}async resetPasswordForEmail(e,t={}){let r=null,n=null;"pkce"===this.flowType&&([r,n]=await tj(this.storage,this.storageKey,!0));try{return await tG(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(e){if(await tC(this.storage,`${this.storageKey}-code-verifier`),te(e))return this._returnResult({data:null,error:e});throw e}}async getUserIdentities(){var e;try{let{data:t,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null})}catch(e){if(te(e))return this._returnResult({data:null,error:e});throw e}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{let{data:r,error:n}=await this._useSession(async t=>{var r,n,i,a,s;let{data:o,error:l}=t;if(l)throw l;let u=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(i=e.options)||void 0===i?void 0:i.queryParams,skipBrowserRedirect:!0});return await tG(this.fetch,"GET",u,{headers:this.headers,jwt:null!==(s=null===(a=o.session)||void 0===a?void 0:a.access_token)&&void 0!==s?s:void 0})});if(n)throw n;return!tE()||(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)||window.location.assign(null==r?void 0:r.url),this._returnResult({data:{provider:e.provider,url:null==r?void 0:r.url},error:null})}catch(t){if(te(t))return this._returnResult({data:{provider:e.provider,url:null},error:t});throw t}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{let{error:n,data:{session:i}}=t;if(n)throw n;let{options:a,provider:s,token:o,access_token:l,nonce:u}=e,{data:c,error:h}=await tG(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:null!==(r=null==i?void 0:i.access_token)&&void 0!==r?r:void 0,body:{provider:s,id_token:o,access_token:l,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:tY});if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!c||!c.session||!c.user)return this._returnResult({data:{user:null,session:null},error:new ta});return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("USER_UPDATED",c.session)),this._returnResult({data:c,error:h})}catch(e){if(await tC(this.storage,`${this.storageKey}-code-verifier`),te(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,n;let{data:i,error:a}=t;if(a)throw a;return await tG(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(n=null===(r=i.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0})})}catch(e){if(te(e))return this._returnResult({data:null,error:e});throw e}}async _refreshAccessToken(e){let t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{var r,n;let i=Date.now();return await (r=async r=>(r>0&&await tR(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await tG(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:tY})),n=(e,t)=>t&&th(t)&&Date.now()+200*Math.pow(2,e)-i<3e4,new Promise((e,t)=>{(async()=>{for(let i=0;i<1/0;i++)try{let t=await r(i);if(!n(i,null,t)){e(t);return}}catch(e){if(!n(i,e)){t(e);return}}})()}))}catch(e){if(this._debug(t,"error",e),te(e))return this._returnResult({data:{session:null,user:null},error:e});throw e}finally{this._debug(t,"end")}}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){let r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),tE()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let n=await tA(this.storage,this.storageKey);if(n&&this.userStorage){let t=await tA(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!t&&(t={user:n.user},await tO(this.userStorage,this.storageKey+"-user",t)),n.user=null!==(e=null==t?void 0:t.user)&&void 0!==e?e:tz()}else if(n&&!n.user&&!n.user){let e=await tA(this.storage,this.storageKey+"-user");e&&(null==e?void 0:e.user)?(n.user=e.user,await tC(this.storage,this.storageKey+"-user"),await tO(this.storage,this.storageKey,n)):n.user=tz()}if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),null!==n&&await this._removeSession();return}let i=(null!==(t=n.expires_at)&&void 0!==t?t:1/0)*1e3-Date.now()<9e4;if(this._debug(r,`session has${i?"":" not"} expired with margin of 90000s`),i){if(this.autoRefreshToken&&n.refresh_token){let{error:e}=await this._callRefreshToken(n.refresh_token);e&&(console.error(e),th(e)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(n.user&&!0===n.user.__isUserNotAvailableProxy)try{let{data:e,error:t}=await this._getUser(n.access_token);!t&&(null==e?void 0:e.user)?(n.user=e.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(e){console.error("Error getting user data:",e),this._debug(r,"error getting user data, skipping SIGNED_IN notification",e)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(e){this._debug(r,"error",e),console.error(e);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new ti;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new tD;let{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new ti;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);let n={data:t.session,error:null};return this.refreshingDeferred.resolve(n),n}catch(e){if(this._debug(n,"error",e),te(e)){let r={data:null,error:e};return th(e)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(r),r}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(e),e}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t,r=!0){let n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});let n=[],i=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,t)}catch(e){n.push(e)}});if(await Promise.all(i),n.length>0){for(let e=0;e<n.length;e+=1)console.error(n[e]);throw n[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await tC(this.storage,`${this.storageKey}-code-verifier`);let t=Object.assign({},e),r=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!r&&t.user&&await tO(this.userStorage,this.storageKey+"-user",{user:t.user});let e=Object.assign({},t);delete e.user;let n=tq(e);await tO(this.storage,this.storageKey,n)}else{let e=tq(t);await tO(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await tC(this.storage,this.storageKey),await tC(this.storage,this.storageKey+"-code-verifier"),await tC(this.storage,this.storageKey+"-user"),this.userStorage&&await tC(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&tE()&&(null==window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),3e4);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e);let t=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=t,t&&"object"==typeof t&&"function"==typeof t.unref?t.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);let t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async t=>{let{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let n=Math.floor((1e3*r.expires_at-e)/3e4);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),n<=3&&await this._callRefreshToken(r.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof t3)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tE()||!(null==window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null==window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){let t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if("visible"!==document.visibilityState){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){let n=[`provider=${encodeURIComponent(t)}`];if((null==r?void 0:r.redirectTo)&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(null==r?void 0:r.scopes)&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===this.flowType){let[e,t]=await tj(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});n.push(r.toString())}if(null==r?void 0:r.queryParams){let e=new URLSearchParams(r.queryParams);n.push(e.toString())}return(null==r?void 0:r.skipBrowserRedirect)&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;let{data:n,error:i}=t;return i?this._returnResult({data:null,error:i}):await tG(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token})})}catch(e){if(te(e))return this._returnResult({data:null,error:e});throw e}}async _enroll(e){try{return await this._useSession(async t=>{var r,n;let{data:i,error:a}=t;if(a)return this._returnResult({data:null,error:a});let s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:o,error:l}=await tG(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:null===(r=null==i?void 0:i.session)||void 0===r?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):("totp"===e.factorType&&"totp"===o.type&&(null===(n=null==o?void 0:o.totp)||void 0===n?void 0:n.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),this._returnResult({data:o,error:null}))})}catch(e){if(te(e))return this._returnResult({data:null,error:e});throw e}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var r,n,i;let{data:a,error:s}=t;if(s)return this._returnResult({data:null,error:s});let o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?(n=e.webauthn.credential_response,"toJSON"in n&&"function"==typeof n.toJSON?n.toJSON():{id:n.id,rawId:n.id,response:{attestationObject:t_(new Uint8Array(n.response.attestationObject)),clientDataJSON:t_(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:null!==(i=n.authenticatorAttachment)&&void 0!==i?i:void 0}):function(e){var t;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();let r=e.getClientExtensionResults(),n=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:t_(new Uint8Array(n.authenticatorData)),clientDataJSON:t_(new Uint8Array(n.clientDataJSON)),signature:t_(new Uint8Array(n.signature)),userHandle:n.userHandle?t_(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:null!==(t=e.authenticatorAttachment)&&void 0!==t?t:void 0}}(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:u}=await tG(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:null===(r=null==a?void 0:a.session)||void 0===r?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(e){if(te(e))return this._returnResult({data:null,error:e});throw e}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var r;let{data:n,error:i}=t;if(i)return this._returnResult({data:null,error:i});let a=await tG(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token});if(a.error)return a;let{data:s}=a;if("webauthn"!==s.type)return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:function(e){if(!e)throw Error("Credential creation options are required");if("undefined"!=typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:t,user:r,excludeCredentials:n}=e,i=w(e,["challenge","user","excludeCredentials"]),a=tw(t).buffer,s=Object.assign(Object.assign({},r),{id:tw(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:a,user:s});if(n&&n.length>0){o.excludeCredentials=Array(n.length);for(let e=0;e<n.length;e++){let t=n[e];o.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:tw(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return o}(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:function(e){if(!e)throw Error("Credential request options are required");if("undefined"!=typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:t,allowCredentials:r}=e,n=w(e,["challenge","allowCredentials"]),i=tw(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=Array(r.length);for(let e=0;e<r.length;e++){let t=r[e];a.allowCredentials[e]=Object.assign(Object.assign({},t),{id:tw(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return a}(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(e){if(te(e))return this._returnResult({data:null,error:e});throw e}})}async _challengeAndVerify(e){let{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;let{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};let n={all:[],phone:[],totp:[],webauthn:[]};for(let r of null!==(e=null==t?void 0:t.factors)&&void 0!==e?e:[])n.all.push(r),"verified"===r.status&&n[r.factor_type].push(r);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;let{data:{session:r},error:n}=await this.getSession();if(n)return this._returnResult({data:null,error:n});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:i}=tN(r.access_token),a=null;i.aal&&(a=i.aal);let s=a;return(null!==(t=null===(e=r.user.factors)||void 0===e?void 0:e.filter(e=>"verified"===e.status))&&void 0!==t?t:[]).length>0&&(s="aal2"),{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:i.amr||[]},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{let{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await tG(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new ti})})}catch(e){if(te(e))return this._returnResult({data:null,error:e});throw e}}async _approveAuthorization(e,t){try{return await this._useSession(async r=>{let{data:{session:n},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new ti});let a=await tG(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"approve"},xform:e=>({data:e,error:null})});return a.data&&a.data.redirect_url&&tE()&&!(null==t?void 0:t.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(e){if(te(e))return this._returnResult({data:null,error:e});throw e}}async _denyAuthorization(e,t){try{return await this._useSession(async r=>{let{data:{session:n},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new ti});let a=await tG(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"deny"},xform:e=>({data:e,error:null})});return a.data&&a.data.redirect_url&&tE()&&!(null==t?void 0:t.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(e){if(te(e))return this._returnResult({data:null,error:e});throw e}}async _listOAuthGrants(){try{return await this._useSession(async e=>{let{data:{session:t},error:r}=e;return r?this._returnResult({data:null,error:r}):t?await tG(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new ti})})}catch(e){if(te(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{let{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?(await tG(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ti})})}catch(e){if(te(e))return this._returnResult({data:null,error:e});throw e}}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(t=>t.kid===e);if(r)return r;let n=Date.now();if((r=this.jwks.keys.find(t=>t.kid===e))&&this.jwks_cached_at+6e5>n)return r;let{data:i,error:a}=await tG(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return i.keys&&0!==i.keys.length&&(this.jwks=i,this.jwks_cached_at=n,r=i.keys.find(t=>t.kid===e))?r:null}async getClaims(e,t={}){try{let r=e;if(!r){let{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});r=e.session.access_token}let{header:n,payload:i,signature:a,raw:{header:s,payload:o}}=tN(r);(null==t?void 0:t.allowExpired)||function(e){if(!e)throw Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw Error("JWT has expired")}(i.exp);let l=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,(null==t?void 0:t.keys)?{keys:t.keys}:null==t?void 0:t.jwks);if(!l){let{error:e}=await this.getUser(r);if(e)throw e;return{data:{claims:i,header:n,signature:a},error:null}}let u=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw Error("Invalid alg claim")}}(n.alg),c=await crypto.subtle.importKey("jwk",l,u,!0,["verify"]);if(!await crypto.subtle.verify(u,c,a,function(e){let t=[];return function(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){let t=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|t)+65536,r+=1}!function(e,t){if(e<=127){t(e);return}if(e<=2047){t(192|e>>6),t(128|63&e);return}if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|63&e);return}if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|63&e);return}throw Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}(n,t)}}(e,e=>t.push(e)),new Uint8Array(t)}(`${s}.${o}`)))throw new tf("Invalid JWT signature");return{data:{claims:i,header:n,signature:a},error:null}}catch(e){if(te(e))return this._returnResult({data:null,error:e});throw e}}}rf.nextInstanceID={};let rp=rf,rm="";"undefined"!=typeof Deno?rm="deno":"undefined"!=typeof document?rm="web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?rm="react-native":rm="node";let rg={headers:{"X-Client-Info":`supabase-js-${rm}/2.90.1`}},ry={schema:"public"},rb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rv={};function rw(e){return(rw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?r_(Object(r),!0).forEach(function(t){!function(e,t,r){var n;(n=function(e,t){if("object"!=rw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=rw(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==rw(n)?n:n+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let rT=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),rx=()=>Headers,rS=(e,t,r)=>{let n=rT(r),i=rx();return async(r,a)=>{var s;let o=null!==(s=await t())&&void 0!==s?s:e,l=new i(null==a?void 0:a.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),n(r,rE(rE({},a),{},{headers:l}))}};var rk=class extends rp{constructor(e){super(e)}},rO=class{constructor(e,t,r){var n,i,a;this.supabaseUrl=e,this.supabaseKey=t;let s=function(e){let t=null==e?void 0:e.trim();if(!t)throw Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t.endsWith("/")?t:t+"/")}catch(e){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}(e);if(!t)throw Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);let o=`sb-${s.hostname.split(".")[0]}-auth-token`,l=function(e,t){var r,n;let{db:i,auth:a,realtime:s,global:o}=e,{db:l,auth:u,realtime:c,global:h}=t,d={db:rE(rE({},l),i),auth:rE(rE({},u),a),realtime:rE(rE({},c),s),storage:{},global:rE(rE(rE({},h),o),{},{headers:rE(rE({},null!==(r=null==h?void 0:h.headers)&&void 0!==r?r:{}),null!==(n=null==o?void 0:o.headers)&&void 0!==n?n:{})}),accessToken:async()=>""};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}(null!=r?r:{},{db:ry,realtime:rv,auth:rE(rE({},rb),{},{storageKey:o}),global:rg});this.storageKey=null!==(n=l.auth.storageKey)&&void 0!==n?n:"",this.headers=null!==(i=l.global.headers)&&void 0!==i?i:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(a=l.auth)&&void 0!==a?a:{},this.headers,l.global.fetch),this.fetch=rS(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(rE({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(e=>this.realtime.setAuth(e)).catch(e=>console.warn("Failed to set initial Realtime auth token:",e)),this.rest=new I(new URL("rest/v1",s).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new e5(this.storageUrl.href,this.headers,this.fetch,null==r?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new k(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();let{data:r}=await this.auth.getSession();return null!==(e=null===(t=r.session)||void 0===t?void 0:t.access_token)&&void 0!==e?e:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:a,flowType:s,lock:o,debug:l,throwOnError:u},c,h){let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rk({url:this.authUrl.href,headers:rE(rE({},d),c),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,flowType:s,lock:o,debug:l,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new et(this.realtimeUrl.href,rE(rE({},e),{},{params:rE(rE({},{apikey:this.supabaseKey}),null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,r){("TOKEN_REFRESHED"===e||"SIGNED_IN"===e)&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0)}};let rA=(e,t,r)=>new rO(e,t,r);(function(){if("undefined"!=typeof window)return!1;let e=globalThis.process;if(!e)return!1;let t=e.version;if(null==t)return!1;let r=t.match(/^v(\d+)\./);return!!r&&18>=parseInt(r[1],10)})()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let rC=require("fs/promises");var rD=r.n(rC),rN=r(1017),rR=r.n(rN),rI=r(4294),rP=r.n(rI),rL=r(574),rj=r.n(rL),rM=r(2893),rU=r.n(rM),rB=r(8362);let rz=rR().join(process.cwd(),"templates","outage_template.docx");async function rq({payload:e,job:t}){let r;try{r=await rD().readFile(rz)}catch(e){throw console.error("DOCX template missing at:",rz),Error("Missing DOCX template at templates/outage_template.docx. See README: DOCX Template Setup.")}let n=null;try{n=await rB.toBuffer(e.map_link,{type:"png",width:120,margin:1})}catch(e){console.warn("Failed to generate QR code, falling back to text.",e)}let i=n?new(rU())({getImage:e=>e,getSize:()=>[120,120]}):null,a={DOC_ISSUE_DATE:e.doc_issue_date,DOC_PURPOSE:e.doc_purpose,DOC_AREA_TITLE:e.doc_area_title,DOC_TIME_START:e.doc_time_start,DOC_TIME_END:e.doc_time_end,DOC_AREA_DETAIL:e.doc_area_detail,MAP_LINK:e.map_link,OUTAGE_DATE:String(t.outage_date??"-"),EQUIPMENT_CODE:String(t.equipment_code??"-")},s=(e,t)=>{let n=new(rP())(r),s=new(rj())(n,{paragraphLoop:!0,linebreaks:!0,modules:e&&i?[i]:[]});return s.render({...a,MAP_QR:t}),s.getZip().generate({type:"nodebuffer"})};if(n)try{return s(!0,n)}catch(e){console.warn("Failed to insert QR image, falling back to text.",e)}return s(!1,e.map_link)}let r$="nodejs",rF=process.env.SUPABASE_URL??"https://yhkrzepnokhiqbxwhkgz.supabase.co",rH=process.env.SUPABASE_SERVICE_ROLE_KEY;function rV(){if(!rF)throw Error("Missing SUPABASE_URL env var.");if(!rH)throw Error("Missing SUPABASE_SERVICE_ROLE_KEY env var.");return rA(rF,rH)}async function rG(e){let t;try{var r;let n=await e.json();if(console.info("Docs create request body:",JSON.stringify(n,null,2)),t=n?.jobId??n?.payload?.jobId??n?.id,console.info("Docs create jobId:",t),!t)return v.NextResponse.json({ok:!1,error:"missing jobId"},{status:400});if(!n?.payload||!((r=n.payload).doc_issue_date&&r.doc_purpose?.trim()&&r.doc_area_title?.trim()&&r.doc_time_start?.trim()&&r.doc_time_end?.trim()&&r.doc_area_detail?.trim()&&r.map_link?.trim()))return v.NextResponse.json({ok:!1,error:""},{status:400});if(!rH)return v.NextResponse.json({ok:!1,error:"Missing SUPABASE_SERVICE_ROLE_KEY env var."},{status:500});let i=rV(),{data:a,error:s}=await i.from("outage_jobs").select("*").eq("id",t).single();if(console.log("Docs create jobError:",s),console.log("Docs create job:",a),s||!a)return v.NextResponse.json({ok:!1,error:"",debug:{jobId:t,jobError:s}},{status:404});let o=n.payload,{error:l}=await i.from("outage_jobs").update({doc_issue_date:o.doc_issue_date,doc_purpose:o.doc_purpose,doc_area_title:o.doc_area_title,doc_time_start:o.doc_time_start,doc_time_end:o.doc_time_end,doc_area_detail:o.doc_area_detail,map_link:o.map_link,doc_status:"GENERATING",doc_url:null,doc_generated_at:null}).eq("id",t);if(l)throw Error(l.message);console.info("DOCX template path:",rz),console.info("DOCX template jobId:",t),console.info("DOCX generation mode: template");try{await rD().access(rz)}catch{let e="Missing DOCX template at templates/outage_template.docx. See README: DOCX Template Setup.";return console.error(e),await i.from("outage_jobs").update({doc_status:"ERROR"}).eq("id",t),v.NextResponse.json({ok:!1,error:e},{status:500})}let u=await rq({payload:o,job:a}),{error:c}=await i.from("outage_jobs").update({doc_status:"GENERATED",doc_url:null,doc_generated_at:new Date().toISOString()}).eq("id",t);if(c)throw Error(c.message);let h=`outage-doc-${a.equipment_code??"JOB"}-${a.outage_date??""}.docx`,d=`-${a.equipment_code??"JOB"}-${a.outage_date??""}.docx`,f=encodeURIComponent(d);return new Response(u,{status:200,headers:{"Content-Type":"application/vnd.openxmlformats-officedocument.wordprocessingml.document","Content-Disposition":`attachment; filename="${h}"; filename*=UTF-8''${f}`}})}catch(e){if(console.error("Doc generation failed",e),t)try{let e=rV();await e.from("outage_jobs").update({doc_status:"ERROR"}).eq("id",t)}catch(e){console.error("Failed to update doc_status to ERROR",e)}return v.NextResponse.json({ok:!1,error:" "},{status:500})}}let rW=new g.AppRouteRouteModule({definition:{kind:y.x.APP_ROUTE,page:"/api/docs/create/route",pathname:"/api/docs/create",filename:"route",bundlePath:"app/api/docs/create/route"},resolvedPagePath:"C:\\Users\\506870\\Desktop\\KB-outage\\src\\app\\api\\docs\\create\\route.ts",nextConfigOutput:"",userland:m}),{requestAsyncStorage:rY,staticGenerationAsyncStorage:rK,serverHooks:rX}=rW,rZ="/api/docs/create/route";function rJ(){return(0,b.patchFetch)({serverHooks:rX,staticGenerationAsyncStorage:rK})}},1209:(e,t)=>{"use strict";function r(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.getOwnPropertyDescriptors&&(e=t.create(null,t.getOwnPropertyDescriptors(e))),t&&"function"==typeof t.freeze?t.freeze(e):e}function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var i=r({allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,formnovalidate:!0,hidden:!0,ismap:!0,itemscope:!0,loop:!0,multiple:!0,muted:!0,nomodule:!0,novalidate:!0,open:!0,playsinline:!0,readonly:!0,required:!0,reversed:!0,selected:!0}),a=r({area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),s=r({script:!1,style:!1,textarea:!0,title:!0});function o(e){return e===l.HTML}var l=r({HTML:"text/html",XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),u=Object.keys(l).map(function(e){return l[e]}),c=r({HTML:"http://www.w3.org/1999/xhtml",SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});t.assign=function(e,t){if(null===e||"object"!=typeof e)throw TypeError("target is not an object");for(var r in t)n(t,r)&&(e[r]=t[r]);return e},t.find=function(e,t,r){if(void 0===r&&(r=Array.prototype),e&&"function"==typeof r.find)return r.find.call(e,t);for(var i=0;i<e.length;i++)if(n(e,i)){var a=e[i];if(t.call(void 0,a,i,e))return a}},t.freeze=r,t.HTML_BOOLEAN_ATTRIBUTES=i,t.HTML_RAW_TEXT_ELEMENTS=s,t.HTML_VOID_ELEMENTS=a,t.hasDefaultHTMLNamespace=function(e){return o(e)||e===l.XML_XHTML_APPLICATION},t.hasOwn=n,t.isHTMLBooleanAttribute=function(e){return n(i,e.toLowerCase())},t.isHTMLRawTextElement=function(e){var t=e.toLowerCase();return n(s,t)&&!s[t]},t.isHTMLEscapableRawTextElement=function(e){var t=e.toLowerCase();return n(s,t)&&s[t]},t.isHTMLMimeType=o,t.isHTMLVoidElement=function(e){return n(a,e.toLowerCase())},t.isValidMimeType=function(e){return u.indexOf(e)>-1},t.MIME_TYPE=l,t.NAMESPACE=c},8176:(e,t,r)=>{"use strict";var n=r(1209),i=r(6268),a=r(1449),s=r(5889),o=r(9326),l=i.DOMImplementation,u=n.hasDefaultHTMLNamespace,c=n.isHTMLMimeType,h=n.isValidMimeType,d=n.MIME_TYPE,f=n.NAMESPACE,p=a.ParseError,m=o.XMLReader;function g(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028\u2029]/g,"\n")}function y(e){if(void 0===(e=e||{}).locator&&(e.locator=!0),this.assign=e.assign||n.assign,this.domHandler=e.domHandler||b,this.onError=e.onError||e.errorHandler,e.errorHandler&&"function"!=typeof e.errorHandler)throw TypeError("errorHandler object is no longer supported, switch to onError!");e.errorHandler&&e.errorHandler("warning","The `errorHandler` option has been deprecated, use `onError` instead!",this),this.normalizeLineEndings=e.normalizeLineEndings||g,this.locator=!!e.locator,this.xmlns=this.assign(Object.create(null),e.xmlns)}function b(e){var t=e||{};this.mimeType=t.mimeType||d.XML_APPLICATION,this.defaultNamespace=t.defaultNamespace||null,this.cdata=!1,this.currentElement=void 0,this.doc=void 0,this.locator=void 0,this.onError=t.onError}function v(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function w(e,t,r){return"string"==typeof e?e.substr(t,r):e.length>=t+r||t?new java.lang.String(e,t,r)+"":e}function _(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}y.prototype.parseFromString=function(e,t){if(!h(t))throw TypeError('DOMParser.parseFromString: the provided mimeType "'+t+'" is not valid.');var r=this.assign(Object.create(null),this.xmlns),i=s.XML_ENTITIES,a=r[""]||null;u(t)?(i=s.HTML_ENTITIES,a=f.HTML):t===d.XML_SVG_IMAGE&&(a=f.SVG),r[""]=a,r.xml=r.xml||f.XML;var o=new this.domHandler({mimeType:t,defaultNamespace:a,onError:this.onError}),l=this.locator?{}:void 0;this.locator&&o.setDocumentLocator(l);var c=new m;return c.errorHandler=o,c.domBuilder=o,n.isHTMLMimeType(t)||"string"==typeof e||c.errorHandler.fatalError("source is not a string"),c.parse(this.normalizeLineEndings(String(e)),r,i),o.doc.documentElement||c.errorHandler.fatalError("missing root element"),o.doc},b.prototype={startDocument:function(){var e=new l;this.doc=c(this.mimeType)?e.createHTMLDocument(!1):e.createDocument(this.defaultNamespace,"")},startElement:function(e,t,r,n){var i=this.doc,a=i.createElementNS(e,r||t),s=n.length;_(this,a),this.currentElement=a,this.locator&&v(this.locator,a);for(var o=0;o<s;o++){var e=n.getURI(o),l=n.getValue(o),r=n.getQName(o),u=i.createAttributeNS(e,r);this.locator&&v(n.getLocator(o),u),u.value=u.nodeValue=l,a.setAttributeNode(u)}},endElement:function(e,t,r){this.currentElement=this.currentElement.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var r=this.doc.createProcessingInstruction(e,t);this.locator&&v(this.locator,r),_(this,r)},ignorableWhitespace:function(e,t,r){},characters:function(e,t,r){if(e=w.apply(this,arguments)){if(this.cdata)var n=this.doc.createCDATASection(e);else var n=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&&this.doc.appendChild(n),this.locator&&v(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){e&&(e.lineNumber=0),this.locator=e},comment:function(e,t,r){e=w.apply(this,arguments);var n=this.doc.createComment(e);this.locator&&v(this.locator,n),_(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,r,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var a=i.createDocumentType(e,t,r,n);this.locator&&v(this.locator,a),_(this,a),this.doc.doctype=a}},reportError:function(e,t){if("function"==typeof this.onError)try{this.onError(e,t,this)}catch(r){throw new p("Reporting "+e+' "'+t+'" caused '+r,this.locator)}else console.error("[xmldom "+e+"]	"+t,function(e){if(e)return"\n@#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}(this.locator))},warning:function(e){this.reportError("warning",e)},error:function(e){this.reportError("error",e)},fatalError:function(e){throw this.reportError("fatalError",e),new p(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){b.prototype[e]=function(){return null}}),t.__DOMHandler=b,t.DOMParser=y,t.normalizeLineEndings=g,t.onErrorStopParsing=function(e){if("error"===e)throw"onErrorStopParsing"},t.onWarningStopParsing=function(){throw"onWarningStopParsing"}},6268:(e,t,r)=>{"use strict";var n=r(1209),i=n.find,a=n.hasDefaultHTMLNamespace,s=n.hasOwn,o=n.isHTMLMimeType,l=n.isHTMLRawTextElement,u=n.isHTMLVoidElement,c=n.MIME_TYPE,h=n.NAMESPACE,d=Symbol(),f=r(1449),p=f.DOMException,m=f.DOMExceptionName,g=r(9170);function y(e){if(e!==d)throw TypeError("Illegal constructor")}function b(e){return""!==e}function v(e,t){return s(e,t)||(e[t]=!0),e}function w(e){return e?Object.keys((e?e.split(/[\t\n\f\r ]+/).filter(b):[]).reduce(v,{})):[]}function _(e){if(!g.QName_exact.test(e))throw new p(p.INVALID_CHARACTER_ERR,'invalid character in qualified name "'+e+'"')}function E(e,t){_(t),e=e||null;var r=null,i=t;if(t.indexOf(":")>=0){var a=t.split(":");r=a[0],i=a[1]}if(null!==r&&null===e)throw new p(p.NAMESPACE_ERR,"prefix is non-null and namespace is null");if("xml"===r&&e!==n.NAMESPACE.XML)throw new p(p.NAMESPACE_ERR,'prefix is "xml" and namespace is not the XML namespace');if(("xmlns"===r||"xmlns"===t)&&e!==n.NAMESPACE.XMLNS)throw new p(p.NAMESPACE_ERR,'either qualifiedName or prefix is "xmlns" and namespace is not the XMLNS namespace');if(e===n.NAMESPACE.XMLNS&&"xmlns"!==r&&"xmlns"!==t)throw new p(p.NAMESPACE_ERR,'namespace is the XMLNS namespace and neither qualifiedName nor prefix is "xmlns"');return[e,r,i]}function T(e,t){for(var r in e)s(e,r)&&(t[r]=e[r])}function x(e,t){var r=e.prototype;if(!(r instanceof t)){function n(){}n.prototype=t.prototype,T(r,n=new n),e.prototype=r=n}r.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),r.constructor=e)}var S={},k=S.ELEMENT_NODE=1,O=S.ATTRIBUTE_NODE=2,A=S.TEXT_NODE=3,C=S.CDATA_SECTION_NODE=4,D=S.ENTITY_REFERENCE_NODE=5,N=S.ENTITY_NODE=6,R=S.PROCESSING_INSTRUCTION_NODE=7,I=S.COMMENT_NODE=8,P=S.DOCUMENT_NODE=9,L=S.DOCUMENT_TYPE_NODE=10,j=S.DOCUMENT_FRAGMENT_NODE=11,M=S.NOTATION_NODE=12,U=n.freeze({DOCUMENT_POSITION_DISCONNECTED:1,DOCUMENT_POSITION_PRECEDING:2,DOCUMENT_POSITION_FOLLOWING:4,DOCUMENT_POSITION_CONTAINS:8,DOCUMENT_POSITION_CONTAINED_BY:16,DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC:32});function B(e){return e.guid||(e.guid=Math.random()),e.guid}function z(){}function q(e,t){this._node=e,this._refresh=t,$(this)}function $(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var r=e._refresh(e._node);if(ex(e,"length",r.length),!e.$$length||r.length<e.$$length)for(var n=r.length;(n in e);n++)s(e,n)&&delete e[n];T(r,e),e._inc=t}}function F(){}function H(e,t){for(var r=0;r<e.length;){if(e[r]===t)return r;r++}}function V(e,t,r){var n=H(t,r);if(n>=0){for(var i=t.length-1;n<=i;)t[n]=t[++n];if(t.length=i,e){var a=e.ownerDocument;a&&Z(a,e,r),r.ownerElement=null}}}function G(){}function W(e){y(e)}function Y(e){return"<"==e&&"&lt;"||">"==e&&"&gt;"||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function K(e,t){if(t(e))return!0;if(e=e.firstChild)do if(K(e,t))return!0;while(e=e.nextSibling)}function X(e,t){y(e),this.ownerDocument=this,this.contentType=(t||{}).contentType||c.XML_APPLICATION,this.type=o(this.contentType)?"html":"xml"}function Z(e,t,r,n){e&&e._inc++,r.namespaceURI===h.XMLNS&&delete t._nsMap[r.prefix?r.localName:""]}function J(e,t,r){if(e&&e._inc){e._inc++;var n=t.childNodes;if(r&&!r.nextSibling)n[n.length++]=r;else{for(var i=t.firstChild,a=0;i;)n[a++]=i,i=i.nextSibling;n.length=a,delete n[n.length]}}}function Q(e,t){if(e!==t.parentNode)throw new p(p.NOT_FOUND_ERR,"child's parent is not parent");var r=t.previousSibling,n=t.nextSibling;return r?r.nextSibling=n:e.firstChild=n,n?n.previousSibling=r:e.lastChild=r,J(e.ownerDocument,e),t.parentNode=null,t.previousSibling=null,t.nextSibling=null,t}function ee(e){return e&&e.nodeType===W.DOCUMENT_TYPE_NODE}function et(e){return e&&e.nodeType===W.ELEMENT_NODE}function er(e){return e&&e.nodeType===W.TEXT_NODE}function en(e,t){var r=e.childNodes||[];if(i(r,et)||ee(t))return!1;var n=i(r,ee);return!(t&&n&&r.indexOf(n)>r.indexOf(t))}function ei(e,t){var r=e.childNodes||[];if(i(r,function(e){return et(e)&&e!==t}))return!1;var n=i(r,ee);return!(t&&n&&r.indexOf(n)>r.indexOf(t))}function ea(e,t,r){var n=e.childNodes||[],a=t.childNodes||[];if(t.nodeType===W.DOCUMENT_FRAGMENT_NODE){var s=a.filter(et);if(s.length>1||i(a,er))throw new p(p.HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(1===s.length&&!ei(e,r))throw new p(p.HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(et(t)&&!ei(e,r))throw new p(p.HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if(ee(t)){if(i(n,function(e){return ee(e)&&e!==r}))throw new p(p.HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");var o=i(n,et);if(r&&n.indexOf(o)<n.indexOf(r))throw new p(p.HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element")}}function es(e,t,r,n){(function(e,t,r){if(!(e&&(e.nodeType===W.DOCUMENT_NODE||e.nodeType===W.DOCUMENT_FRAGMENT_NODE||e.nodeType===W.ELEMENT_NODE)))throw new p(p.HIERARCHY_REQUEST_ERR,"Unexpected parent node type "+e.nodeType);if(r&&r.parentNode!==e)throw new p(p.NOT_FOUND_ERR,"child not in parent");if(!(t&&(t.nodeType===W.CDATA_SECTION_NODE||t.nodeType===W.COMMENT_NODE||t.nodeType===W.DOCUMENT_FRAGMENT_NODE||t.nodeType===W.DOCUMENT_TYPE_NODE||t.nodeType===W.ELEMENT_NODE||t.nodeType===W.PROCESSING_INSTRUCTION_NODE||t.nodeType===W.TEXT_NODE))||ee(t)&&e.nodeType!==W.DOCUMENT_NODE)throw new p(p.HIERARCHY_REQUEST_ERR,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)})(e,t,r),e.nodeType===W.DOCUMENT_NODE&&(n||function(e,t,r){var n=e.childNodes||[],a=t.childNodes||[];if(t.nodeType===W.DOCUMENT_FRAGMENT_NODE){var s=a.filter(et);if(s.length>1||i(a,er))throw new p(p.HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(1===s.length&&!en(e,r))throw new p(p.HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(et(t)&&!en(e,r))throw new p(p.HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if(ee(t)){if(i(n,ee))throw new p(p.HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");var o=i(n,et);if(r&&n.indexOf(o)<n.indexOf(r))throw new p(p.HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element");if(!r&&o)throw new p(p.HIERARCHY_REQUEST_ERR,"Doctype can not be appended since element is present")}})(e,t,r);var a=t.parentNode;if(a&&a.removeChild(t),t.nodeType===j){var s=t.firstChild;if(null==s)return t;var o=t.lastChild}else s=o=t;var l=r?r.previousSibling:e.lastChild;s.previousSibling=l,o.nextSibling=r,l?l.nextSibling=s:e.firstChild=s,null==r?e.lastChild=o:r.previousSibling=o;do s.parentNode=e;while(s!==o&&(s=s.nextSibling));return J(e.ownerDocument||e,e,t),t.nodeType==j&&(t.firstChild=t.lastChild=null),t}function eo(e){y(e),this._nsMap=Object.create(null)}function el(e){y(e),this.namespaceURI=null,this.prefix=null,this.ownerElement=null}function eu(e){y(e)}function ec(e){y(e)}function eh(e){y(e)}function ed(e){y(e)}function ef(e){y(e)}function ep(e){y(e)}function em(e){y(e)}function eg(e){y(e)}function ey(e){y(e)}function eb(e){y(e)}function ev(){}function ew(e){var t=[],r=this.nodeType===P&&this.documentElement||this,n=r.prefix,i=r.namespaceURI;if(i&&null==n){var n=r.lookupPrefix(i);if(null==n)var a=[{namespace:i,prefix:null}]}return eT(this,t,e,a),t.join("")}function e_(e,t,r){var n=e.prefix||"",i=e.namespaceURI;if(!i||"xml"===n&&i===h.XML||i===h.XMLNS)return!1;for(var a=r.length;a--;){var s=r[a];if(s.prefix===n)return s.namespace!==i}return!0}function eE(e,t,r){e.push(" ",t,'="',r.replace(/[<>&"\t\n\r]/g,Y),'"')}function eT(e,t,r,n){n||(n=[]);var i="html"===(e.nodeType===P?e:e.ownerDocument).type;if(r){if(!(e=r(e)))return;if("string"==typeof e){t.push(e);return}}switch(e.nodeType){case k:var a,s=e.attributes,o=s.length,c=e.firstChild,d=e.tagName,f=d;if(!i&&!e.prefix&&e.namespaceURI){for(var p=0;p<s.length;p++)if("xmlns"===s.item(p).name){a=s.item(p).value;break}if(!a)for(var m=n.length-1;m>=0;m--){var y=n[m];if(""===y.prefix&&y.namespace===e.namespaceURI){a=y.namespace;break}}if(a!==e.namespaceURI)for(var m=n.length-1;m>=0;m--){var y=n[m];if(y.namespace===e.namespaceURI){y.prefix&&(f=y.prefix+":"+d);break}}}t.push("<",f);for(var b=0;b<o;b++){var v=s.item(b);"xmlns"==v.prefix?n.push({prefix:v.localName,namespace:v.value}):"xmlns"==v.nodeName&&n.push({prefix:"",namespace:v.value})}for(var b=0;b<o;b++){var v=s.item(b);if(e_(v,i,n)){var w=v.prefix||"",_=v.namespaceURI;eE(t,w?"xmlns:"+w:"xmlns",_),n.push({prefix:w,namespace:_})}eT(v,t,r,n)}if(d===f&&e_(e,i,n)){var w=e.prefix||"",_=e.namespaceURI;eE(t,w?"xmlns:"+w:"xmlns",_),n.push({prefix:w,namespace:_})}var E=!c;if(E&&(i||e.namespaceURI===h.HTML)&&(E=u(d)),E)t.push("/>");else{if(t.push(">"),i&&l(d))for(;c;)c.data?t.push(c.data):eT(c,t,r,n.slice()),c=c.nextSibling;else for(;c;)eT(c,t,r,n.slice()),c=c.nextSibling;t.push("</",f,">")}return;case P:case j:for(var c=e.firstChild;c;)eT(c,t,r,n.slice()),c=c.nextSibling;return;case O:return eE(t,e.name,e.value);case A:return t.push(e.data.replace(/[<&>]/g,Y));case C:return t.push(g.CDATA_START,e.data,g.CDATA_END);case I:return t.push(g.COMMENT_START,e.data,g.COMMENT_END);case L:var T=e.publicId,x=e.systemId;t.push(g.DOCTYPE_DECL_START," ",e.name),T?(t.push(" ",g.PUBLIC," ",T),x&&"."!==x&&t.push(" ",x)):x&&"."!==x&&t.push(" ",g.SYSTEM," ",x),e.internalSubset&&t.push(" [",e.internalSubset,"]"),t.push(">");return;case R:return t.push("<?",e.target," ",e.data,"?>");case D:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ex(e,t,r){e[t]=r}z.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e){for(var t=[],r=0;r<this.length;r++)eT(this[r],t,e);return t.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},z.prototype[Symbol.iterator]=function(){var e=this,t=0;return{next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0}},return:function(){return{done:!0}}}},q.prototype.item=function(e){return $(this),this[e]||null},x(q,z),F.prototype={length:0,item:z.prototype.item,getNamedItem:function(e){this._ownerElement&&this._ownerElement._isInHTMLDocumentAndNamespace()&&(e=e.toLowerCase());for(var t=0;t<this.length;){var r=this[t];if(r.nodeName===e)return r;t++}return null},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!==this._ownerElement)throw new p(p.INUSE_ATTRIBUTE_ERR);var r=this.getNamedItemNS(e.namespaceURI,e.localName);return r===e?e:(function(e,t,r,n){if(n?t[H(t,n)]=r:(t[t.length]=r,t.length++),e){r.ownerElement=e;var i=e.ownerDocument;i&&(n&&Z(i,e,n),i&&i._inc++,r.namespaceURI===h.XMLNS&&(e._nsMap[r.prefix?r.localName:""]=r.value))}}(this._ownerElement,this,e,r),r)},setNamedItemNS:function(e){return this.setNamedItem(e)},removeNamedItem:function(e){var t=this.getNamedItem(e);if(!t)throw new p(p.NOT_FOUND_ERR,e);return V(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var r=this.getNamedItemNS(e,t);if(!r)throw new p(p.NOT_FOUND_ERR,e?e+" : "+t:t);return V(this._ownerElement,this,r),r},getNamedItemNS:function(e,t){e||(e=null);for(var r=0;r<this.length;){var n=this[r];if(n.localName===t&&n.namespaceURI===e)return n;r++}return null}},F.prototype[Symbol.iterator]=function(){var e=this,t=0;return{next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0}},return:function(){return{done:!0}}}},G.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,r){var n=c.XML_APPLICATION;e===h.HTML?n=c.XML_XHTML_APPLICATION:e===h.SVG&&(n=c.XML_SVG_IMAGE);var i=new X(d,{contentType:n});if(i.implementation=this,i.childNodes=new z,i.doctype=r||null,r&&i.appendChild(r),t){var a=i.createElementNS(e,t);i.appendChild(a)}return i},createDocumentType:function(e,t,r,n){_(e);var i=new ef(d);return i.name=e,i.nodeName=e,i.publicId=t||"",i.systemId=r||"",i.internalSubset=n||"",i.childNodes=new z,i},createHTMLDocument:function(e){var t=new X(d,{contentType:c.HTML});if(t.implementation=this,t.childNodes=new z,!1!==e){t.doctype=this.createDocumentType("html"),t.doctype.ownerDocument=t,t.appendChild(t.doctype);var r=t.createElement("html");t.appendChild(r);var n=t.createElement("head");if(r.appendChild(n),"string"==typeof e){var i=t.createElement("title");i.appendChild(t.createTextNode(e)),n.appendChild(i)}r.appendChild(t.createElement("body"))}return t}},W.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,parentNode:null,get parentElement(){return this.parentNode&&this.parentNode.nodeType===this.ELEMENT_NODE?this.parentNode:null},childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,baseURI:"about:blank",get isConnected(){var eS=this.getRootNode();return eS&&eS.nodeType===eS.DOCUMENT_NODE},contains:function(e){if(!e)return!1;var t=e;do{if(this===t)return!0;t=e.parentNode}while(t);return!1},getRootNode:function(e){var t=this;do{if(!t.parentNode)return t;t=t.parentNode}while(t)},isEqualNode:function(e){if(!e||this.nodeType!==e.nodeType)return!1;switch(this.nodeType){case this.DOCUMENT_TYPE_NODE:if(this.name!==e.name||this.publicId!==e.publicId||this.systemId!==e.systemId)return!1;break;case this.ELEMENT_NODE:if(this.namespaceURI!==e.namespaceURI||this.prefix!==e.prefix||this.localName!==e.localName||this.attributes.length!==e.attributes.length)return!1;for(var t=0;t<this.attributes.length;t++){var r=this.attributes.item(t);if(!r.isEqualNode(e.getAttributeNodeNS(r.namespaceURI,r.localName)))return!1}break;case this.ATTRIBUTE_NODE:if(this.namespaceURI!==e.namespaceURI||this.localName!==e.localName||this.value!==e.value)return!1;break;case this.PROCESSING_INSTRUCTION_NODE:if(this.target!==e.target||this.data!==e.data)return!1;break;case this.TEXT_NODE:case this.COMMENT_NODE:if(this.data!==e.data)return!1}if(this.childNodes.length!==e.childNodes.length)return!1;for(var t=0;t<this.childNodes.length;t++)if(!this.childNodes[t].isEqualNode(e.childNodes[t]))return!1;return!0},isSameNode:function(e){return this===e},insertBefore:function(e,t){return es(this,e,t)},replaceChild:function(e,t){es(this,e,t,ea),t&&this.removeChild(t)},removeChild:function(e){return Q(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,r,n){var i=new r.constructor(d);for(var a in r)if(s(r,a)){var o=r[a];"object"!=typeof o&&o!=i[a]&&(i[a]=o)}switch(r.childNodes&&(i.childNodes=new z),i.ownerDocument=t,i.nodeType){case k:var l=r.attributes,u=i.attributes=new F,c=l.length;u._ownerElement=i;for(var h=0;h<c;h++)i.setAttributeNode(e(t,l.item(h),!0));break;case O:n=!0}if(n)for(var f=r.firstChild;f;)i.appendChild(e(t,f,n)),f=f.nextSibling;return i}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==A&&e.nodeType==A?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},lookupPrefix:function(e){for(var t=this;t;){var r=t._nsMap;if(r){for(var n in r)if(s(r,n)&&r[n]===e)return n}t=t.nodeType==O?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var r=t._nsMap;if(r&&s(r,e))return r[e];t=t.nodeType==O?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)},compareDocumentPosition:function(e){if(this===e)return 0;var t=e,r=this,n=null,i=null;if(t instanceof el&&(t=(n=t).ownerElement),r instanceof el&&(r=(i=r).ownerElement,n&&t&&r===t))for(var a,s=0;a=r.attributes[s];s++){if(a===n)return U.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+U.DOCUMENT_POSITION_PRECEDING;if(a===i)return U.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+U.DOCUMENT_POSITION_FOLLOWING}if(!t||!r||r.ownerDocument!==t.ownerDocument)return U.DOCUMENT_POSITION_DISCONNECTED+U.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+(B(r.ownerDocument)>B(t.ownerDocument)?U.DOCUMENT_POSITION_FOLLOWING:U.DOCUMENT_POSITION_PRECEDING);if(i&&t===r)return U.DOCUMENT_POSITION_CONTAINS+U.DOCUMENT_POSITION_PRECEDING;if(n&&t===r)return U.DOCUMENT_POSITION_CONTAINED_BY+U.DOCUMENT_POSITION_FOLLOWING;for(var o=[],l=t.parentNode;l;){if(!i&&l===r)return U.DOCUMENT_POSITION_CONTAINED_BY+U.DOCUMENT_POSITION_FOLLOWING;o.push(l),l=l.parentNode}o.reverse();for(var u=[],c=r.parentNode;c;){if(!n&&c===t)return U.DOCUMENT_POSITION_CONTAINS+U.DOCUMENT_POSITION_PRECEDING;u.push(c),c=c.parentNode}u.reverse();var h=function e(t,r){if(r.length<t.length)return e(r,t);var n=null;for(var i in t){if(t[i]!==r[i])break;n=t[i]}return n}(o,u);for(var d in h.childNodes){var f=h.childNodes[d];if(f===r)return U.DOCUMENT_POSITION_FOLLOWING;if(f===t)return U.DOCUMENT_POSITION_PRECEDING;if(u.indexOf(f)>=0)return U.DOCUMENT_POSITION_FOLLOWING;if(o.indexOf(f)>=0)return U.DOCUMENT_POSITION_PRECEDING}return 0}},T(S,W),T(S,W.prototype),T(U,W),T(U,W.prototype),X.prototype={implementation:null,nodeName:"#document",nodeType:P,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType===j){for(var r=e.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,t),r=n}return e}return es(this,e,t),e.ownerDocument=this,null===this.documentElement&&e.nodeType===k&&(this.documentElement=e),e},removeChild:function(e){var t=Q(this,e);return t===this.documentElement&&(this.documentElement=null),t},replaceChild:function(e,t){es(this,e,t,ea),e.ownerDocument=this,t&&this.removeChild(t),et(e)&&(this.documentElement=e)},importNode:function(e,t){return function e(t,r,n){var i;switch(r.nodeType){case k:(i=r.cloneNode(!1)).ownerDocument=t;case j:break;case O:n=!0}if(i||(i=r.cloneNode(!1)),i.ownerDocument=t,i.parentNode=null,n)for(var a=r.firstChild;a;)i.appendChild(e(t,a,n)),a=a.nextSibling;return i}(this,e,t)},getElementById:function(e){var t=null;return K(this.documentElement,function(r){if(r.nodeType==k&&r.getAttribute("id")==e)return t=r,!0}),t},createElement:function(e){var t=new eo(d);return t.ownerDocument=this,"html"===this.type&&(e=e.toLowerCase()),a(this.contentType)&&(t.namespaceURI=h.HTML),t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new z,(t.attributes=new F)._ownerElement=t,t},createDocumentFragment:function(){var e=new ey(d);return e.ownerDocument=this,e.childNodes=new z,e},createTextNode:function(e){var t=new ec(d);return t.ownerDocument=this,t.childNodes=new z,t.appendData(e),t},createComment:function(e){var t=new eh(d);return t.ownerDocument=this,t.childNodes=new z,t.appendData(e),t},createCDATASection:function(e){var t=new ed(d);return t.ownerDocument=this,t.childNodes=new z,t.appendData(e),t},createProcessingInstruction:function(e,t){var r=new eb(d);return r.ownerDocument=this,r.childNodes=new z,r.nodeName=r.target=e,r.nodeValue=r.data=t,r},createAttribute:function(e){if(!g.QName_exact.test(e))throw new p(p.INVALID_CHARACTER_ERR,'invalid character in name "'+e+'"');return"html"===this.type&&(e=e.toLowerCase()),this._createAttribute(e)},_createAttribute:function(e){var t=new el(d);return t.ownerDocument=this,t.childNodes=new z,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){if(!g.Name.test(e))throw new p(p.INVALID_CHARACTER_ERR,'not a valid xml name "'+e+'"');if("html"===this.type)throw new p("document is an html document",m.NotSupportedError);var t=new eg(d);return t.ownerDocument=this,t.childNodes=new z,t.nodeName=e,t},createElementNS:function(e,t){var r=E(e,t),n=new eo(d),i=n.attributes=new F;return n.childNodes=new z,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=r[0],n.prefix=r[1],n.localName=r[2],i._ownerElement=n,n},createAttributeNS:function(e,t){var r=E(e,t),n=new el(d);return n.ownerDocument=this,n.childNodes=new z,n.nodeName=t,n.name=t,n.specified=!0,n.namespaceURI=r[0],n.prefix=r[1],n.localName=r[2],n}},x(X,W),eo.prototype={nodeType:k,attributes:null,getQualifiedName:function(){return this.prefix?this.prefix+":"+this.localName:this.localName},_isInHTMLDocumentAndNamespace:function(){return"html"===this.ownerDocument.type&&this.namespaceURI===h.HTML},hasAttributes:function(){return!!(this.attributes&&this.attributes.length)},hasAttribute:function(e){return!!this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t?t.value:null},getAttributeNode:function(e){return this._isInHTMLDocumentAndNamespace()&&(e=e.toLowerCase()),this.attributes.getNamedItem(e)},setAttribute:function(e,t){this._isInHTMLDocumentAndNamespace()&&(e=e.toLowerCase());var r=this.getAttributeNode(e);r?r.value=r.nodeValue=""+t:((r=this.ownerDocument._createAttribute(e)).value=r.nodeValue=""+t,this.setAttributeNode(r))},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);r&&this.removeAttributeNode(r)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);return r?r.value:null},setAttributeNS:function(e,t,r){var n=E(e,t)[2],i=this.getAttributeNodeNS(e,n);i?i.value=i.nodeValue=""+r:((i=this.ownerDocument.createAttributeNS(e,t)).value=i.nodeValue=""+r,this.setAttributeNode(i))},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByClassName:function(e){var t=w(e);return new q(this,function(r){var n=[];return t.length>0&&K(r,function(i){if(i!==r&&i.nodeType===k){var a=i.getAttribute("class");if(a){var s=e===a;if(!s){var o=w(a);s=t.every(function(e){return o&&-1!==o.indexOf(e)})}s&&n.push(i)}}}),n})},getElementsByTagName:function(e){var t="html"===(this.nodeType===P?this:this.ownerDocument).type,r=e.toLowerCase();return new q(this,function(n){var i=[];return K(n,function(a){a!==n&&a.nodeType===k&&("*"===e?i.push(a):a.getQualifiedName()===(t&&a.namespaceURI===h.HTML?r:e)&&i.push(a))}),i})},getElementsByTagNameNS:function(e,t){return new q(this,function(r){var n=[];return K(r,function(i){i!==r&&i.nodeType===k&&("*"===e||i.namespaceURI===e)&&("*"===t||i.localName==t)&&n.push(i)}),n})}},X.prototype.getElementsByClassName=eo.prototype.getElementsByClassName,X.prototype.getElementsByTagName=eo.prototype.getElementsByTagName,X.prototype.getElementsByTagNameNS=eo.prototype.getElementsByTagNameNS,x(eo,W),el.prototype.nodeType=O,x(el,W),eu.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,r){r=this.data.substring(0,e)+r+this.data.substring(e+t),this.nodeValue=this.data=r,this.length=r.length}},x(eu,W),ec.prototype={nodeName:"#text",nodeType:A,splitText:function(e){var t=this.data,r=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},x(ec,eu),eh.prototype={nodeName:"#comment",nodeType:I},x(eh,eu),ed.prototype={nodeName:"#cdata-section",nodeType:C},x(ed,ec),ef.prototype.nodeType=L,x(ef,W),ep.prototype.nodeType=M,x(ep,W),em.prototype.nodeType=N,x(em,W),eg.prototype.nodeType=D,x(eg,W),ey.prototype.nodeName="#document-fragment",ey.prototype.nodeType=j,x(ey,W),eb.prototype.nodeType=R,x(eb,eu),ev.prototype.serializeToString=function(e,t){return ew.call(e,t)},W.prototype.toString=ew;try{Object.defineProperty&&(Object.defineProperty(q.prototype,"length",{get:function(){return $(this),this.$$length}}),Object.defineProperty(W.prototype,"textContent",{get:function(){return function e(t){switch(t.nodeType){case k:case j:var r=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&r.push(e(t)),t=t.nextSibling;return r.join("");default:return t.nodeValue}}(this)},set:function(e){switch(this.nodeType){case k:case j:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ex=function(e,t,r){e["$$"+t]=r})}catch(e){}t._updateLiveList=$,t.Attr=el,t.CDATASection=ed,t.CharacterData=eu,t.Comment=eh,t.Document=X,t.DocumentFragment=ey,t.DocumentType=ef,t.DOMImplementation=G,t.Element=eo,t.Entity=em,t.EntityReference=eg,t.LiveNodeList=q,t.NamedNodeMap=F,t.Node=W,t.NodeList=z,t.Notation=ep,t.Text=ec,t.ProcessingInstruction=eb,t.XMLSerializer=ev},5889:(e,t,r)=>{"use strict";var n=r(1209).freeze;t.XML_ENTITIES=n({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=n({Aacute:"\xc1",aacute:"\xe1",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",Acy:"",acy:"",AElig:"\xc6",aelig:"\xe6",af:"",Afr:"\uD835\uDD04",afr:"\uD835\uDD1E",Agrave:"\xc0",agrave:"\xe0",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"\xc5",angzarr:"",Aogon:"",aogon:"",Aopf:"\uD835\uDD38",aopf:"\uD835\uDD52",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"\xc5",aring:"\xe5",Ascr:"\uD835\uDC9C",ascr:"\uD835\uDCB6",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"\uD835\uDD05",bfr:"\uD835\uDD1F",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"\uD835\uDD39",bopf:"\uD835\uDD53",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"\xa6",Bscr:"",bscr:"\uD835\uDCB7",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"\xc7",ccedil:"\xe7",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"\xb8",Cedilla:"\xb8",cemptyv:"",cent:"\xa2",CenterDot:"\xb7",centerdot:"\xb7",Cfr:"",cfr:"\uD835\uDD20",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"\xae",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"\uD835\uDD54",coprod:"",Coproduct:"",COPY:"\xa9",copy:"\xa9",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"\uD835\uDC9E",cscr:"\uD835\uDCB8",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"\xa4",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"\xb0",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"\uD835\uDD07",dfr:"\uD835\uDD21",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"\xb4",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"\xa8",DifferentialD:"",digamma:"",disin:"",div:"\xf7",divide:"\xf7",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"\uD835\uDD3B",dopf:"\uD835\uDD55",Dot:"\xa8",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"\xa8",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"\uD835\uDC9F",dscr:"\uD835\uDCB9",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"\xc9",eacute:"\xe9",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"\xca",ecirc:"\xea",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"\uD835\uDD08",efr:"\uD835\uDD22",eg:"",Egrave:"\xc8",egrave:"\xe8",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"\uD835\uDD3C",eopf:"\uD835\uDD56",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"\uD835\uDD09",ffr:"\uD835\uDD23",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"\uD835\uDD3D",fopf:"\uD835\uDD57",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"\xbd",frac13:"",frac14:"\xbc",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"\xbe",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"\uD835\uDCBB",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"\uD835\uDD0A",gfr:"\uD835\uDD24",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"\uD835\uDD3E",gopf:"\uD835\uDD58",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"\uD835\uDCA2",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"\xbd",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"\uD835\uDD25",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"\uD835\uDD59",horbar:"",HorizontalLine:"",Hscr:"",hscr:"\uD835\uDCBD",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"\xcd",iacute:"\xed",ic:"",Icirc:"\xce",icirc:"\xee",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"\xa1",iff:"",Ifr:"",ifr:"\uD835\uDD26",Igrave:"\xcc",igrave:"\xec",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"\uD835\uDD40",iopf:"\uD835\uDD5A",Iota:"",iota:"",iprod:"",iquest:"\xbf",Iscr:"",iscr:"\uD835\uDCBE",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"\xcf",iuml:"\xef",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"\uD835\uDD0D",jfr:"\uD835\uDD27",jmath:"",Jopf:"\uD835\uDD41",jopf:"\uD835\uDD5B",Jscr:"\uD835\uDCA5",jscr:"\uD835\uDCBF",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"\uD835\uDD0E",kfr:"\uD835\uDD28",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"\uD835\uDD42",kopf:"\uD835\uDD5C",Kscr:"\uD835\uDCA6",kscr:"\uD835\uDCC0",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"\xab",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"\uD835\uDD0F",lfr:"\uD835\uDD29",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"\uD835\uDD43",lopf:"\uD835\uDD5D",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"\uD835\uDCC1",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"\xaf",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"\uD835\uDD10",mfr:"\uD835\uDD2A",mho:"",micro:"\xb5",mid:"",midast:"*",midcir:"",middot:"\xb7",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"\uD835\uDD44",mopf:"\uD835\uDD5E",mp:"",Mscr:"",mscr:"\uD835\uDCC2",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"\xa0",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"\uD835\uDD11",nfr:"\uD835\uDD2B",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"\xa0",Nopf:"",nopf:"\uD835\uDD5F",Not:"",not:"\xac",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"\uD835\uDCA9",nscr:"\uD835\uDCC3",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"\xd1",ntilde:"\xf1",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"\xd3",oacute:"\xf3",oast:"",ocir:"",Ocirc:"\xd4",ocirc:"\xf4",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"\uD835\uDD12",ofr:"\uD835\uDD2C",ogon:"",Ograve:"\xd2",ograve:"\xf2",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"\uD835\uDD46",oopf:"\uD835\uDD60",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"\xaa",ordm:"\xba",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"\uD835\uDCAA",oscr:"",Oslash:"\xd8",oslash:"\xf8",osol:"",Otilde:"\xd5",otilde:"\xf5",Otimes:"",otimes:"",otimesas:"",Ouml:"\xd6",ouml:"\xf6",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"\xb6",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"\uD835\uDD13",pfr:"\uD835\uDD2D",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"\xb1",plusmn:"\xb1",plussim:"",plustwo:"",pm:"\xb1",Poincareplane:"",pointint:"",Popf:"",popf:"\uD835\uDD61",pound:"\xa3",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"\uD835\uDCAB",pscr:"\uD835\uDCC5",Psi:"",psi:"",puncsp:"",Qfr:"\uD835\uDD14",qfr:"\uD835\uDD2E",qint:"",Qopf:"",qopf:"\uD835\uDD62",qprime:"",Qscr:"\uD835\uDCAC",qscr:"\uD835\uDCC6",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"\xbb",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"\xae",reg:"\xae",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"\uD835\uDD2F",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"\uD835\uDD63",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"\uD835\uDCC7",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"\xa7",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"\uD835\uDD16",sfr:"\uD835\uDD30",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"\xad",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"\uD835\uDD4A",sopf:"\uD835\uDD64",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"\uD835\uDCAE",sscr:"\uD835\uDCC8",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"\xaf",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"\xdf",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"\uD835\uDD17",tfr:"\uD835\uDD31",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"\xde",thorn:"\xfe",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"\xd7",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"\uD835\uDD4B",topf:"\uD835\uDD65",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"\uD835\uDCAF",tscr:"\uD835\uDCC9",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"\xda",uacute:"\xfa",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"\xdb",ucirc:"\xfb",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"\uD835\uDD18",ufr:"\uD835\uDD32",Ugrave:"\xd9",ugrave:"\xf9",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"\xa8",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"\uD835\uDD4C",uopf:"\uD835\uDD66",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"\uD835\uDCB0",uscr:"\uD835\uDCCA",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"\xdc",uuml:"\xfc",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"\uD835\uDD19",vfr:"\uD835\uDD33",vltri:"",vnsub:"",vnsup:"",Vopf:"\uD835\uDD4D",vopf:"\uD835\uDD67",vprop:"",vrtri:"",Vscr:"\uD835\uDCB1",vscr:"\uD835\uDCCB",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"\uD835\uDD1A",wfr:"\uD835\uDD34",Wopf:"\uD835\uDD4E",wopf:"\uD835\uDD68",wp:"",wr:"",wreath:"",Wscr:"\uD835\uDCB2",wscr:"\uD835\uDCCC",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"\uD835\uDD1B",xfr:"\uD835\uDD35",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"\uD835\uDD4F",xopf:"\uD835\uDD69",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"\uD835\uDCB3",xscr:"\uD835\uDCCD",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"\xdd",yacute:"\xfd",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"\xa5",Yfr:"\uD835\uDD1C",yfr:"\uD835\uDD36",YIcy:"",yicy:"",Yopf:"\uD835\uDD50",yopf:"\uD835\uDD6A",Yscr:"\uD835\uDCB4",yscr:"\uD835\uDCCE",YUcy:"",yucy:"",Yuml:"",yuml:"\xff",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"\uD835\uDD37",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"\uD835\uDD6B",Zscr:"\uD835\uDCB5",zscr:"\uD835\uDCCF",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES},1449:(e,t,r)=>{"use strict";function n(e,t){e.prototype=Object.create(Error.prototype,{constructor:{value:e},name:{value:e.name,enumerable:!0,writable:t}})}var i=r(1209).freeze({Error:"Error",IndexSizeError:"IndexSizeError",DomstringSizeError:"DomstringSizeError",HierarchyRequestError:"HierarchyRequestError",WrongDocumentError:"WrongDocumentError",InvalidCharacterError:"InvalidCharacterError",NoDataAllowedError:"NoDataAllowedError",NoModificationAllowedError:"NoModificationAllowedError",NotFoundError:"NotFoundError",NotSupportedError:"NotSupportedError",InUseAttributeError:"InUseAttributeError",InvalidStateError:"InvalidStateError",SyntaxError:"SyntaxError",InvalidModificationError:"InvalidModificationError",NamespaceError:"NamespaceError",InvalidAccessError:"InvalidAccessError",ValidationError:"ValidationError",TypeMismatchError:"TypeMismatchError",SecurityError:"SecurityError",NetworkError:"NetworkError",AbortError:"AbortError",URLMismatchError:"URLMismatchError",QuotaExceededError:"QuotaExceededError",TimeoutError:"TimeoutError",InvalidNodeTypeError:"InvalidNodeTypeError",DataCloneError:"DataCloneError",EncodingError:"EncodingError",NotReadableError:"NotReadableError",UnknownError:"UnknownError",ConstraintError:"ConstraintError",DataError:"DataError",TransactionInactiveError:"TransactionInactiveError",ReadOnlyError:"ReadOnlyError",VersionError:"VersionError",OperationError:"OperationError",NotAllowedError:"NotAllowedError",OptOutError:"OptOutError"}),a=Object.keys(i);function s(e){return"number"==typeof e&&e>=1&&e<=25}function o(e,t){s(e)?(this.name=a[e],this.message=t||""):(this.message=e,this.name="string"==typeof t&&t.substring(t.length-i.Error.length)===i.Error?t:i.Error),Error.captureStackTrace&&Error.captureStackTrace(this,o)}n(o,!0),Object.defineProperties(o.prototype,{code:{enumerable:!0,get:function(){var e=a.indexOf(this.name);return s(e)?e:0}}});for(var l={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25},u=Object.entries(l),c=0;c<u.length;c++)o[u[c][0]]=u[c][1];function h(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,h)}n(h),t.DOMException=o,t.DOMExceptionName=i,t.ExceptionCode=l,t.ParseError=h},9170:(e,t)=>{"use strict";function r(e){try{"function"!=typeof e&&(e=RegExp);var t=new e("\uD834\uDF06","u").exec("\uD834\uDF06");return!!t&&2===t[0].length}catch(e){}return!1}var n=r();function i(e){if("["!==e.source[0])throw Error(e+" can not be used with chars");return e.source.slice(1,e.source.lastIndexOf("]"))}function a(e,t){if("["!==e.source[0])throw Error("/"+e.source+"/ can not be used with chars_without");if(!t||"string"!=typeof t)throw Error(JSON.stringify(t)+" is not a valid search");if(-1===e.source.indexOf(t))throw Error('"'+t+'" is not is /'+e.source+"/");if("-"===t&&1!==e.source.indexOf(t))throw Error('"'+t+'" is not at the first postion of /'+e.source+"/");return new RegExp(e.source.replace(t,""),n?"u":"")}function s(e){var t=this;return new RegExp(Array.prototype.slice.call(arguments).map(function(e){var r="string"==typeof e;if(r&&void 0===t&&"|"===e)throw Error("use regg instead of reg to wrap expressions with `|`!");return r?e:e.source}).join(""),n?"mu":"m")}function o(e){if(0==arguments.length)throw Error("no parameters provided");return s.apply(o,["(?:"].concat(Array.prototype.slice.call(arguments),[")"]))}var l=/[-\x09\x0A\x0D\x20-\x2C\x2E-\uD7FF\uE000-\uFFFD]/;n&&(l=s("[",i(l),"\\u{10000}-\\u{10FFFF}","]"));var u=/[\x20\x09\x0D\x0A]/,c=i(u),h=s(u,"+"),d=s(u,"*"),f=/[:_a-zA-Z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;n&&(f=s("[",i(f),"\\u{10000}-\\u{10FFFF}","]"));var p=s("[",i(f),i(/[-.0-9\xB7]/),i(/[\u0300-\u036F\u203F-\u2040]/),"]"),m=s(f,p,"*"),g=s(p,"+"),y=s("&",m,";"),b=o(/&#[0-9]+;|&#x[0-9a-fA-F]+;/),v=o(y,"|",b),w=s("%",m,";"),_=o(s('"',o(/[^%&"]/,"|",w,"|",v),"*",'"'),"|",s("'",o(/[^%&']/,"|",w,"|",v),"*","'")),E=o('"',o(/[^<&"]/,"|",v),"*",'"',"|","'",o(/[^<&']/,"|",v),"*","'"),T=s(a(f,":"),a(p,":"),"*"),x=s(T,o(":",T),"?"),S=s("^",x,"$"),k=s("(",x,")"),O=o(/"[^"]*"|'[^']*'/),A=s(/^<\?/,"(",m,")",o(h,"(",l,"*?)"),"?",/\?>/),C=/[\x20\x0D\x0Aa-zA-Z0-9-'()+,./:=?;!*#@$_%]/,D=o('"',C,'*"',"|","'",a(C,"'"),"*'"),N="<!--",R=s(N,o(a(l,"-"),"|",s("-",a(l,"-"))),"*","-->"),I="#PCDATA",P=o(s(/\(/,d,I,o(d,/\|/,d,x),"*",d,/\)\*/),"|",s(/\(/,d,I,d,/\)/)),L=o("EMPTY","|","ANY","|",P,"|",s(/\([^>]+\)/,/[?*+]?/)),j=s("<!ELEMENT",h,o(x,"|",w),h,o(L,"|",w),d,">"),M=s("NOTATION",h,/\(/,d,m,o(d,/\|/,d,m),"*",d,/\)/),U=s(/\(/,d,g,o(d,/\|/,d,g),"*",d,/\)/),B=o(M,"|",U),z=o(/CDATA|ID|IDREF|IDREFS|ENTITY|ENTITIES|NMTOKEN|NMTOKENS/,"|",B),q=o(/#REQUIRED|#IMPLIED/,"|",o(o("#FIXED",h),"?",E)),$=o(h,m,h,z,h,q),F=s("<!ATTLIST",h,m,$,"*",d,">"),H="about:legacy-compat",V=o('"'+H+'"',"|","'"+H+"'"),G="SYSTEM",W="PUBLIC",Y=o(o(G,h,O),"|",o(W,h,D,h,O)),K=s("^",o(o(G,h,"(?<SystemLiteralOnly>",O,")"),"|",o(W,h,"(?<PubidLiteral>",D,")",h,"(?<SystemLiteral>",O,")"))),X=o(h,"NDATA",h,m),Z=o(_,"|",o(Y,X,"?")),J="<!ENTITY",Q=s(J,h,m,h,Z,d,">"),ee=s(J,h,"%",h,m,h,o(_,"|",Y),d,">"),et=o(Q,"|",ee),er=s(W,h,D),en=s("<!NOTATION",h,m,h,o(Y,"|",er),d,">"),ei=s(d,"=",d),ea=/1[.]\d+/,es=s(h,"version",ei,o("'",ea,"'","|",'"',ea,'"')),eo=/[A-Za-z][-A-Za-z0-9._]*/,el=s(/^<\?xml/,es,o(h,"encoding",ei,o('"',eo,'"',"|","'",eo,"'")),"?",o(h,"standalone",ei,o("'",o("yes","|","no"),"'","|",'"',o("yes","|","no"),'"')),"?",d,/\?>/),eu=s(l,"*?",/\]\]>/),ec=s(/<!\[CDATA\[/,eu);t.chars=i,t.chars_without=a,t.detectUnicodeSupport=r,t.reg=s,t.regg=o,t.ABOUT_LEGACY_COMPAT=H,t.ABOUT_LEGACY_COMPAT_SystemLiteral=V,t.AttlistDecl=F,t.CDATA_START="<![CDATA[",t.CDATA_END="]]>",t.CDSect=ec,t.Char=l,t.Comment=R,t.COMMENT_START=N,t.COMMENT_END="-->",t.DOCTYPE_DECL_START="<!DOCTYPE",t.elementdecl=j,t.EntityDecl=et,t.EntityValue=_,t.ExternalID=Y,t.ExternalID_match=K,t.Name=m,t.NotationDecl=en,t.Reference=v,t.PEReference=w,t.PI=A,t.PUBLIC=W,t.PubidLiteral=D,t.QName=x,t.QName_exact=S,t.QName_group=k,t.S=h,t.SChar_s=c,t.S_OPT=d,t.SYSTEM=G,t.SystemLiteral=O,t.UNICODE_REPLACEMENT_CHARACTER="",t.UNICODE_SUPPORT=n,t.XMLDecl=el},2580:(e,t,r)=>{"use strict";var n=r(1209);t.assign=n.assign,t.hasDefaultHTMLNamespace=n.hasDefaultHTMLNamespace,t.isHTMLMimeType=n.isHTMLMimeType,t.isValidMimeType=n.isValidMimeType,t.MIME_TYPE=n.MIME_TYPE,t.NAMESPACE=n.NAMESPACE;var i=r(1449);t.DOMException=i.DOMException,t.DOMExceptionName=i.DOMExceptionName,t.ExceptionCode=i.ExceptionCode,t.ParseError=i.ParseError;var a=r(6268);t.Attr=a.Attr,t.CDATASection=a.CDATASection,t.CharacterData=a.CharacterData,t.Comment=a.Comment,t.Document=a.Document,t.DocumentFragment=a.DocumentFragment,t.DocumentType=a.DocumentType,t.DOMImplementation=a.DOMImplementation,t.Element=a.Element,t.Entity=a.Entity,t.EntityReference=a.EntityReference,t.LiveNodeList=a.LiveNodeList,t.NamedNodeMap=a.NamedNodeMap,t.Node=a.Node,t.NodeList=a.NodeList,t.Notation=a.Notation,t.ProcessingInstruction=a.ProcessingInstruction,t.Text=a.Text,t.XMLSerializer=a.XMLSerializer;var s=r(8176);t.DOMParser=s.DOMParser,t.normalizeLineEndings=s.normalizeLineEndings,t.onErrorStopParsing=s.onErrorStopParsing,t.onWarningStopParsing=s.onWarningStopParsing},9326:(e,t,r)=>{"use strict";var n=r(1209),i=r(9170),a=r(1449),s=n.isHTMLEscapableRawTextElement,o=n.isHTMLMimeType,l=n.isHTMLRawTextElement,u=n.hasOwn,c=n.NAMESPACE,h=a.ParseError,d=a.DOMException;function f(){}f.prototype={parse:function(e,t,r){var a=this.domBuilder;a.startDocument(),y(t,t=Object.create(null)),function(e,t,r,a,c){var f=o(a.mimeType);function y(e){var t,n=";"===e[e.length-1]?e:e+";";if(!f&&n!==e)return c.error("EntityRef: expecting ;"),e;var a=i.Reference.exec(n);if(!a||a[0].length!==n.length)return c.error("entity not matching Reference production: "+e),e;var s=n.slice(1,-1);return u(r,s)?r[s]:"#"!==s.charAt(0)?(c.error("entity not found:"+e),e):(t=parseInt(s.substring(1).replace("x","0x")))>65535?String.fromCharCode(55296+((t-=65536)>>10),56320+(1023&t)):String.fromCharCode(t)}function b(t){if(t>A){var r=e.substring(A,t).replace(p,y);x&&S(A),a.characters(r,0,t-A),A=t}}e.indexOf(i.UNICODE_REPLACEMENT_CHARACTER)>=0&&c.warning("Unicode replacement character detected, source encoding issues?");var _=0,E=0,T=/\r\n?|\n|$/g,x=a.locator;function S(t,r){for(;t>=E&&(r=T.exec(e));)_=E,E=r.index+r[0].length,x.lineNumber++;x.columnNumber=t-_+1}for(var k=[{currentNSMap:t}],O=[],A=0;;){try{var C=e.indexOf("<",A);if(C<0){if(!f&&O.length>0)return c.fatalError("unclosed xml tag(s): "+O.join(", "));if(!e.substring(A).match(/^\s*$/)){var D=a.doc,N=D.createTextNode(e.substring(A));if(D.documentElement)return c.error("Extra content at the end of the document");D.appendChild(N),a.currentElement=N}return}if(C>A){var R=e.substring(A,C);!f&&0===O.length&&(R=R.replace(RegExp(i.S_OPT.source,"g"),""))&&c.error("Unexpected content outside root element: '"+R+"'"),b(C)}switch(e.charAt(C+1)){case"/":var I=e.indexOf(">",C+2),P=e.substring(C+2,I>0?I:void 0);if(!P)return c.fatalError("end tag name missing");var L=I>0&&i.reg("^",i.QName_group,i.S_OPT,"$").exec(P);if(!L)return c.fatalError('end tag name contains invalid characters: "'+P+'"');if(!a.currentElement&&!a.doc.documentElement)return;var j=O[O.length-1]||a.currentElement.tagName||a.doc.documentElement.tagName||"";if(j!==L[1]){var M=L[1].toLowerCase();if(!f||j.toLowerCase()!==M)return c.fatalError('Opening and ending tag mismatch: "'+j+'" != "'+P+'"')}var U=k.pop();O.pop();var B=U.localNSMap;if(a.endElement(U.uri,U.localName,j),B)for(var z in B)u(B,z)&&a.endPrefixMapping(z);I++;break;case"?":x&&S(C),I=function(e,t,r,n){var a=e.substring(t).match(i.PI);if(!a)return n.fatalError("Invalid processing instruction starting at position "+t);if("xml"===a[1].toLowerCase()){if(t>0)return n.fatalError("processing instruction at position "+t+" is an xml declaration which is only at the start of the document");if(!i.XMLDecl.test(e.substring(t)))return n.fatalError("xml declaration is not well-formed")}return r.processingInstruction(a[1],a[2]),t+a[0].length}(e,C,a,c);break;case"!":x&&S(C),I=v(e,C,a,c,f);break;default:x&&S(C);var q=new w,$=k[k.length-1].currentNSMap,I=function(e,t,r,n,i,a,s){function o(e,t,n){return u(r.attributeNames,e)?a.fatalError("Attribute "+e+" redefined"):!s&&t.indexOf("<")>=0?a.fatalError("Unescaped '<' not allowed in attributes values"):void r.addValue(e,t.replace(/[\t\n\r]/g," ").replace(p,i),n)}for(var l,c,h=++t,d=0;;){var f=e.charAt(h);switch(f){case"=":if(1===d)l=e.slice(t,h),d=3;else if(2===d)d=3;else throw Error("attribute equal must after attrName");break;case"'":case'"':if(3===d||1===d){if(1===d&&(a.warning('attribute value must after "="'),l=e.slice(t,h)),t=h+1,(h=e.indexOf(f,t))>0)o(l,c=e.slice(t,h),t-1),d=5;else throw Error("attribute value no end '"+f+"' match")}else if(4==d)o(l,c=e.slice(t,h),t),a.warning('attribute "'+l+'" missed start quot('+f+")!!"),t=h+1,d=5;else throw Error('attribute value must after "="');break;case"/":switch(d){case 0:r.setTagName(e.slice(t,h));case 5:case 6:case 7:d=7,r.closed=!0;case 4:case 1:break;case 2:r.closed=!0;break;default:throw Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),0==d&&r.setTagName(e.slice(t,h)),h;case">":switch(d){case 0:r.setTagName(e.slice(t,h));case 5:case 6:case 7:break;case 4:case 1:"/"===(c=e.slice(t,h)).slice(-1)&&(r.closed=!0,c=c.slice(0,-1));case 2:2===d&&(c=l),4==d?(a.warning('attribute "'+c+'" missed quot(")!'),o(l,c,t)):(s||a.warning('attribute "'+c+'" missed value!! "'+c+'" instead!!'),o(c,c,t));break;case 3:if(!s)return a.fatalError("AttValue: ' or \" expected")}return h;case"\x80":f=" ";default:if(f<=" ")switch(d){case 0:r.setTagName(e.slice(t,h)),d=6;break;case 1:l=e.slice(t,h),d=2;break;case 4:var c=e.slice(t,h);a.warning('attribute "'+c+'" missed quot(")!!'),o(l,c,t);case 5:d=6}else switch(d){case 2:s||a.warning('attribute "'+l+'" missed value!! "'+l+'" instead2!!'),o(l,l,t),t=h,d=1;break;case 5:a.warning('attribute space is required"'+l+'"!!');case 6:d=1,t=h;break;case 3:d=4,t=h;break;case 7:throw Error("elements closed character '/' and '>' must be connected to")}}h++}}(e,C,q,0,y,c,f),F=q.length;if(q.closed||(f&&n.isHTMLVoidElement(q.tagName)?q.closed=!0:O.push(q.tagName)),x&&F){for(var H=m(x,{}),V=0;V<F;V++){var G=q[V];S(G.offset),G.locator=m(x,{})}a.locator=H,g(q,a,$)&&k.push(q),a.locator=x}else g(q,a,$)&&k.push(q);f&&!q.closed?I=function(e,t,r,n,i){var a=s(r);if(a||l(r)){var o=e.indexOf("</"+r+">",t),u=e.substring(t+1,o);return a&&(u=u.replace(p,n)),i.characters(u,0,u.length),o}return t+1}(e,I,q.tagName,y,a):I++}}catch(e){if(e instanceof h)throw e;if(e instanceof d)throw new h(e.name+": "+e.message,a.locator,e);c.error("element parse error: "+e),I=-1}I>A?A=I:b(Math.max(C,A)+1)}}(e,t,r,a,this.errorHandler),a.endDocument()}};var p=/&#?\w+;?/g;function m(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function g(e,t,r){for(var n=e.tagName,i=null,a=e.length;a--;){var s=e[a],o=s.qName,l=s.value,h=o.indexOf(":");if(h>0)var d=s.prefix=o.slice(0,h),f=o.slice(h+1),p="xmlns"===d&&f;else f=o,d=null,p="xmlns"===o&&"";s.localName=f,!1!==p&&(null==i&&(i=Object.create(null),y(r,r=Object.create(null))),r[p]=i[p]=l,s.uri=c.XMLNS,t.startPrefixMapping(p,l))}for(var a=e.length;a--;)(s=e[a]).prefix&&("xml"===s.prefix&&(s.uri=c.XML),"xmlns"!==s.prefix&&(s.uri=r[s.prefix]));var h=n.indexOf(":");h>0?(d=e.prefix=n.slice(0,h),f=e.localName=n.slice(h+1)):(d=null,f=e.localName=n);var m=e.uri=r[d||""];if(t.startElement(m,f,n,e),!e.closed)return e.currentNSMap=r,e.localNSMap=i,!0;if(t.endElement(m,f,n),i)for(d in i)u(i,d)&&t.endPrefixMapping(d)}function y(e,t){for(var r in e)u(e,r)&&(t[r]=e[r])}function b(e,t){var r=t;function n(t){return t=t||0,e.charAt(r+t)}function a(e){r+=e=e||1}function s(){return e.substring(r)}return{char:n,getIndex:function(){return r},getMatch:function(e){var t=i.reg("^",e).exec(s());return t?(a(t[0].length),t[0]):null},getSource:function(){return e},skip:a,skipBlanks:function(){for(var t=0;r<e.length;){var i=n();if(" "!==i&&"\n"!==i&&"	"!==i&&"\r"!==i)return t;t++,a()}return -1},substringFromIndex:s,substringStartsWith:function(t){return e.substring(r,r+t.length)===t},substringStartsWithCaseInsensitive:function(t){return e.substring(r,r+t.length).toUpperCase()===t.toUpperCase()}}}function v(e,t,r,n,a){var s=b(e,t);switch(a?s.char(2).toUpperCase():s.char(2)){case"-":var o=s.getMatch(i.Comment);if(o)return r.comment(o,i.COMMENT_START.length,o.length-i.COMMENT_START.length-i.COMMENT_END.length),s.getIndex();return n.fatalError("comment is not well-formed at position "+s.getIndex());case"[":var l=s.getMatch(i.CDSect);if(!l)return n.fatalError("Invalid CDATA starting at position "+t);if(!a&&!r.currentElement)return n.fatalError("CDATA outside of element");return r.startCDATA(),r.characters(l,i.CDATA_START.length,l.length-i.CDATA_START.length-i.CDATA_END.length),r.endCDATA(),s.getIndex();case"D":if(r.doc&&r.doc.documentElement)return n.fatalError("Doctype not allowed inside or after documentElement at position "+s.getIndex());if(a?!s.substringStartsWithCaseInsensitive(i.DOCTYPE_DECL_START):!s.substringStartsWith(i.DOCTYPE_DECL_START))return n.fatalError("Expected "+i.DOCTYPE_DECL_START+" at position "+s.getIndex());if(s.skip(i.DOCTYPE_DECL_START.length),1>s.skipBlanks())return n.fatalError("Expected whitespace after "+i.DOCTYPE_DECL_START+" at position "+s.getIndex());var u={name:void 0,publicId:void 0,systemId:void 0,internalSubset:void 0};if(u.name=s.getMatch(i.Name),!u.name)return n.fatalError("doctype name missing or contains unexpected characters at position "+s.getIndex());if(a&&"html"!==u.name.toLowerCase()&&n.warning("Unexpected DOCTYPE in HTML document at position "+s.getIndex()),s.skipBlanks(),s.substringStartsWith(i.PUBLIC)||s.substringStartsWith(i.SYSTEM)){var c=i.ExternalID_match.exec(s.substringFromIndex());if(!c)return n.fatalError("doctype external id is not well-formed at position "+s.getIndex());void 0!==c.groups.SystemLiteralOnly?u.systemId=c.groups.SystemLiteralOnly:(u.systemId=c.groups.SystemLiteral,u.publicId=c.groups.PubidLiteral),s.skip(c[0].length)}else if(a&&s.substringStartsWithCaseInsensitive(i.SYSTEM)){if(s.skip(i.SYSTEM.length),1>s.skipBlanks())return n.fatalError("Expected whitespace after "+i.SYSTEM+" at position "+s.getIndex());if(u.systemId=s.getMatch(i.ABOUT_LEGACY_COMPAT_SystemLiteral),!u.systemId)return n.fatalError("Expected "+i.ABOUT_LEGACY_COMPAT+" in single or double quotes after "+i.SYSTEM+" at position "+s.getIndex())}if(a&&u.systemId&&!i.ABOUT_LEGACY_COMPAT_SystemLiteral.test(u.systemId)&&n.warning("Unexpected doctype.systemId in HTML document at position "+s.getIndex()),a||(s.skipBlanks(),u.internalSubset=function(e,t){var r=e.getSource();if("["===e.char()){e.skip(1);for(var n=e.getIndex();e.getIndex()<r.length;){if(e.skipBlanks(),"]"===e.char()){var a=r.substring(n,e.getIndex());return e.skip(1),a}var s=null;if("<"===e.char()&&"!"===e.char(1))switch(e.char(2)){case"E":"L"===e.char(3)?s=e.getMatch(i.elementdecl):"N"===e.char(3)&&(s=e.getMatch(i.EntityDecl));break;case"A":s=e.getMatch(i.AttlistDecl);break;case"N":s=e.getMatch(i.NotationDecl);break;case"-":s=e.getMatch(i.Comment)}else if("<"===e.char()&&"?"===e.char(1))s=function(e,t){var r=i.PI.exec(e.substringFromIndex());return r?"xml"===r[1].toLowerCase()?t.fatalError("xml declaration is only allowed at the start of the document, but found at position "+e.getIndex()):(e.skip(r[0].length),r[0]):t.fatalError("processing instruction is not well-formed at position "+e.getIndex())}(e,t);else{if("%"!==e.char())return t.fatalError("Error detected in Markup declaration");s=e.getMatch(i.PEReference)}if(!s)return t.fatalError("Error in internal subset at position "+e.getIndex())}return t.fatalError("doctype internal subset is not well-formed, missing ]")}}(s,n)),s.skipBlanks(),">"!==s.char())return n.fatalError("doctype not terminated with > at position "+s.getIndex());return s.skip(1),r.startDTD(u.name,u.publicId,u.systemId,u.internalSubset),r.endDTD(),s.getIndex();default:return n.fatalError('Not well-formed XML starting with "<!" at position '+t)}}function w(){this.attributeNames=Object.create(null)}w.prototype={setTagName:function(e){if(!i.QName_exact.test(e))throw Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,r){if(!i.QName_exact.test(e))throw Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=f,t.parseUtils=b,t.parseDoctypeCommentOrCData=v},7374:e=>{"use strict";var t={single_source_shortest_paths:function(e,r,n){var i,a,s,o,l,u,c,h={},d={};d[r]=0;var f=t.PriorityQueue.make();for(f.push(r,0);!f.empty();)for(s in a=(i=f.pop()).value,o=i.cost,l=e[a]||{})l.hasOwnProperty(s)&&(u=o+l[s],c=d[s],(void 0===d[s]||c>u)&&(d[s]=u,f.push(s,u),h[s]=a));if(void 0!==n&&void 0===d[n])throw Error(["Could not find a path from ",r," to ",n,"."].join(""));return h},extract_shortest_path_from_predecessor_list:function(e,t){for(var r=[],n=t;n;)r.push(n),e[n],n=e[n];return r.reverse(),r},find_path:function(e,r,n){var i=t.single_source_shortest_paths(e,r,n);return t.extract_shortest_path_from_predecessor_list(i,n)},PriorityQueue:{make:function(e){var r,n=t.PriorityQueue,i={};for(r in e=e||{},n)n.hasOwnProperty(r)&&(i[r]=n[r]);return i.queue=[],i.sorter=e.sorter||n.default_sorter,i},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){this.queue.push({value:e,cost:t}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=t},1813:(e,t,r)=>{"use strict";var n=r(574).DocUtils;n.convertPixelsToEmus=function(e){return Math.round(9525*e)},e.exports=n},7825:(e,t,r)=>{"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1813),a=/[^.]+\.([^.]+)/,s={getPrefix:function(e){return"docx"===e?"word":"ppt"},getFileTypeName:function(e){return"docx"===e?"document":"presentation"},getRelsFileName:function(e){return e.replace(/^.*?([a-zA-Z0-9]+)\.xml$/,"$1")+".xml.rels"},getRelsFilePath:function(e,t){return("pptx"===t?"ppt/slides":"word")+"/_rels/"+s.getRelsFileName(e)}};e.exports=function(){function e(t,r,n,i){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.fileName=r,this.prefix=s.getPrefix(i),this.zip=t,this.xmlDocuments=n,this.fileTypeName=s.getFileTypeName(i),this.mediaPrefix="pptx"===i?"../media":"media";var a=s.getRelsFilePath(r,i);this.relsDoc=n[a]||this.createEmptyRelsDoc(n,a)}return n(e,[{key:"createEmptyRelsDoc",value:function(e,t){var r=this.prefix+"/_rels/"+this.fileTypeName+".xml.rels",n=e[r];if(!n){var a=Error("Could not copy from empty relsdoc");throw a.properties={mainRels:r,relsFileName:t,files:Object.keys(this.zip.files)},a}for(var s=i.str2xml(i.xml2str(n)),o=s.getElementsByTagName("Relationships")[0],l=o.getElementsByTagName("Relationship"),u=0,c=l.length;u<c;u++)o.removeChild(l[u]);return e[t]=s,s}},{key:"loadImageRels",value:function(){var e=this.relsDoc.getElementsByTagName("Relationship");return Array.prototype.reduce.call(e,function(e,t){var r=t.getAttribute("Id");return/^rId[0-9]+$/.test(r)?Math.max(e,parseInt(r.substr(3),10)):e},0)}},{key:"addExtensionRels",value:function(e,t){var r=this.xmlDocuments["[Content_Types].xml"],n=r.getElementsByTagName("Default");if(!Array.prototype.some.call(n,function(e){return e.getAttribute("Extension")===t})){var i=r.getElementsByTagName("Types")[0],a=r.createElement("Default");a.namespaceURI=null,a.setAttribute("ContentType",e),a.setAttribute("Extension",t),i.appendChild(a)}}},{key:"addImageRels",value:function(e,t,r){null==r&&(r=0);var n=0===r?e:e+"("+r+")",i=this.prefix+"/media/"+n;if(null!=this.zip.files[i])return this.addImageRels(e,t,r+1);this.zip.file(i,t,{binary:!0});var s=n.replace(a,"$1");this.addExtensionRels("image/"+s,s);var o=this.relsDoc.getElementsByTagName("Relationships")[0],l=this.relsDoc.createElement("Relationship");l.namespaceURI=null;var u=this.loadImageRels()+1;return l.setAttribute("Id","rId"+u),l.setAttribute("Type","http://schemas.openxmlformats.org/officeDocument/2006/relationships/image"),l.setAttribute("Target",this.mediaPrefix+"/"+n),o.appendChild(l),u}}]),e}()},2893:(e,t,r)=>{"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(2675),s=r(574).DocUtils,o=r(342).a,l=r(7825),u="open-xml-templating/docxtemplater-image-module";function c(e){return e.part}function h(e){var t=e.part,r=e.left,n=e.right,i=e.postparsed.slice(r+1,n).reduce(function(e,t){return e+t.value},""),a=new o().parseFromString("<xml>"+i+"</xml>");t.offset={x:0,y:0},t.ext={cx:0,cy:0};var s=a.getElementsByTagName("a:off"),l=a.getElementsByTagName("a:ext");return l.length>0&&(t.ext.cx=parseInt(l[l.length-1].getAttribute("cx"),10),t.ext.cy=parseInt(l[l.length-1].getAttribute("cy"),10)),s.length>0&&(t.offset.x=parseInt(s[s.length-1].getAttribute("x"),10),t.offset.y=parseInt(s[s.length-1].getAttribute("y"),10)),t}var d=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,e),this.name="ImageModule",this.options=t||{},this.imgManagers={},null==this.options.centered&&(this.options.centered=!1),null==this.options.getImage)throw Error("You should pass getImage");if(null==this.options.getSize)throw Error("You should pass getSize");this.imageNumber=1}return i(e,[{key:"optionsTransformer",value:function(e,t){var r=t.zip.file(/\.xml\.rels/).concat(t.zip.file(/\[Content_Types\].xml/)).map(function(e){return e.name});return this.fileTypeConfig=t.fileTypeConfig,this.fileType=t.fileType,this.zip=t.zip,e.xmlFileNames=e.xmlFileNames.concat(r),e}},{key:"set",value:function(e){e.zip&&(this.zip=e.zip),e.xmlDocuments&&(this.xmlDocuments=e.xmlDocuments)}},{key:"parse",value:function(e){var t="placeholder";return this.options.setParser?this.options.setParser(e):"%%"===e.substring(0,2)?{type:t,value:e.substr(2),module:u,centered:!0}:"%"===e.substring(0,1)?{type:t,value:e.substr(1),module:u,centered:!1}:null}},{key:"postparse",value:function(e){var t=void 0,r=void 0;return"pptx"===this.fileType?(t="p:sp",r=h):(t=this.options.centered?"w:p":"w:t",r=c),s.traits.expandToOne(e,{moduleName:u,getInner:r,expandTo:t})}},{key:"render",value:function(e,t){if(e.type,e.module!==u)return null;var r=t.scopeManager.getValue(e.value,{part:e});if(!r)return{value:this.fileTypeConfig.tagTextXml};if((void 0===r?"undefined":n(r))==="object")return this.getRenderedPart(e,r.rId,r.sizePixel);var i=new l(this.zip,t.filePath,this.xmlDocuments,this.fileType),a=this.options.getImage(r,e.value),s=i.addImageRels(this.getNextImageName(),a),o=this.options.getSize(a,r,e.value);return this.getRenderedPart(e,s,o)}},{key:"resolve",value:function(e,t){var r=this,n=new l(this.zip,t.filePath,this.xmlDocuments,this.fileType);if(e.type,e.module!==u)return null;var i=t.scopeManager.getValue(e.value,{part:e});return i?new Promise(function(t){t(r.options.getImage(i,e.value))}).then(function(t){var a=n.addImageRels(r.getNextImageName(),t);return new Promise(function(n){n(r.options.getSize(t,i,e.value))}).then(function(e){return{rId:a,sizePixel:e}})}):{value:this.fileTypeConfig.tagTextXml}}},{key:"getRenderedPart",value:function(e,t,r){if(t!=t)throw Error("rId is NaN, aborting");var n=[s.convertPixelsToEmus(r[0]),s.convertPixelsToEmus(r[1])],i=this.options.centered||e.centered;return{value:"pptx"===this.fileType?this.getRenderedPartPptx(e,t,n,i):this.getRenderedPartDocx(t,n,i)}}},{key:"getRenderedPartPptx",value:function(e,t,r,n){var i={x:parseInt(e.offset.x,10),y:parseInt(e.offset.y,10)},s=parseInt(e.ext.cx,10)||1,o=parseInt(e.ext.cy,10)||1,l=parseInt(r[0],10)||1,u=parseInt(r[1],10)||1;return n&&(i.x=Math.round(i.x+s/2-l/2),i.y=Math.round(i.y+o/2-u/2)),a.getPptxImageXml(t,[l,u],i)}},{key:"getRenderedPartDocx",value:function(e,t,r){return r?a.getImageXmlCentered(e,t):a.getImageXml(e,t)}},{key:"getNextImageName",value:function(){var e="image_generated_"+this.imageNumber+".png";return this.imageNumber++,e}}]),e}();e.exports=d},2675:e=>{"use strict";e.exports={getImageXml:function(e,t){return('<w:drawing>\n		<wp:inline distT="0" distB="0" distL="0" distR="0">\n			<wp:extent cx="'+t[0]+'" cy="'+t[1]+'"/>\n			<wp:effectExtent l="0" t="0" r="0" b="0"/>\n			<wp:docPr id="2" name="Image 2" descr="image"/>\n			<wp:cNvGraphicFramePr>\n				<a:graphicFrameLocks xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" noChangeAspect="1"/>\n			</wp:cNvGraphicFramePr>\n			<a:graphic xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main">\n				<a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/picture">\n					<pic:pic xmlns:pic="http://schemas.openxmlformats.org/drawingml/2006/picture">\n						<pic:nvPicPr>\n							<pic:cNvPr id="0" name="Picture 1" descr="image"/>\n							<pic:cNvPicPr>\n								<a:picLocks noChangeAspect="1" noChangeArrowheads="1"/>\n							</pic:cNvPicPr>\n						</pic:nvPicPr>\n						<pic:blipFill>\n							<a:blip r:embed="rId'+e+'">\n								<a:extLst>\n									<a:ext uri="{28A0092B-C50C-407E-A947-70E740481C1C}">\n										<a14:useLocalDpi xmlns:a14="http://schemas.microsoft.com/office/drawing/2010/main" val="0"/>\n									</a:ext>\n								</a:extLst>\n							</a:blip>\n							<a:srcRect/>\n							<a:stretch>\n								<a:fillRect/>\n							</a:stretch>\n						</pic:blipFill>\n						<pic:spPr bwMode="auto">\n							<a:xfrm>\n								<a:off x="0" y="0"/>\n								<a:ext cx="'+t[0]+'" cy="'+t[1]+'"/>\n							</a:xfrm>\n							<a:prstGeom prst="rect">\n								<a:avLst/>\n							</a:prstGeom>\n							<a:noFill/>\n							<a:ln>\n								<a:noFill/>\n							</a:ln>\n						</pic:spPr>\n					</pic:pic>\n				</a:graphicData>\n			</a:graphic>\n		</wp:inline>\n	</w:drawing>\n		').replace(/\t|\n/g,"")},getImageXmlCentered:function(e,t){return('<w:p>\n			<w:pPr>\n				<w:jc w:val="center"/>\n			</w:pPr>\n			<w:r>\n				<w:rPr/>\n				<w:drawing>\n					<wp:inline distT="0" distB="0" distL="0" distR="0">\n					<wp:extent cx="'+t[0]+'" cy="'+t[1]+'"/>\n					<wp:docPr id="0" name="Picture" descr=""/>\n					<a:graphic xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main">\n						<a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/picture">\n						<pic:pic xmlns:pic="http://schemas.openxmlformats.org/drawingml/2006/picture">\n							<pic:nvPicPr>\n							<pic:cNvPr id="0" name="Picture" descr=""/>\n							<pic:cNvPicPr>\n								<a:picLocks noChangeAspect="1" noChangeArrowheads="1"/>\n							</pic:cNvPicPr>\n							</pic:nvPicPr>\n							<pic:blipFill>\n							<a:blip r:embed="rId'+e+'"/>\n							<a:stretch>\n								<a:fillRect/>\n							</a:stretch>\n							</pic:blipFill>\n							<pic:spPr bwMode="auto">\n							<a:xfrm>\n								<a:off x="0" y="0"/>\n								<a:ext cx="'+t[0]+'" cy="'+t[1]+'"/>\n							</a:xfrm>\n							<a:prstGeom prst="rect">\n								<a:avLst/>\n							</a:prstGeom>\n							<a:noFill/>\n							<a:ln w="9525">\n								<a:noFill/>\n								<a:miter lim="800000"/>\n								<a:headEnd/>\n								<a:tailEnd/>\n							</a:ln>\n							</pic:spPr>\n						</pic:pic>\n						</a:graphicData>\n					</a:graphic>\n					</wp:inline>\n				</w:drawing>\n			</w:r>\n		</w:p>\n		').replace(/\t|\n/g,"")},getPptxImageXml:function(e,t,r){return('<p:pic>\n			<p:nvPicPr>\n				<p:cNvPr id="6" name="Picture 2"/>\n				<p:cNvPicPr>\n					<a:picLocks noChangeAspect="1" noChangeArrowheads="1"/>\n				</p:cNvPicPr>\n				<p:nvPr/>\n			</p:nvPicPr>\n			<p:blipFill>\n				<a:blip r:embed="rId'+e+'" cstate="print">\n					<a:extLst>\n						<a:ext uri="{28A0092B-C50C-407E-A947-70E740481C1C}">\n							<a14:useLocalDpi xmlns:a14="http://schemas.microsoft.com/office/drawing/2010/main" val="0"/>\n						</a:ext>\n					</a:extLst>\n				</a:blip>\n				<a:srcRect/>\n				<a:stretch>\n					<a:fillRect/>\n				</a:stretch>\n			</p:blipFill>\n			<p:spPr bwMode="auto">\n				<a:xfrm>\n					<a:off x="'+r.x+'" y="'+r.y+'"/>\n					<a:ext cx="'+t[0]+'" cy="'+t[1]+'"/>\n				</a:xfrm>\n				<a:prstGeom prst="rect">\n					<a:avLst/>\n				</a:prstGeom>\n				<a:noFill/>\n				<a:ln>\n					<a:noFill/>\n				</a:ln>\n				<a:effectLst/>\n				<a:extLst>\n					<a:ext uri="{909E8E84-426E-40DD-AFC4-6F175D3DCCD1}">\n						<a14:hiddenFill xmlns:a14="http://schemas.microsoft.com/office/drawing/2010/main">\n							<a:solidFill>\n								<a:schemeClr val="accent1"/>\n							</a:solidFill>\n						</a14:hiddenFill>\n					</a:ext>\n					<a:ext uri="{91240B29-F687-4F45-9708-019B960494DF}">\n						<a14:hiddenLine xmlns:a14="http://schemas.microsoft.com/office/drawing/2010/main" w="9525">\n							<a:solidFill>\n								<a:schemeClr val="tx1"/>\n							</a:solidFill>\n							<a:miter lim="800000"/>\n							<a:headEnd/>\n							<a:tailEnd/>\n						</a14:hiddenLine>\n					</a:ext>\n					<a:ext uri="{AF507438-7753-43E0-B8FC-AC1667EBCBE1}">\n						<a14:hiddenEffects xmlns:a14="http://schemas.microsoft.com/office/drawing/2010/main">\n							<a:effectLst>\n								<a:outerShdw dist="35921" dir="2700000" algn="ctr" rotWithShape="0">\n									<a:schemeClr val="bg2"/>\n								</a:outerShdw>\n							</a:effectLst>\n						</a14:hiddenEffects>\n					</a:ext>\n				</a:extLst>\n			</p:spPr>\n		</p:pic>\n		').replace(/\t|\n/g,"")}}},4565:e=>{"use strict";e.exports={settingsContentType:"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml",coreContentType:"application/vnd.openxmlformats-package.core-properties+xml",appContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml",customContentType:"application/vnd.openxmlformats-officedocument.custom-properties+xml",diagramDataContentType:"application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml",diagramDrawingContentType:"application/vnd.ms-office.drawingml.diagramDrawing+xml"}},2307:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var i=r(2580),a=i.DOMParser,s=i.XMLSerializer,o=r(6717).throwXmlTagNotFound,l=r(5879),u=l.last,c=l.first;function h(e){return{get:function(t){return"."===e?t:t?t[e]:t}}}function d(e){for(var t=0;t<e.length;t++){var r=e[t];r.message&&console.warn("Warning : "+r.message)}}var f={},p=[["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&apos;"]],m=p.map(function(e){var t=function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,s,o=[],l=!0,u=!1;try{for(a=(r=r.call(e)).next;!(l=(n=a.call(r)).done)&&(o.push(n.value),2!==o.length);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}(e,2)||function(e,t){if(e){if("string"==typeof e)return n(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=t[0],i=t[1];return{rstart:RegExp(i,"g"),rend:RegExp(r,"g"),start:i,end:r}}),g=RegExp(String.fromCharCode(160),"g");function y(e,t){return e==="</"+t+">"}function b(e,t){return 0===e.indexOf("<"+t)&&-1!==[">"," ","/"].indexOf(e[t.length+1])}function v(e,t,r){"string"==typeof t&&(t=[t]);for(var n=1,i=r,a=e.length;i<a;i++)for(var s=e[i],o=0,l=t;o<l.length;o++){var u=l[o];if(y(s.value,u)&&n--,b(s.value,u)&&n++,0===n)return i}return null}function w(e,t,r){"string"==typeof t&&(t=[t]);for(var n=1,i=r;i>=0;i--)for(var a=e[i],s=0,o=t;s<o.length;s++){var l=o[s];if(b(a.value,l)&&n--,y(a.value,l)&&n++,0===n)return i}return null}var _=/[\x00-\x08\x0B\x0C\x0E-\x1F]/g;e.exports={endsWith:function(e,t){return -1!==e.indexOf(t,e.length-t.length)},startsWith:function(e,t){return e.substring(0,t.length)===t},isContent:function(e){var t=e.type,r=e.position;return"placeholder"===t||"content"===t&&"insidetag"===r},isParagraphStart:function(e){var t=e.type,r=e.tag,n=e.position;return -1!==["w:p","a:p","text:p"].indexOf(r)&&"tag"===t&&"start"===n},isParagraphEnd:function(e){var t=e.type,r=e.tag,n=e.position;return -1!==["w:p","a:p","text:p"].indexOf(r)&&"tag"===t&&"end"===n},isTagStart:function(e,t){var r=t.type,n=t.tag,i=t.position;return"tag"===r&&n===e&&("start"===i||"selfclosing"===i)},isTagEnd:function(e,t){var r=t.type,n=t.tag,i=t.position;return"tag"===r&&n===e&&"end"===i},isTextStart:function(e){var t=e.type,r=e.position;return e.text&&"tag"===t&&"start"===r},isTextEnd:function(e){var t=e.type,r=e.position;return e.text&&"tag"===t&&"end"===r},isStarting:b,isEnding:y,isModule:function(e,t){var r=e.module;return t instanceof Array||(t=[t]),"placeholder"===e.type&&-1!==t.indexOf(r)},uniq:function(e){for(var t={},r=[],n=0,i=e.length;n<i;++n)t[e[n]]||(t[e[n]]=!0,r.push(e[n]));return r},getDuplicates:function(e){for(var t=[],r={},n=[],i=0,a=e.length;i<a;++i)r[e[i]]?t.push(e[i]):(r[e[i]]=!0,n.push(e[i]));return t},chunkBy:function(e,t){for(var r=[[]],n=0;n<e.length;n++){var i=e[n],a=r[r.length-1],s=t(i);"start"===s?r.push([i]):"end"===s?(a.push(i),r.push([])):a.push(i)}for(var o=[],l=0;l<r.length;l++){var u=r[l];u.length>0&&o.push(u)}return o},last:u,first:c,xml2str:function(e){return new s().serializeToString(e).replace(/xmlns(:[a-z0-9]+)?="" ?/g,"")},str2xml:function(e){return 65279===e.charCodeAt(0)&&(e=e.substr(1)),new a().parseFromString(e,"text/xml")},getRightOrNull:v,getRight:function(e,t,r){var n=v(e,t,r);if(null!==n)return n;o({position:"right",element:t,parsed:e,index:r})},getLeftOrNull:w,getLeft:function(e,t,r){var n=w(e,t,r);if(null!==n)return n;o({position:"left",element:t,parsed:e,index:r})},pregMatchAll:function(e,t){for(var r,n=[];null!=(r=e.exec(t));)n.push({array:r,offset:r.index});return n},convertSpaces:function(e){return e.replace(g," ")},charMapRegexes:m,hasCorruptCharacters:function(e){return _.lastIndex=0,_.test(e)},removeCorruptCharacters:function(e){return"string"!=typeof e&&(e=String(e)),e.replace(_,"")},getDefaults:function(){return{errorLogging:"json",stripInvalidXMLChars:!1,paragraphLoop:!1,nullGetter:function(e){return e.module?"":"undefined"},xmlFileNames:["[Content_Types].xml"],parser:h,warnFn:d,linebreaks:!1,fileTypeConfig:null,delimiters:{start:"{",end:"}"},syntax:{changeDelimiterPrefix:"="}}},wordToUtf8:function(e){for(var t=m.length-1;t>=0;t--){var r=m[t];e=e.replace(r.rstart,r.end)}return e},utf8ToWord:function(e){e=null!==(t=e)&&void 0!==t&&t.toString?e.toString():"";for(var t,r,n=0,i=m.length;n<i;n++)r=m[n],e=e.replace(r.rend,r.start);return e},concatArrays:function(e){for(var t=[],r=0;r<e.length;r++)for(var n=e[r],i=0;i<n.length;i++){var a=n[i];t.push(a)}return t},pushArray:function(e,t){if(!t)return e;for(var r=0,n=t.length;r<n;r++)e.push(t[r]);return e},invertMap:function(e){var t={};for(var r in e){var n=e[r];t[n]||(t[n]=[]),t[n].push(r)}return t},charMap:p,getSingleAttribute:function(e,t){var r=e.indexOf(" ".concat(t,'="'));if(-1===r)return null;var n=e.substr(r).search(/["']/)+r,i=e.substr(n+1).search(/["']/)+n;return e.substr(n+1,i-n)},setSingleAttribute:function(e,t,r){if(f[t]?n=f[t]:(n=new RegExp("(<.* ".concat(t,'=")([^"]*)(".*)$')),f[t]=n),n.test(e))return e.replace(n,"$1".concat(r,"$3"));var n,i=e.lastIndexOf("/>");return -1===i&&(i=e.lastIndexOf(">")),e.substr(0,i)+" ".concat(t,'="').concat(r,'"')+e.substr(i)},isWhiteSpace:function(e){return/^[ \n\r\t]+$/.test(e)},stableSort:function(e,t){return e.map(function(e,t){return{item:e,index:t}}).sort(function(e,r){return t(e.item,r.item)||e.index-r.index}).map(function(e){return e.item})}}},574:(e,t,r)=>{"use strict";var n=["modules"];function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=u(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}var c=r(2307),h=r(3014),d=h.object({allowUnopenedTag:h.boolean().optional(),allowUnclosedTag:h.boolean().optional(),allowUnbalancedLoops:h.boolean().optional(),changeDelimiterPrefix:h.string().optional().nullable()}),f=h.object({delimiters:h.object({start:h.string().nullable(),end:h.string().nullable()}).strict().optional(),fileTypeConfig:h.object({}).optional(),paragraphLoop:h.boolean().optional(),parser:h.function().optional(),errorLogging:h.union([h.boolean(),h.string()]).optional(),linebreaks:h.boolean().optional(),nullGetter:h.function().optional(),syntax:d.optional(),stripInvalidXMLChars:h.boolean().optional(),warnFn:h.function().optional()}).strict(),p=r(5347).getRelsTypes,m=r(262),g=m.collectContentTypes,y=m.getContentTypes,b=r(5887),v=r(4010),w=r(4536),_=r(8991),E=r(6369),T=r(1110).getTags,x=r(2013),S=r(6717),k=S.throwMultiError,O=S.throwResolveBeforeCompile,A=S.throwRenderInvalidTemplate,C=S.throwRenderTwice,D=S.XTInternalError,N=S.XTTemplateError,R=S.throwFileTypeNotIdentified,I=S.throwFileTypeNotHandled,P=S.throwApiVersionError;c.getRelsTypes=p,c.traits=v,c.moduleWrapper=b,c.collectContentTypes=g,c.getContentTypes=y;var L=c.getDefaults,j=c.str2xml,M=c.xml2str,U=c.concatArrays,B=c.uniq,z=c.getDuplicates,q=c.stableSort,$=c.pushArray,F=c.utf8ToWord,H=c.invertMap,V=[3,47,2];function G(e){var t=[];for(var r in e)t.push(r);for(var n=["[Content_Types].xml","_rels/.rels"],i=["word/","xl/","ppt/"],a=0;a<t.length;a++)for(var s=t[a],o=0;o<i.length;o++){var l=i[o];0===s.indexOf("".concat(l))&&n.push(s)}for(var u=0;u<t.length;u++){var c=t[u];-1===n.indexOf(c)&&n.push(c)}return n}function W(e,t){!0!==e.hideDeprecations&&console.warn(t)}function Y(e,t){if(!0!==e.hideDeprecations)return W(e,'Deprecated method ".'.concat(t,'", view upgrade guide : https://docxtemplater.com/docs/api/#upgrade-guide, stack : ').concat(Error().stack))}function K(e){e.modules=e.modules.filter(function(t){if(!t.supportedFileTypes)return!0;if(!Array.isArray(t.supportedFileTypes))throw Error("The supportedFileTypes field of the module must be an array");var r=t.supportedFileTypes.includes(e.fileType);return r||t.on("detached"),r})}function X(e){var t=e.compiled;e.errors=U(Object.keys(t).map(function(e){return t[e].allErrors})),0!==e.errors.length&&(e.options.errorLogging&&x(e.errors,e.options.errorLogging),k(e.errors))}var Z=function(){var e;function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.modules,a=void 0===i?[]:i,s=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(r,n);if(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),this.targets=[],this.rendered=!1,this.scopeManagers={},this.compiled={},this.modules=[w()],this.xmlDocuments={},0==arguments.length)W(this,"Deprecated docxtemplater constructor with no arguments, view upgrade guide : https://docxtemplater.com/docs/api/#upgrade-guide, stack : ".concat(Error().stack)),this.hideDeprecations=!0,this.setOptions(s);else{if(this.hideDeprecations=!0,this.setOptions(s),"undefined"!=typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e))throw Error("You passed a Buffer to the Docxtemplater constructor. The first argument of docxtemplater's constructor must be a valid zip file (jszip v2 or pizzip v3)");if(!e||!e.files||"function"!=typeof e.file)throw Error("The first argument of docxtemplater's constructor must be a valid zip file (jszip v2 or pizzip v3)");if(!Array.isArray(a))throw Error("The modules argument of docxtemplater's constructor must be an array");for(var o=0;o<a.length;o++){var l=a[o];this.attachModule(l)}this.loadZip(e),this.compile(),this.v4Constructor=!0}this.hideDeprecations=!1}return e=[{key:"verifyApiVersion",value:function(e){return 3!==(e=e.split(".").map(function(e){return parseInt(e,10)})).length&&P("neededVersion is not a valid version",{neededVersion:e,explanation:"the neededVersion must be an array of length 3"}),e[0]!==V[0]&&P("The major api version do not match, you probably have to update docxtemplater with npm install --save docxtemplater",{neededVersion:e,currentModuleApiVersion:V,explanation:"moduleAPIVersionMismatch : needed=".concat(e.join("."),", current=").concat(V.join("."))}),e[1]>V[1]&&P("The minor api version is not uptodate, you probably have to update docxtemplater with npm install --save docxtemplater",{neededVersion:e,currentModuleApiVersion:V,explanation:"moduleAPIVersionMismatch : needed=".concat(e.join("."),", current=").concat(V.join("."))}),e[1]===V[1]&&e[2]>V[2]&&P("The patch api version is not uptodate, you probably have to update docxtemplater with npm install --save docxtemplater",{neededVersion:e,currentModuleApiVersion:V,explanation:"moduleAPIVersionMismatch : needed=".concat(e.join("."),", current=").concat(V.join("."))}),!0}},{key:"setModules",value:function(e){for(var t=0,r=this.modules;t<r.length;t++)r[t].set(e)}},{key:"sendEvent",value:function(e){for(var t=0,r=this.modules;t<r.length;t++)r[t].on(e)}},{key:"attachModule",value:function(e){if(this.v4Constructor)throw new D("attachModule() should not be called manually when using the v4 constructor");Y(this,"attachModule");var t=l(e);if("function"===t)throw new D("Cannot attach a class/function as a module. Most probably you forgot to instantiate the module by using `new` on the module.");if(!e||"object"!==t)throw new D("Cannot attachModule with a falsy value");if(e.requiredAPIVersion&&this.verifyApiVersion(e.requiredAPIVersion),!0===e.attached){if("function"==typeof e.clone)e=e.clone();else throw Error('Cannot attach a module that was already attached : "'.concat(e.name,'". The most likely cause is that you are instantiating the module at the root level, and using it for multiple instances of Docxtemplater'))}e.attached=!0;var r=b(e);return this.modules.push(r),r.on("attached"),this.fileType&&K(this),this}},{key:"findModule",value:function(e){for(var t=0,r=this.modules;t<r.length;t++){var n=r[t];if(n.name===e)return n}}},{key:"setOptions",value:function(e){if(this.v4Constructor)throw Error("setOptions() should not be called manually when using the v4 constructor");if(!e)throw Error("setOptions should be called with an object as first parameter");var t,r,n=f.validate(e);if(!1===n.success)throw Error(n.error);Y(this,"setOptions"),this.options={};var i=L();for(var a in i){var s=i[a];this.options[a]=null!=e[a]?e[a]:this[a]||s,this[a]=this.options[a]}return(t=this.delimiters).start&&(t.start=F(this.delimiters.start)),(r=this.delimiters).end&&(r.end=F(this.delimiters.end)),this}},{key:"loadZip",value:function(e){if(this.v4Constructor)throw Error("loadZip() should not be called manually when using the v4 constructor");if(Y(this,"loadZip"),e.loadAsync)throw new D("Docxtemplater doesn't handle JSZip version >=3, please use pizzip");e.xtRendered&&this.options.warnFn([Error("This zip file appears to be the outcome of a previous docxtemplater generation. This typically indicates that docxtemplater was integrated by reusing the same zip file. It is recommended to create a new Pizzip instance for each docxtemplater generation.")]),this.zip=e,this.updateFileTypeConfig(),this.modules=U([this.fileTypeConfig.baseModules.map(function(e){return e()}),this.modules]);for(var t=0,r=this.modules;t<r.length;t++){var n=r[t];n.zip=this.zip,n.docxtemplater=this,n.fileTypeConfig=this.fileTypeConfig,n.fileType=this.fileType,n.xtOptions=this.options,n.modules=this.modules}return K(this),this}},{key:"precompileFile",value:function(e){var t=this.createTemplateClass(e);t.preparse(),this.compiled[e]=t}},{key:"compileFile",value:function(e){this.compiled[e].parse()}},{key:"getScopeManager",value:function(e,t,r){var n;return(n=this.scopeManagers)[e]||(n[e]=_({tags:r,parser:this.parser,cachedParsers:t.cachedParsers})),this.scopeManagers[e]}},{key:"resolveData",value:function(e){var t=this;Y(this,"resolveData");var r=[];return Object.keys(this.compiled).length||O(),Promise.resolve(e).then(function(e){return t.data=e,t.setModules({data:t.data,Lexer:E}),t.mapper=t.modules.reduce(function(e,t){return t.getRenderedMap(e)},{}),Promise.all(Object.keys(t.mapper).map(function(e){var n=t.mapper[e],i=n.from;return Promise.resolve(n.data).then(function(n){var a=t.compiled[i];return a.filePath=e,a.scopeManager=t.getScopeManager(e,a,n),a.resolveTags(n).then(function(e){return a.scopeManager.finishedResolving=!0,e},function(e){$(r,e)})})})).then(function(e){return 0!==r.length&&(t.options.errorLogging&&x(r,t.options.errorLogging),k(r)),U(e)})})}},{key:"compile",value:function(){if(Y(this,"compile"),this.updateFileTypeConfig(),function(e){var t=z(e.map(function(e){return e.name}));if(t.length>0)throw new D('Detected duplicate module "'.concat(t[0],'"'))}(this.modules),this.modules=q(this.modules,function(e,t){return(t.priority||0)-(e.priority||0)}),Object.keys(this.compiled).length)return this;for(var e=this.options,t=0,r=this.modules;t<r.length;t++)e=r[t].optionsTransformer(e,this);this.options=e,this.options.xmlFileNames=B(this.options.xmlFileNames);for(var n=0,i=this.options.xmlFileNames;n<i.length;n++){var a=i[n],s=this.zip.files[a].asText();this.xmlDocuments[a]=j(s)}this.setModules({zip:this.zip,xmlDocuments:this.xmlDocuments});for(var o=0,l=this.modules;o<l.length;o++)l[o].xmlDocuments=this.xmlDocuments;this.getTemplatedFiles(),this.sendEvent("before-preparse");for(var u=0,c=this.templatedFiles;u<c.length;u++){var h=c[u];null!=this.zip.files[h]&&this.precompileFile(h)}this.sendEvent("after-preparse");for(var d=0,f=this.templatedFiles;d<f.length;d++){var p=f[d];null!=this.zip.files[p]&&this.compiled[p].parse({noPostParse:!0})}this.sendEvent("after-parse");for(var m=0,g=this.templatedFiles;m<g.length;m++){var y=g[m];null!=this.zip.files[y]&&this.compiled[y].postparse()}return this.sendEvent("after-postparse"),this.setModules({compiled:this.compiled}),X(this),this}},{key:"updateFileTypeConfig",value:function(){this.relsTypes=p(this.zip);var e,r=y(this.zip),n=r.overrides,i=r.defaults,a=r.contentTypes,s=r.contentTypeXml;s&&(this.filesContentTypes=g(n,i,this.zip),this.invertedContentTypes=H(this.filesContentTypes),this.setModules({contentTypes:this.contentTypes,invertedContentTypes:this.invertedContentTypes})),this.zip.files.mimetype&&(e="odt");for(var o=0,l=this.modules;o<l.length;o++)e=l[o].getFileType({zip:this.zip,contentTypes:a,contentTypeXml:s,overrides:n,defaults:i,doc:this})||e;if(this.fileType=e,"odt"===e&&I(e),e||R(this.zip),function(e){for(var t=0,r=e.modules;t<r.length;t++)for(var n=r[t],i=0,a=n.xmlContentTypes||[];i<a.length;i++)for(var s=a[i],o=e.invertedContentTypes[s]||[],l=0;l<o.length;l++){var u=o[l];e.zip.files[u]&&e.options.xmlFileNames.push(u)}}(this),K(this),this.fileTypeConfig=this.options.fileTypeConfig||this.fileTypeConfig,!this.fileTypeConfig){if(t.FileTypeConfig[this.fileType])this.fileTypeConfig=t.FileTypeConfig[this.fileType]();else{var u='Filetype "'.concat(this.fileType,'" is not supported'),c="filetype_not_supported";"xlsx"===this.fileType&&(u='Filetype "'.concat(this.fileType,'" is supported only with the paid XlsxModule'),c="xlsx_filetype_needs_xlsx_module");var h=new N(u);throw h.properties={id:c,explanation:u},h}}return this}},{key:"renderAsync",value:function(e){var t=this;this.hideDeprecations=!0;var r=this.resolveData(e);return this.hideDeprecations=!1,this.zip.xtRendered=!0,r.then(function(){return t.render()})}},{key:"render",value:function(e){this.zip.xtRendered=!0,this.rendered&&C(),this.rendered=!0,0===Object.keys(this.compiled).length&&this.compile(),this.errors.length>0&&A(),arguments.length>0&&(this.data=e),this.setModules({data:this.data,Lexer:E}),this.mapper||(this.mapper=this.modules.reduce(function(e,t){return t.getRenderedMap(e)},{}));var t=[];for(var r in this.mapper){var n=this.mapper[r],i=n.from,a=n.data,o=this.compiled[i];o.scopeManager=this.getScopeManager(r,o,a),o.render(r),t.push([r,o.content,o]),delete o.content}for(var l=0;l<t.length;l++)for(var u=t[l],c=s(u,3),h=c[1],d=c[2],f=0,p=this.modules;f<p.length;f++){var m=p[f];if(m.preZip){var g=m.preZip(h,d);"string"==typeof g&&(u[1]=g)}}for(var y=0;y<t.length;y++){var b=s(t[y],2),v=b[0],w=b[1];this.zip.file(v,w,{createFolders:!0})}return X(this),this.sendEvent("syncing-zip"),this.syncZip(),this.sendEvent("synced-zip"),this}},{key:"syncZip",value:function(){for(var e in this.xmlDocuments){this.zip.remove(e);var t=M(this.xmlDocuments[e]);this.zip.file(e,t,{createFolders:!0})}}},{key:"setData",value:function(e){return Y(this,"setData"),this.data=e,this}},{key:"getZip",value:function(){return this.zip}},{key:"createTemplateClass",value:function(e){var t=this.zip.files[e].asText();return this.createTemplateClassFromContent(t,e)}},{key:"createTemplateClassFromContent",value:function(e,r){for(var n={filePath:r,contentType:this.filesContentTypes[r],relsType:this.relsTypes[r]},i=$(Object.keys(L()),["filesContentTypes","fileTypeConfig","fileType","modules"]),a=0;a<i.length;a++){var s=i[a];n[s]=this[s]}return new t.XmlTemplater(e,n)}},{key:"getFullText",value:function(e){return this.createTemplateClass(e||this.fileTypeConfig.textPath(this)).getFullText()}},{key:"getTemplatedFiles",value:function(){this.templatedFiles=this.fileTypeConfig.getTemplatedFiles(this.zip),$(this.templatedFiles,this.targets);var e=this.fileTypeConfig.templatedNs||[];if(e.length>0){for(var t in this.filesContentTypes)if(/^customXml\/item\d+\.xml$/.test(t))for(var r=0;r<e.length;r++){var n=e[r];-1!==this.zip.file(t).asText().indexOf('xmlns="'.concat(n,'"'))&&this.templatedFiles.push(t)}}return this.templatedFiles=B(this.templatedFiles),this.templatedFiles}},{key:"getTags",value:function(){var e={headers:[],footers:[]};for(var t in this.compiled){var r=this.filesContentTypes[t];"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml"===r&&(e.document={target:t,tags:T(this.compiled[t].postparsed)}),"application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml"===r&&e.headers.push({target:t,tags:T(this.compiled[t].postparsed)}),"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml"===r&&e.footers.push({target:t,tags:T(this.compiled[t].postparsed)})}return e}},{key:"toBuffer",value:function(e){return this.zip.generate(a(a({compression:"DEFLATE",fileOrder:G},e),{},{type:"nodebuffer"}))}},{key:"toBlob",value:function(e){return this.zip.generate(a(a({compression:"DEFLATE",fileOrder:G},e),{},{type:"blob"}))}},{key:"toBase64",value:function(e){return this.zip.generate(a(a({compression:"DEFLATE",fileOrder:G},e),{},{type:"base64"}))}},{key:"toUint8Array",value:function(e){return this.zip.generate(a(a({compression:"DEFLATE",fileOrder:G},e),{},{type:"uint8array"}))}},{key:"toArrayBuffer",value:function(e){return this.zip.generate(a(a({compression:"DEFLATE",fileOrder:G},e),{},{type:"arraybuffer"}))}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();Z.DocUtils=c,Z.Errors=r(6717),Z.XmlTemplater=r(6533),Z.FileTypeConfig=r(9896),Z.XmlMatcher=r(9080),e.exports=Z,e.exports.default=Z},2013:(e,t,r)=>{"use strict";var n=r(2307).pushArray;function i(e,t){return t instanceof Error?n(Object.getOwnPropertyNames(t),["stack"]).reduce(function(e,r){return e[r]=t[r],"stack"===r&&(e[r]=t[r].toString()),e},{}):t}e.exports=function(e,t){console.log(JSON.stringify({error:e},i,"json"===t?2:null)),e.properties&&e.properties.errors instanceof Array&&console.log("errorMessages",e.properties.errors.map(function(e){return e.properties.explanation}).join("\n"))}},6717:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var a=r(5879),s=a.last,o=a.first;function l(e){this.name="GenericError",this.message=e,this.stack=Error(e).stack}function u(e){this.name="TemplateError",this.message=e,this.stack=Error(e).stack}function c(e){this.name="RenderingError",this.message=e,this.stack=Error(e).stack}function h(e){this.name="ScopeParserError",this.message=e,this.stack=Error(e).stack}function d(e){this.name="InternalError",this.properties={explanation:"InternalError"},this.message=e,this.stack=Error(e).stack}function f(e){this.name="APIVersionError",this.properties={explanation:"APIVersionError"},this.message=e,this.stack=Error(e).stack}l.prototype=Error.prototype,u.prototype=new l,c.prototype=new l,h.prototype=new l,d.prototype=new l,f.prototype=new l,e.exports={XTError:l,XTTemplateError:u,XTInternalError:d,XTScopeParserError:h,XTAPIVersionError:f,RenderingError:c,XTRenderingError:c,getClosingTagNotMatchOpeningTag:function(e){var t=e.tags,r=new u("Closing tag does not match opening tag");return r.properties={id:"closing_tag_does_not_match_opening_tag",explanation:'The tag "'.concat(t[0].value,'" is closed by the tag "').concat(t[1].value,'"'),openingtag:o(t).value,offset:[o(t).offset,s(t).offset],closingtag:s(t).value},o(t).square&&(r.properties.square=[o(t).square,s(t).square]),r},getLoopPositionProducesInvalidXMLError:function(e){var t=e.tag,r=e.offset,n=new u('The position of the loop tags "'.concat(t,'" would produce invalid XML'));return n.properties={xtag:t,id:"loop_position_invalid",explanation:'The tags "'.concat(t,'" are misplaced in the document, for example one of them is in a table and the other one outside the table'),offset:r},n},getScopeCompilationError:function(e){var t=e.tag,r=e.rootError,n=e.offset,i=new h("Scope parser compilation failed");return i.properties={id:"scopeparser_compilation_failed",offset:n,xtag:t,explanation:'The scope parser for the tag "'.concat(t,'" failed to compile'),rootError:r},i},getScopeParserExecutionError:function(e){var t=e.tag,r=e.scope,n=e.error,i=e.offset,a=new h("Scope parser execution failed");return a.properties={id:"scopeparser_execution_failed",explanation:"The scope parser for the tag ".concat(t," failed to execute"),scope:r,offset:i,xtag:t,rootError:n},a},getUnclosedTagException:function(e){var t=new u("Unclosed tag");return t.properties={xtag:o(e.xtag.split(" ")).substr(1),id:"unclosed_tag",context:e.xtag,offset:e.offset,lIndex:e.lIndex,explanation:'The tag beginning with "'.concat(e.xtag.substr(0,10),'" is unclosed')},t},getUnopenedTagException:function(e){var t=new u("Unopened tag");return t.properties={xtag:s(e.xtag.split(" ")),id:"unopened_tag",context:e.xtag,offset:e.offset,lIndex:e.lIndex,explanation:'The tag beginning with "'.concat(e.xtag.substr(0,10),'" is unopened')},t},getUnmatchedLoopException:function(e){var t=e.location,r=e.offset,n=e.square,i="start"===t?"unclosed":"unopened",a=new u("".concat("start"===t?"Unclosed":"Unopened"," loop")),s=e.value;return a.properties={id:"".concat(i,"_loop"),explanation:'The loop with tag "'.concat(s,'" is ').concat(i),xtag:s,offset:r},n&&(a.properties.square=n),a},getDuplicateCloseTagException:function(e){var t=new u("Duplicate close tag, expected one close tag");return t.properties={xtag:o(e.xtag.split(" ")),id:"duplicate_close_tag",context:e.xtag,offset:e.offset,lIndex:e.lIndex,explanation:'The tag ending with "'.concat(e.xtag.substr(0,10),'" has duplicate close tags')},t},getDuplicateOpenTagException:function(e){var t=new u("Duplicate open tag, expected one open tag");return t.properties={xtag:o(e.xtag.split(" ")),id:"duplicate_open_tag",context:e.xtag,offset:e.offset,lIndex:e.lIndex,explanation:'The tag beginning with "'.concat(e.xtag.substr(0,10),'" has duplicate open tags')},t},getCorruptCharactersException:function(e){var t=e.tag,r=e.value,n=e.offset,i=new c("There are some XML corrupt characters");return i.properties={id:"invalid_xml_characters",xtag:t,value:r,offset:n,explanation:"There are some corrupt characters for the field ".concat(t)},i},getInvalidRawXMLValueException:function(e){var t=e.tag,r=e.value,n=e.offset,i=new c("Non string values are not allowed for rawXML tags");return i.properties={id:"invalid_raw_xml_value",xtag:t,value:r,offset:n,explanation:"The value of the raw tag : '".concat(t,"' is not a string")},i},getUnbalancedLoopException:function(e,t){var r=new u("Unbalanced loop tag"),n=t[0].part.value,i=t[1].part.value,a=e[0].part.value,s=e[1].part.value;return r.properties={id:"unbalanced_loop_tags",explanation:"Unbalanced loop tags {#".concat(n,"}{/").concat(i,"}{#").concat(a,"}{/").concat(s,"}"),offset:[t[0].part.offset,e[1].part.offset],lastPair:{left:t[0].part.value,right:t[1].part.value},pair:{left:e[0].part.value,right:e[1].part.value}},r},throwApiVersionError:function(e,t){var r=new f(e);throw r.properties=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var i,a;i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}(i))in e?Object.defineProperty(e,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({id:"api_version_error"},t),r},throwFileTypeNotHandled:function(e){var t=new d('The filetype "'.concat(e,'" is not handled by docxtemplater'));throw t.properties={id:"filetype_not_handled",explanation:'The file you are trying to generate is of type "'.concat(e,'", but only docx and pptx formats are handled'),fileType:e},t},throwFileTypeNotIdentified:function(e){var t=Object.keys(e.files).slice(0,10),r="";r=0===t.length?"Empty zip file":"Zip file contains : ".concat(t.join(","));var n=new d("The filetype for this file could not be identified, is this file corrupted ? ".concat(r));throw n.properties={id:"filetype_not_identified",explanation:"The filetype for this file could not be identified, is this file corrupted ? ".concat(r)},n},throwMalformedXml:function(){var e=new d("Malformed xml");throw e.properties={explanation:"The template contains malformed xml",id:"malformed_xml"},e},throwMultiError:function(e){var t=new u("Multi error");throw t.properties={errors:e,id:"multi_error",explanation:"The template has multiple errors"},t},throwExpandNotFound:function(e){var t=e.part,r=t.value,n=t.offset,i=e.id,a=e.message,s=e.part,o=e.explanation,l=void 0===o?'The tag "'.concat(r,'" is not inside a paragraph'):o;"function"==typeof l&&(l=l(s));var c=new u(void 0===a?"Raw tag not in paragraph":a);throw c.properties={id:void 0===i?"raw_tag_outerxml_invalid":i,explanation:l,rootError:e.rootError,xtag:r,offset:n,postparsed:e.postparsed,expandTo:e.expandTo,index:e.index},c},throwRawTagShouldBeOnlyTextInParagraph:function(e){var t=new u("Raw tag should be the only text in paragraph"),r=e.part.value;throw t.properties={id:"raw_xml_tag_should_be_only_text_in_paragraph",explanation:'The raw tag "'.concat(r,'" should be the only text in this paragraph. This means that this tag should not be surrounded by any text or spaces.'),xtag:r,offset:e.part.offset,paragraphParts:e.paragraphParts},t},throwUnimplementedTagType:function(e,t){var r='Unimplemented tag type "'.concat(e.type,'"');e.module&&(r+=' "'.concat(e.module,'"'));var n=new u(r);throw n.properties={part:e,index:t,id:"unimplemented_tag_type"},n},throwXmlTagNotFound:function(e){var t=new u('No tag "'.concat(e.element,'" was found at the ').concat(e.position)),r=e.parsed[e.index];throw t.properties={id:"no_xml_tag_found_at_".concat(e.position),explanation:'No tag "'.concat(e.element,'" was found at the ').concat(e.position),offset:r.offset,part:r,parsed:e.parsed,index:e.index,element:e.element},t},throwXmlInvalid:function(e,t){var r=new u("An XML file has invalid xml");throw r.properties={id:"file_has_invalid_xml",content:e,offset:t,explanation:"The docx contains invalid XML, it is most likely corrupt"},r},throwResolveBeforeCompile:function(){var e=new d("You must run `.compile()` before running `.resolveData()`");throw e.properties={id:"resolve_before_compile",explanation:"You must run `.compile()` before running `.resolveData()`"},e},throwRenderInvalidTemplate:function(){var e=new d("You should not call .render on a document that had compilation errors");throw e.properties={id:"render_on_invalid_template",explanation:"You should not call .render on a document that had compilation errors"},e},throwRenderTwice:function(){var e=new d("You should not call .render twice on the same docxtemplater instance");throw e.properties={id:"render_twice",explanation:"You should not call .render twice on the same docxtemplater instance"},e}}},9896:(e,t,r)=>{"use strict";var n=r(1520),i=r(8900),a=r(3304),s=r(8373),o=r(5708);e.exports={docx:function(){return{getTemplatedFiles:function(){return[]},templatedNs:["http://schemas.microsoft.com/office/2006/coverPageProps"],textPath:function(e){return e.textTarget},tagsXmlTextArray:["Company","HyperlinkBase","Manager","cp:category","cp:keywords","dc:creator","dc:description","dc:subject","dc:title","cp:contentStatus","PublishDate","Abstract","CompanyAddress","CompanyPhone","CompanyFax","CompanyEmail","w:t","a:t","m:t","vt:lpstr","vt:lpwstr"],tagsXmlLexedArray:["w:proofState","w:tc","w:tr","w:tbl","w:ftr","w:hdr","w:body","w:document","w:p","w:r","w:br","w:rPr","w:pPr","w:spacing","w:sdtContent","w:sdt","w:drawing","w:sectPr","w:type","w:headerReference","w:footerReference","w:bookmarkStart","w:bookmarkEnd","w:commentRangeStart","w:commentRangeEnd","w:commentReference"],droppedTagsInsidePlaceholder:["w:p","w:br","w:bookmarkStart","w:bookmarkEnd"],expandTags:[{contains:"w:tc",expand:"w:tr"}],onParagraphLoop:[{contains:"w:p",expand:"w:p",onlyTextInTag:!0}],tagRawXml:"w:p",baseModules:[n,i,s,a,o],tagShouldContain:[{tag:"w:sdtContent",shouldContain:["w:p","w:r","w:commentRangeStart","w:sdt"],value:"<w:p></w:p>"},{tag:"w:tc",shouldContain:["w:p"],value:"<w:p></w:p>"},{tag:"w:tr",shouldContain:["w:tc"],drop:!0},{tag:"w:tbl",shouldContain:["w:tr"],drop:!0}]}},pptx:function(){return{getTemplatedFiles:function(){return[]},textPath:function(e){return e.textTarget},tagsXmlTextArray:["Company","HyperlinkBase","Manager","cp:category","cp:keywords","dc:creator","dc:description","dc:subject","dc:title","a:t","m:t","vt:lpstr","vt:lpwstr"],tagsXmlLexedArray:["p:sp","a:tc","a:tr","a:tbl","a:graphicData","a:p","a:r","a:rPr","p:txBody","a:txBody","a:off","a:ext","p:graphicFrame","p:xfrm","a16:rowId","a:endParaRPr"],droppedTagsInsidePlaceholder:["a:p","a:endParaRPr"],expandTags:[{contains:"a:tc",expand:"a:tr"}],onParagraphLoop:[{contains:"a:p",expand:"a:p",onlyTextInTag:!0}],tagRawXml:"p:sp",baseModules:[n,s,a,o],tagShouldContain:[{tag:"a:tbl",shouldContain:["a:tr"],dropParent:"p:graphicFrame"},{tag:"p:txBody",shouldContain:["a:p"],value:"<a:p></a:p>"},{tag:"a:txBody",shouldContain:["a:p"],value:"<a:p></a:p>"}]}}}},3589:e=>{"use strict";var t=["application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","application/vnd.ms-word.document.macroEnabled.main+xml","application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml","application/vnd.ms-word.template.macroEnabledTemplate.main+xml"],r={main:t,docx:["application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml"].concat(t,["application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml","application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml"]),pptx:["application/vnd.openxmlformats-officedocument.presentationml.slide+xml","application/vnd.openxmlformats-officedocument.presentationml.slideMaster+xml","application/vnd.openxmlformats-officedocument.presentationml.slideLayout+xml","application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml"],xlsx:["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml","application/vnd.ms-excel.sheet.macroEnabled.main+xml","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"]};e.exports=r},262:(e,t,r)=>{"use strict";var n=r(2307).str2xml,i="[Content_Types].xml";e.exports={collectContentTypes:function(e,t,r){for(var n={},a=0;a<e.length;a++){var s=e[a],o=s.getAttribute("ContentType");n[s.getAttribute("PartName").substr(1)]=o}return r.file(/./).map(function(e){for(var r=e.name,a=0;a<t.length;a++){var s=t[a],o=s.getAttribute("ContentType"),l=s.getAttribute("Extension");r.slice(r.length-l.length)!==l||n[r]||r===i||(n[r]=o)}n[r]||(n[r]="")}),n},getContentTypes:function(e){var t=e.files[i],r=t?n(t.asText()):null;return{overrides:r?r.getElementsByTagName("Override"):null,defaults:r?r.getElementsByTagName("Default"):null,contentTypes:t,contentTypeXml:r}}}},5347:(e,t,r)=>{"use strict";var n=r(2307).str2xml;e.exports={getRelsTypes:function(e){for(var t=e.files["_rels/.rels"],r=t?n(t.asText()):null,i=r?r.getElementsByTagName("Relationship"):[],a={},s=0;s<i.length;s++){var o=i[s];a[o.getAttribute("Target")]=o.getAttribute("Type")}return a}}},5268:e=>{"use strict";e.exports=function(e,t){if(null==e.lIndex)return null;var r=t.scopeManager.scopePathItem;return e.parentPart&&(r=r.slice(0,r.length-1)),t.filePath+"@"+e.lIndex.toString()+"-"+r.join("-")}},1110:e=>{"use strict";function t(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function n(e){return"placeholder"===e.type}e.exports={getTags:function(e){var r={},i=[{items:e.filter(n),parents:[],path:[]}];function a(e,r,n){n.length&&i.push({items:n,parents:[].concat(t(r.parents),[e]),path:!1===e.dataBound||e.attrParsed||!e.value||e.attrParsed?t(r.path):[].concat(t(r.path),[e.value])})}function s(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,n=e,i=0;i<r;i++)n=n[t[i]];return n}for(;i.length>0;)for(var o=i.pop(),l=s(r,o.path),u=0,c=o.items;u<c.length;u++){var h=c[u];if(h.attrParsed){for(var d in h.attrParsed)a(h,o,h.attrParsed[d].filter(n));continue}if(h.subparsed){!1!==h.dataBound&&((b=l)[v=h.value]||(b[v]={})),a(h,o,h.subparsed.filter(n));continue}if(h.cellParsed){for(var f=0,p=h.cellPostParsed;f<p.length;f++){var m=p[f];if("placeholder"===m.type){if("pro-xml-templating/xls-module-loop"===m.module)continue;if(m.subparsed)(w=l)[_=m.value]||(w[_]={}),a(m,o,m.subparsed.filter(n));else{var g,y,b,v,w,_,E,T,x=function(e,t){for(var r=t.length,n=0;n<t.length;n++){var i=t[n];("number"==typeof i.lIndex?i.lIndex:parseInt(i.lIndex.split("-")[0],10))>e.lIndex&&r--}return r}(h,o.parents);(E=l=s(r,o.path,x))[T=m.value]||(E[T]={})}}}continue}!1!==h.dataBound&&((g=l)[y=h.value]||(g[y]={}))}return r},isPlaceholder:n}},3133:(e,t,r)=>{"use strict";var n=r(2307),i=n.startsWith,a=n.endsWith,s=n.isStarting,o=n.isEnding,l=n.isWhiteSpace,u=r(3589);e.exports=function(e,t){var r=t.fileTypeConfig.tagShouldContain||[],n="",c=-1;-1!==u.docx.indexOf(t.contentType)&&(e=function(e){for(var t="",r=0,n=e.length;r<n;r++){var s=e[r];l(s)||i(s,"<w:bookmarkEnd")||(!a(t,"</w:tbl>")||i(s,"<w:p")||i(s,"<w:tbl")||i(s,"<w:sectPr")||i(s,"</w:ftr>")||i(s,"</w:hdr>")||(s="<w:p/>".concat(s)),t=s,e[r]=s)}return e}(e));for(var h=-1,d=0,f=r.length;d<f;d++)for(var p=r[d],m=p.tag,g=p.shouldContain,y=p.value,b=p.drop,v=p.dropParent,w=0,_=e.length;w<_;w++){var E=e[w];if(c===d){if(o(E,m)){if(c=-1,v){for(var T=-1,x=h;x>0;x--)if(s(e[x],v)){T=x;break}for(var S=T;S<=e.length;S++){if(o(e[S],v)){e[S]="";break}e[S]=""}}else{for(var k=h;k<=w;k++)e[k]="";b||(e[w]=n+y+E)}}n+=E;for(var O=0,A=g.length;O<A;O++)if(s(E,g[O])){c=-1;break}}-1===c&&s(E,m)&&-1===E.substr(1).indexOf("<")&&("/"===E[E.length-2]?e[w]="":(h=w,c=d,n=E))}return e}},6369:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var i,a;i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}(i))in e?Object.defineProperty(e,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var l=r(6717),u=l.getUnclosedTagException,c=l.getUnopenedTagException,h=l.getDuplicateOpenTagException,d=l.getDuplicateCloseTagException,f=l.throwMalformedXml,p=l.throwXmlInvalid,m=l.XTTemplateError,g=r(2307),y=g.isTextStart,b=g.isTextEnd,v=g.wordToUtf8,w=g.pushArray;function _(e,t,r){var n=e.map(function(e){return e.value}).join(""),a=function(e,t,r){var n=[],a=t.start,s=t.end,o=-1,l=!1;if(null==a&&null==s)return[];for(;;){var u=e.indexOf(a,o+1),c=e.indexOf(s,o+1),h=null,d=void 0,f=-1===u&&-1===c?0:u===c?1:-1===u||-1===c?c<u?2:3:u<c?2:3;switch(1===f&&(f=l?3:2),f){case 0:return n;case 3:l=!1,o=c,h="end",d=s.length;break;case 2:l=!0,o=u,h="start",d=a.length}if(r.changeDelimiterPrefix&&2===f&&e[o+a.length]===r.changeDelimiterPrefix){n.push({offset:u,position:"start",length:a.length,changedelimiter:!0});var p=e.indexOf(r.changeDelimiterPrefix,o+a.length+1),g=e.indexOf(s,p+1);n.push({offset:g,position:"end",length:s.length,changedelimiter:!0});var y=function(e){var t=e.split(" ");if(2!==t.length){var r=new m("New Delimiters cannot be parsed");throw r.properties={id:"change_delimiters_invalid",explanation:"Cannot parser delimiters"},r}var n=i(t,2),a=n[0],s=n[1];if(0===a.length||0===s.length){var o=new m("New Delimiters cannot be parsed");throw o.properties={id:"change_delimiters_invalid",explanation:"Cannot parser delimiters"},o}return[a,s]}(e.substr(o+a.length+1,p-o-a.length-1)),b=i(y,2);a=b[0],s=b[1],o=g;continue}n.push({offset:o,position:h,length:d})}}(n,t,r),s=0,l=e.map(function(e){return{offset:(s+=e.value.length)-e.value.length,lIndex:e.lIndex}}),f=function(e,t,r){var n,i=[],a=!1,s={offset:0},l=e.reduce(function(e,l){var f=l.position,p=l.offset,m=s.offset,g=s.length;if(n=t.substr(m,p-m),a&&"start"===f){if(m+g===p&&(n=t.substr(m,p-m+g+4),!r.allowUnclosedTag))return i.push(h({xtag:n,offset:m})),s=l,e.push(o(o({},l),{},{error:!0})),e;if(!r.allowUnclosedTag)return i.push(u({xtag:v(n),offset:m})),s=l,e.push(o(o({},l),{},{error:!0})),e;e.pop()}return a||"end"!==f?(a="start"===f,s=l,e.push(l)):r.allowUnopenedTag||(m+g===p?(n=t.substr(m-4,p-m+g+4),i.push(d({xtag:n,offset:m}))):i.push(c({xtag:n,offset:p})),s=l,e.push(o(o({},l),{},{error:!0}))),e},[]);if(a){var f=s.offset;n=t.substr(f,t.length-f),r.allowUnclosedTag?l.pop():i.push(u({xtag:v(n),offset:f}))}return{delimiterWithErrors:l,errors:i}}(a,n,r),p=f.delimiterWithErrors,g=f.errors,y=0,b=0;return{parsed:l.map(function(t,r){for(var n,i=t.offset,a=[i,i+e[r].value.length],s=e[r].value,o=[];b<p.length&&a[0]<=(n=p[b]).offset&&n.offset<a[1];)o.push(p[b]),b++;var l=[],u=0;y>0&&(u=y,y=0);for(var c=0;c<o.length;c++){var h=o[c],d=s.substr(u,h.offset-i-u);if(h.changedelimiter){"start"===h.position?d.length>0&&l.push({type:"content",value:d}):u=h.offset-i+h.length;continue}d.length>0&&(l.push({type:"content",value:d}),u+=d.length);var f={type:"delimiter",position:h.position,offset:u+i};l.push(f),u=h.offset-i+h.length}y=u-s.length;var m=s.substr(u);return m.length>0&&l.push({type:"content",value:m}),l},this),errors:g}}function E(e){return"content"===e.type&&"insidetag"===e.position}e.exports={parseDelimiters:_,parse:function(e,t,r,n){!function(e,t){for(var r=!1,n=0;n<e.length;n++){var i,a=e[n];i=r,r=y(a)?(i&&f(),!0):b(a)?(i||f(),!1):i,"content"===a.type&&(a.position=r?"insidetag":"outsidetag"),"text"!==t&&E(a)&&(a.value=a.value.replace(/>/g,"&gt;"))}}(e,n);for(var i=_(e.filter(E),t,r),a=i.parsed,s=i.errors,o=[],l=0,u=0,c=0;c<e.length;c++){var h=e[c];if(E(h)){for(var d=0,p=a[l];d<p.length;d++){var m=p[d];"content"===m.type&&(m.position="insidetag"),m.lIndex=u++}w(o,a[l]),l++}else h.lIndex=u++,o.push(h)}return{errors:s,lexed:o}},xmlparse:function(e,t){for(var r=function(e,t,r){for(var n=0,i=e.length,a={},s=0;s<t.length;s++)a[t[s]]=!0;for(var o=0;o<r.length;o++)a[r[o]]=!1;for(var l=[];n<i&&-1!==(n=e.indexOf("<",n));){var u=n,c=e.indexOf("<",n+1);(-1===(n=e.indexOf(">",n))||-1!==c&&n>c)&&p(e,u);var h=e.slice(u,n+1),d=function(e){var t="",r=1,n=e.indexOf(" ");return"/"===e[e.length-2]?(t="selfclosing",-1===n&&(n=e.length-2)):("/"===e[1]?(r=2,t="end"):t="start",-1===n&&(n=e.length-1)),{tag:e.slice(r,n),position:t}}(h),f=d.tag,m=d.position,g=a[f];null!=g&&l.push({type:"tag",position:m,text:g,offset:u,value:h,tag:f})}return l}(e,t.text,t.other),n=0,i=[],a=0;a<r.length;a++){var s=r[a];e.length>n&&s.offset-n>0&&i.push({type:"content",value:e.substr(n,s.offset-n)}),n=s.offset+s.value.length,delete s.offset,i.push(s)}return e.length>n&&i.push({type:"content",value:e.substr(n)}),i}}},7960:e=>{"use strict";e.exports=function(e){for(var t=0,r=0,n=e;r<n.length;r++)t+=n[r].length;e=e.filter(function(e){return e.length>0});for(var i=Array(t),a=e.map(function(){return 0}),s=0;s<t;s++){var o=function(e,t){for(var r=-1,n=0,i=e.length;n<i;n++)!(t[n]>=e[n].length)&&(-1===r||e[n][t[n]].offset<e[r][t[r]].offset)&&(r=n);return r}(e,a);i[s]=e[o][a[o]],a[o]++}return i}},3014:e=>{"use strict";function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=function(){var e;function n(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n)}return e=[{key:"createSchema",value:function(e){return{validate:e,optional:function(){return n.createSchema(function(t){return void 0===t?{success:!0,value:t}:e(t)})},nullable:function(){return n.createSchema(function(t){return null==t?{success:!0,value:t}:e(t)})}}}},{key:"string",value:function(){return n.createSchema(function(e){return"string"!=typeof e?{success:!1,error:"Expected string, received ".concat(r(e))}:{success:!0,value:e}})}},{key:"date",value:function(){return n.createSchema(function(e){return e instanceof Date?{success:!0,value:e}:{success:!1,error:"Expected date, received ".concat(r(e))}})}},{key:"boolean",value:function(){return n.createSchema(function(e){return"boolean"!=typeof e?{success:!1,error:"Expected boolean, received ".concat(r(e))}:{success:!0,value:e}})}},{key:"number",value:function(){return n.createSchema(function(e){return"number"!=typeof e?{success:!1,error:"Expected number, received ".concat(r(e))}:{success:!0,value:e}})}},{key:"function",value:function(){return n.createSchema(function(e){return"function"!=typeof e?{success:!1,error:"Expected function, received ".concat(r(e))}:{success:!0,value:e}})}},{key:"array",value:function(e){return n.createSchema(function(t){if(!Array.isArray(t))return{success:!1,error:"Expected array, received ".concat(r(t))};for(var n=0;n<t.length;n++){var i=e.validate(t[n]);if(!i.success)return{success:!1,error:"".concat(i.error," at index ").concat(n)}}return{success:!0,value:t}})}},{key:"any",value:function(){return n.createSchema(function(e){return{success:!0,value:e}})}},{key:"isRegex",value:function(){return n.createSchema(function(e){return e instanceof RegExp?{success:!0,value:e}:{success:!1,error:"Expected RegExp, received ".concat(r(e))}})}},{key:"union",value:function(e){return n.createSchema(function(t){for(var r=0;r<e.length;r++){var n=e[r].validate(t);if(n.success)return n}return{success:!1,error:"Value ".concat(t," does not match any schema in union")}})}},{key:"object",value:function(e){var i=n.createSchema(function(n){if(null==n)return{success:!1,error:"Expected object, received ".concat(n)};if("object"!==r(n))return{success:!1,error:"Expected object, received ".concat(r(n))};for(var i=0,a=Object.entries(e);i<a.length;i++){var s,o=function(e){if(Array.isArray(e))return e}(s=a[i])||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,s,o=[],l=!0,u=!1;try{for(a=(r=r.call(e)).next;!(l=(n=a.call(r)).done)&&(o.push(n.value),2!==o.length);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}(s,2)||function(e,r){if(e){if("string"==typeof e)return t(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,2):void 0}}(s,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=o[0],u=o[1].validate(n[l]);if(!u.success)return{success:!1,error:"".concat(u.error," at ").concat(l)}}return{success:!0,value:n}});return i.strict=function(){return n.createSchema(function(t){var r=i.validate(t);if(!r.success)return r;var n=Object.keys(t).filter(function(t){return!(t in e)});return n.length>0?{success:!1,error:"Unexpected properties: ".concat(n.join(", "))}:r})},i}},{key:"record",value:function(e){return n.createSchema(function(t){if(null===t)return{success:!1,error:"Expected object, received null"};if("object"!==r(t))return{success:!1,error:"Expected object, received ".concat(r(t))};for(var n=0,i=Object.keys(t);n<i.length;n++){var a=i[n];if("string"!=typeof a)return{success:!1,error:"Expected string key, received ".concat(r(a)," at ").concat(a)};var s=e.validate(t[a]);if(!s.success)return{success:!1,error:"".concat(s.error," at key ").concat(a)}}return{success:!0,value:t}})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}(i.key),i)}}(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}();e.exports=n},5887:(e,t,r)=>{"use strict";var n=r(6717).XTInternalError;function i(){}function a(e){return e}e.exports=function(e){var t={on:i,set:i,getFileType:i,optionsTransformer:a,preparse:a,matchers:function(){return[]},parse:i,getTraits:i,postparse:a,errorsTransformer:a,preResolve:i,resolve:i,getRenderedMap:a,render:i,nullGetter:i,postrender:a};if(Object.keys(t).every(function(t){return!e[t]})){var r=new n("This module cannot be wrapped, because it doesn't define any of the necessary functions");throw r.properties={id:"module_cannot_be_wrapped",explanation:"This module cannot be wrapped, because it doesn't define any of the necessary functions"},r}for(var s in t)e[s]||(e[s]=t[s]);return e}},4536:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=r(2307).pushArray,a=r(5887),s=r(3589),o=r(4565),l=[o.settingsContentType,o.coreContentType,o.appContentType,o.customContentType,o.diagramDataContentType,o.diagramDrawingContentType],u=function(){var e,t;return e=function e(){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.name="Common"},t=[{key:"getFileType",value:function(e){var t,r=e.doc,n=r.invertedContentTypes;if(n){for(var a=0;a<l.length;a++){var o=l[a];n[o]&&i(r.targets,n[o])}for(var u=["docx","pptx","xlsx"],c=0;c<u.length;c++){for(var h=u[c],d=s[h],f=0;f<d.length;f++){var p=d[f];if(n[p])for(var m=0,g=n[p];m<g.length;m++){var y=g[m];(!r.relsTypes[y]||-1!==["http://purl.oclc.org/ooxml/officeDocument/relationships/officeDocument","http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument"].indexOf(r.relsTypes[y]))&&(t=h,(-1!==s.main.indexOf(p)||p===s.pptx[0])&&(r.textTarget||(r.textTarget=y)),"xlsx"!==t&&r.targets.push(y))}}if(t)continue}return t}}}],function(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}(i.key),i)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}();e.exports=function(){return a(new u)}},8373:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=r(7960),a=r(2307),s=a.getLeft,o=a.getRight,l=a.pushArray,u=r(5887),c=r(4010).getExpandToDefault,h=r(6717),d=h.getUnmatchedLoopException,f=h.getClosingTagNotMatchOpeningTag,p=h.getUnbalancedLoopException;function m(e,t){return null!=e&&null!=t&&("start"===e.part.location&&"end"===t.part.location&&e.part.value===t.part.value||""===t.part.value)}var g=function(){var e,t;return e=function e(){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.name="ExpandPairTrait"},t=[{key:"optionsTransformer",value:function(e,t){return t.options.paragraphLoop&&l(t.fileTypeConfig.expandTags,t.fileTypeConfig.onParagraphLoop),this.expandTags=t.fileTypeConfig.expandTags,e}},{key:"postparse",value:function(e,t){var r,n=this,a=t.getTraits,u=t.postparse,h=t.fileType,g=a("expandPair",e,t),y=function(e){var t={},r=[],n=[],i=[];for(l(i,e);i.length>0;){var a=function(e){for(var t=0,r=[];t<e.length;){var n=e[t].part;if("end"===n.location){if(0===t)return e.splice(0,1),r.push(d(n)),{traits:e,errors:r};var i=t,a=t-1,s=1;if(m(e[a],e[i]))return e.splice(i,1),e.splice(a,1),{errors:r,traits:e};for(;s<50;){var o=e[a-s],l=e[i+s];if(m(o,e[i]))return e.splice(i,1),e.splice(a-s,1),{errors:r,traits:e};if(m(e[a],l))return e.splice(i+s,1),e.splice(a,1),{errors:r,traits:e};s++}return r.push(f({tags:[e[a].part,e[i].part]})),e.splice(i,1),e.splice(a,1),{traits:e,errors:r}}t++}for(var u=0;u<e.length;u++){var c=e[u].part;r.push(d(c))}return{traits:[],errors:r}}(i);l(r,a.errors),i=a.traits}if(r.length>0)return{pairs:n,errors:r};for(var s=0,o=0;o<e.length;o++){var u=e[o],c=function(e){switch(e.location){case"start":return 1;case"end":return -1}}(u.part);if(s+=c,1===c)t[s]=u;else{var h=t[s+1];0===s&&n.push([h,u])}s=s>=0?s:0}return{pairs:n,errors:r}}(g=i(g=g.map(function(e){return e||[]}))),b=y.pairs,v=y.errors,w=0,_=null,E=b.map(function(t){var r,i,a=t[0].part.expandTo;if("auto"===a&&"text"!==h){var l=c(e,t,n.expandTags);l.error&&v.push(l.error),a=l.value}if(!a||"text"===h){var u=t[0].offset,d=t[1].offset;return u<w&&!n.docxtemplater.options.syntax.allowUnbalancedLoops&&v.push(p(t,_)),_=t,w=d,[u,d]}try{r=s(e,a,t[0].offset)}catch(e){v.push(e)}try{i=o(e,a,t[1].offset)}catch(e){v.push(e)}return r<w&&!n.docxtemplater.options.syntax.allowUnbalancedLoops&&v.push(p(t,_)),w=i,_=t,[r,i]});if(v.length>0)return{postparsed:e,errors:v};var T=0;return{postparsed:e.reduce(function(t,n,i){var a=T<b.length&&E[T][0]<=i&&i<=E[T][1],s=b[T],o=E[T];if(!a)return t.push(n),t;if(o[0]===i&&(r=[]),s[0].offset!==i&&s[1].offset!==i&&r.push(n),o[1]===i){var l=e[s[0].offset];l.subparsed=u(r,{basePart:l}),l.endLindex=s[1].part.lIndex,delete l.location,delete l.expandTo,t.push(l);for(var c=E[++T];c&&c[0]<i;)c=E[++T]}return t},[]),errors:v}}}],function(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}(i.key),i)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}();e.exports=function(){return u(new g)}},1520:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=o(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function o(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}var l=r(2307),u=l.chunkBy,c=l.last,h=l.isParagraphStart,d=l.isModule,f=l.pushArray,p=l.isParagraphEnd,m=l.isContent,g=l.startsWith,y=l.isTagEnd,b=l.isTagStart,v=l.getSingleAttribute,w=l.setSingleAttribute,_=r(3589),E=r(5887),T="loop";function x(e){var t=function(e){for(var t=0;t<e.length;t++){var r=e[t];if("content"!==r.type)return r}return null}(e.subparsed);return null!=t&&"w:t"!==t.tag}function S(e){return!function(e){for(var t=0;t<e.length;t++)if(m(e[t]))return!0;return!1}(e)?e.length:0}function k(e){var t=e.parts.length-1;"</w:p>"===e.parts[t]?e.parts.splice(t,0,'<w:r><w:br w:type="page"/></w:r>'):e.parts.push('<w:p><w:r><w:br w:type="page"/></w:r></w:p>')}function O(e){for(var t=0;t<e.length;t++){var r=e[t];if("w:br"===r.tag&&-1!==r.value.indexOf('w:type="page"'))return!0}return!1}function A(e){for(var t=0;t<e.length;t++)if("w:drawing"===e[t].tag)return!0;return!1}var C=function(){var e,t;return e=function e(){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.name="LoopModule",this.inXfrm=!1,this.totalSectPr=0,this.prefix={start:"#",end:"/",dash:/^-([^\s]+)\s(.+)/,inverted:"^"}},t=[{key:"optionsTransformer",value:function(e,t){return this.docxtemplater=t,e}},{key:"preparse",value:function(e,t){var r=t.contentType;-1!==_.main.indexOf(r)&&(this.sects=function(e){for(var t=[],r=null,n=0;n<e.length;n++){var i=e[n];b("w:sectPr",i)&&(r=[],t.push(r)),null!==r&&r.push(i),y("w:sectPr",i)&&(r=null)}return t}(e))}},{key:"matchers",value:function(){return[[this.prefix.start,T,{expandTo:"auto",location:"start",inverted:!1}],[this.prefix.inverted,T,{expandTo:"auto",location:"start",inverted:!0}],[this.prefix.end,T,{location:"end"}],[this.prefix.dash,T,function(e){var t=function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,s,o=[],l=!0,u=!1;try{for(a=(r=r.call(e)).next;!(l=(n=a.call(r)).done)&&(o.push(n.value),3!==o.length);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}(e,3)||function(e,t){if(e){if("string"==typeof e)return s(e,3);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,3):void 0}}(e,3)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return{location:"start",inverted:!1,expandTo:t[1],value:t[2]}}]]}},{key:"getTraits",value:function(e,t){if("expandPair"===e){for(var r=[],n=0,i=t.length;n<i;n++){var a=t[n];d(a,T)&&null==a.subparsed&&r.push({part:a,offset:n})}return r}}},{key:"postparse",value:function(e,t){var r=t.basePart;if(r&&"docx"===this.docxtemplater.fileType&&e.length>0){r.sectPrCount=function(e){for(var t=!1,r=0,n=0;n<e.length;n++){var i=e[n];b("w:sectPr",i)&&(t=!0),t&&("w:headerReference"===i.tag||"w:footerReference"===i.tag)&&(r++,t=!1),y("w:sectPr",i)&&(t=!1)}return r}(e),this.totalSectPr+=r.sectPrCount;for(var n=this.sects,i=0,a=n.length;i<a;i++){var s=n[i];if(r.lIndex<s[0].lIndex){i+1<n.length&&function(e){for(var t=0;t<e.length;t++){var r=e[t];if(b("w:type",r)&&-1!==r.value.indexOf("continuous"))return!0}return!1}(n[i+1])&&(r.addContinuousType=!0);break}if(e[0].lIndex<s[0].lIndex&&s[0].lIndex<r.lIndex){(function(e){for(var t=0;t<e.length;t++){var r=e[t];if(b("w:type",r)&&-1!==r.value.indexOf('w:val="nextPage"'))return!0}return!1})(n[i])&&(r.addNextPage={index:i});break}}r.lastParagrapSectPr=function(e){for(var t=[],r=!1,n=e.length-1;n>=0;n--){var i=e[n];if(y("w:sectPr",i)&&(r=!0),b("w:sectPr",i)&&(t.unshift(i.value),r=!1),r&&t.unshift(i.value),h(i)){if(t.length>0)return t.join("");break}}return""}(e)}if(!r||"auto"!==r.expandTo||r.module!==T||!(e.length&&h(e[0])&&p(c(e))))return e;r.paragraphLoop=!0;var o=0,l=u(e,function(e){return h(e)&&1==++o?"start":p(e)&&0==--o?"end":null}),d=l[0],f=c(l),m=S(d),g=S(f);return r.hasPageBreakBeginning=O(d),r.hasPageBreak=O(f),A(d)&&(m=0),A(f)&&(g=0),e.slice(m,e.length-g)}},{key:"resolve",value:function(e,t){var r,n=this;if(!d(e,T))return null;var i=t.scopeManager,s=i.getValueAsync(e.value,{part:e}),o=[];function l(s,l,u){var c=i.createSubScopeManager(s,e.value,l,e,u);n.resolveSerially?(r=r.then(function(){return t.resolve(a(a({},t),{},{compiled:e.subparsed,tags:{},scopeManager:c}))}),o.push(r)):o.push(t.resolve(a(a({},t),{},{compiled:e.subparsed,tags:{},scopeManager:c})))}n.resolveSerially&&(r=Promise.resolve(null));var u=[];return s.then(function(r){return(null!=r||(r=t.nullGetter(e)),r instanceof Promise)?r.then(function(e){return e instanceof Array?Promise.all(e):e}):r instanceof Array?Promise.all(r):r}).then(function(t){return i.loopOverValue(t,l,e.inverted),Promise.all(o).then(function(e){return e.map(function(e){var t=e.resolved;return f(u,e.errors),t})}).then(function(e){if(u.length>0)throw u;return e})})}},{key:"render",value:function(e,t){var r=this;if("p:xfrm"===e.tag&&(r.inXfrm="start"===e.position),"a:ext"===e.tag&&r.inXfrm)return r.lastExt=e,e;if(!d(e,T))return null;var n=[],i=[],s=0,o=e.subparsed[0],l=0;(null==o?void 0:o.tag)==="a:tr"&&(l=+v(o.value,"h")),s-=l;var u=0,c=x(e),h=t.scopeManager.getValue(e.value,{part:e});if(null!=h||(h=t.nullGetter(e)),!1===t.scopeManager.loopOverValue(h,function(o,h,d){s+=l;for(var p=t.scopeManager.createSubScopeManager(o,e.value,h,e,d),m=0,y=e.subparsed;m<y.length;m++){var _=y[m];if(b("a16:rowId",_)){var E=+v(_.value,"val")+u;u=1,_.value=w(_.value,"val",E)}}var T=t.render(a(a({},t),{},{compiled:e.subparsed,tags:{},scopeManager:p}));e.hasPageBreak&&h===d-1&&c&&k(T),p.scopePathItem.some(function(e){return 0!==e})?(1===e.sectPrCount&&(T.parts=function(e){for(var t=0,r=0;r<e.length;r++)!g(e[r],"<w:headerReference")&&!g(e[r],"<w:footerReference")&&(e[t]=e[r],t++);return e.length=t,e}(T.parts)),e.addContinuousType&&(T.parts=function(e){for(var t=!1,r=!1,n=0;n<e.length;n++){var i=e[n];!t&&g(i,"<w:sectPr")&&(r=!0),r&&(g(i,"<w:type")&&(t=!0),!t&&g(i,"</w:sectPr")&&(e.splice(n,0,'<w:type w:val="continuous"/>'),n++))}return e}(T.parts))):e.addNextPage&&function(e,t){e.unshift("<w:p><w:pPr>".concat(t.map(function(e){return e.value}).join(""),"</w:pPr></w:p>"))}(T.parts,r.sects[e.addNextPage.index]),e.addNextPage&&k(T),e.hasPageBreakBeginning&&c&&function(e){e.parts.unshift('<w:p><w:r><w:br w:type="page"/></w:r></w:p>')}(T);for(var x=0,S=T.parts;x<S.length;x++){var O=S[x];n.push(O)}f(i,T.errors)},e.inverted))return e.lastParagrapSectPr?e.paragraphLoop?{value:"<w:p><w:pPr>".concat(e.lastParagrapSectPr,"</w:pPr></w:p>")}:{value:"</w:t></w:r></w:p><w:p><w:pPr>".concat(e.lastParagrapSectPr,"</w:pPr><w:r><w:t>")}:{value:(e.hasPageBreak&&x(e)?'<w:p><w:r><w:br w:type="page"/></w:r></w:p>':"")||"",errors:i};if(0!==s){var p=+v(r.lastExt.value,"cy");r.lastExt.value=w(r.lastExt.value,"cy",p+s)}return{value:t.joinUncorrupt(n,a(a({},t),{},{basePart:e})),errors:i}}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}();e.exports=function(){return E(new C)}},3304:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=r(4010),a=r(2307).isContent,s=r(6717),o=s.throwRawTagShouldBeOnlyTextInParagraph,l=s.getInvalidRawXMLValueException,u=r(5887),c="rawxml";function h(e){for(var t=e.part,r=e.left,n=e.right,i=e.postparsed,s=e.index,l=i.slice(r+1,n),u=0,c=l.length;u<c;u++)u!==s-r-1&&a(l[u])&&o({paragraphParts:l,part:t});return t}var d=function(){var e,t;return e=function e(){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.name="RawXmlModule",this.prefix="@"},t=[{key:"optionsTransformer",value:function(e,t){return this.fileTypeConfig=t.fileTypeConfig,e}},{key:"matchers",value:function(){return[[this.prefix,c]]}},{key:"postparse",value:function(e){return i.expandToOne(e,{moduleName:c,getInner:h,expandTo:this.fileTypeConfig.tagRawXml,error:{message:"Raw tag not in paragraph",id:"raw_tag_outerxml_invalid",explanation:function(e){return'The tag "'.concat(e.value,'" is not inside a paragraph, putting raw tags inside an inline loop is disallowed.')}}})}},{key:"render",value:function(e,t){if(e.module!==c)return null;var r,n=[];try{null!=(r=t.scopeManager.getValue(e.value,{part:e}))||(r=t.nullGetter(e))}catch(e){return n.push(e),{errors:n}}return"string"==typeof(r=r||"")?{value:r}:{errors:[l({tag:e.value,value:r,offset:e.offset})]}}}],function(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}(i.key),i)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}();e.exports=function(){return u(new d)}},5708:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=r(5887),a=r(6717),s=a.getScopeCompilationError,o=a.getCorruptCharactersException,l=r(2307),u=l.utf8ToWord,c=l.hasCorruptCharacters,h=l.removeCorruptCharacters,d=r(4565),f=[d.settingsContentType,d.coreContentType,d.appContentType,d.customContentType],p={docx:"w",pptx:"a"},m=function(){var e,t;return e=function e(){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.name="Render",this.recordRun=!1,this.recordedRun=[]},t=[{key:"set",value:function(e){e.compiled&&(this.compiled=e.compiled),null!=e.data&&(this.data=e.data)}},{key:"optionsTransformer",value:function(e,t){return this.docxtemplater=t,this.brTag="docx"===t.fileType?"<w:r><w:br/></w:r>":"<a:br/>",this.prefix=p[t.fileType],this.runStartTag="".concat(this.prefix,":r"),this.runPropsStartTag="".concat(this.prefix,":rPr"),e}},{key:"postparse",value:function(e,t){for(var r=[],n=0;n<e.length;n++){var i=e[n];if("placeholder"===i.type){var a=i.value;try{t.cachedParsers[i.lIndex]=this.docxtemplater.parser(a,{tag:i})}catch(e){r.push(s({tag:a,rootError:e,offset:i.offset}))}}}return{postparsed:e,errors:r}}},{key:"getRenderedMap",value:function(e){for(var t in this.compiled)e[t]={from:t,data:this.data};return e}},{key:"render",value:function(e,t){var r,n=t.contentType,i=t.scopeManager,a=t.linebreaks,s=t.nullGetter,l=t.fileType,d=t.stripInvalidXMLChars;if(-1!==f.indexOf(n)&&(a=!1),a&&this.recordRuns(e),"placeholder"===e.type&&!e.module){try{r=i.getValue(e.value,{part:e})}catch(e){return{errors:[e]}}if(null!=r||(r=s(e)),"string"==typeof r){if(d)r=h(r);else if(-1!==["docx","pptx","xlsx"].indexOf(l)&&c(r))return{errors:[o({tag:e.value,value:r,offset:e.offset})]}}return"text"===l?{value:r}:{value:a&&"string"==typeof r?this.renderLineBreaks(r):u(r)}}}},{key:"recordRuns",value:function(e){e.tag===this.runStartTag?this.recordedRun="":e.tag===this.runPropsStartTag?("start"===e.position&&(this.recordRun=!0,this.recordedRun+=e.value),("end"===e.position||"selfclosing"===e.position)&&(this.recordedRun+=e.value,this.recordRun=!1)):this.recordRun&&(this.recordedRun+=e.value)}},{key:"renderLineBreaks",value:function(e){for(var t=[],r=e.split("\n"),n=0,i=r.length;n<i;n++)t.push(u(r[n])),n<r.length-1&&t.push("</".concat(this.prefix,":t></").concat(this.prefix,":r>").concat(this.brTag,"<").concat(this.prefix,":r>").concat(this.recordedRun,"<").concat(this.prefix,":t").concat("docx"===this.docxtemplater.fileType?' xml:space="preserve"':"",">"));return t}}],function(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}(i.key),i)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}();e.exports=function(){return i(new m)}},8900:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=r(5887),a=r(2307),s=a.isTextStart,o=a.isTextEnd,l=a.endsWith,u=a.startsWith,c=a.pushArray,h='<w:t xml:space="preserve">',d=h.length,f="</w:t>",p=f.length;function m(e,t){var r=e[t].value;return"</w:t>"===e[t+1].value||-1!==r.indexOf('xml:space="preserve"')?r:r.substr(0,r.length-1)+' xml:space="preserve">'}var g=function(){var e,t;return e=function e(){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.name="SpacePreserveModule"},t=[{key:"postparse",value:function(e,t){var r=[],n=!1,i=0,a=0,l=e.reduce(function(e,l){var u,h;return(s(l)&&"w:t"===l.tag&&(n=!0,a=r.length),n)?(r.push(l),u=r,t&&t.basePart&&u.length>1&&(i=t.basePart.endLindex,r[0].value=m(r,0)),h=r,"placeholder"===l.type&&h.length>1&&(r[a].value=m(r,a),i=l.endLindex),o(l)&&l.lIndex>i&&(0!==i&&(r[a].value=m(r,a)),c(e,r),r=[],n=!1,i=0,a=0)):e.push(l),e},[]);return c(l,r),l}},{key:"postrender",value:function(e){for(var t="",r=0,n=0,i=e.length;n<i;n++){var a=e[n];""!==a&&(l(t,h)&&u(a,f)&&(e[r]=t.substr(0,t.length-d)+"<w:t/>",a=a.substr(p)),t=a,r=n,e[n]=a)}return e}}],function(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}(i.key),i)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}();e.exports=function(){return i(new g)}},6143:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var i,a;i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}(i))in e?Object.defineProperty(e,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var l=r(2307),u=l.wordToUtf8,c=l.pushArray,h=r(3257),d=h.match,f=h.getValue,p=h.getValues;e.exports={preparse:function(e,t,r){return function(e,r){for(var n=0;n<t.length;n++)e=t[n].preparse(e,r)||e;return e}(e,r)},parse:function(e,t,r){var n,i=!1,o="",l=[],h=r.fileTypeConfig.droppedTagsInsidePlaceholder||[];return e.reduce(function(e,m){return"delimiter"===m.type?(i="start"===m.position,"end"===m.position&&(r.parse=function(e){return function(e,t){var r,n=t.modules,i=t.startOffset,o=t.lIndex;t.offset=i,t.match=d,t.getValue=f,t.getValues=p;var l=function(e,t,r){for(var n=[],i=0;i<e.length;i++){var o=e[i],l=s(o,2),u=l[0],c=l[1],h=o[2]||{};if(r.match(u,t)){var d=r.getValues(u,t);if("function"==typeof h&&(h=h(d)),!h.value){var f=s(d,2);h.value=f[1]}n.push(a({type:"placeholder",prefix:u,module:c,onMatch:h.onMatch,priority:h.priority},h))}}return n}(function(e,t){for(var r=[],n=0;n<e.length;n++){var i=e[n];if(i.matchers){var a=i.matchers(t);if(!(a instanceof Array))throw Error("module matcher returns a non array");c(r,a)}}return r}(n,t),e,t);if(l.length>0){for(var u=null,h=0;h<l.length;h++){var m=l[h];m.priority||(m.priority=-m.value.length),(!u||m.priority>u.priority)&&(u=m)}return u.offset=i,delete u.priority,u.endLindex=o,u.lIndex=o,u.raw=e,u.onMatch&&u.onMatch(u),delete u.onMatch,delete u.prefix,u}for(var g=0;g<n.length;g++)if(r=n[g].parse(e,t))return r.offset=i,r.endLindex=o,r.lIndex=o,r.raw=e,r;return{type:"placeholder",value:e,offset:i,endLindex:o,lIndex:o}}(e,a(a(a({},r),m),{},{startOffset:n,modules:t}))},e.push(r.parse(u(o))),c(e,l),l=[]),"start"===m.position&&(l=[],n=m.offset),o=""):i?"content"!==m.type||"insidetag"!==m.position?-1!==h.indexOf(m.tag)||l.push(m):o+=m.value:e.push(m),e},[])},postparse:function(e,t,r){function n(e,r,n){for(var i=[],a=0;a<t.length;a++){var s=t[a];i.push(s.getTraits(e,r,n))}return i}var i=[];return{postparsed:function e(r,s){for(var o=r,l=0;l<t.length;l++){var u=t[l].postparse(o,a(a({},s),{},{postparse:function(t,r){return e(t,a(a({},s),r))},getTraits:n}));if(null!=u){if(u.errors){c(i,u.errors),o=u.postparsed;continue}o=u}}return o}(e,r),errors:i}}}},3125:e=>{"use strict";function t(e){var t,r,n,i,a=0,s=e.length;for(n=0;n<s;n++)(64512&(t=e.charCodeAt(n)))==55296&&n+1<s&&(64512&(r=e.charCodeAt(n+1)))==56320&&(t=65536+(t-55296<<10)+(r-56320),n++),a+=t<128?1:t<2048?2:t<65536?3:4;var o=new Uint8Array(a);for(i=0,n=0;i<a;n++)(64512&(t=e.charCodeAt(n)))==55296&&n+1<s&&(64512&(r=e.charCodeAt(n+1)))==56320&&(t=65536+(t-55296<<10)+(r-56320),n++),t<128?o[i++]=t:(t<2048?o[i++]=192|t>>>6:(t<65536?o[i++]=224|t>>>12:(o[i++]=240|t>>>18,o[i++]=128|t>>>12&63),o[i++]=128|t>>>6&63),o[i++]=128|63&t);return o}e.exports=function(e,r){for(var n=0,i=r.modules;n<i.length;n++)e=i[n].postrender(e,r);for(var a=0,s=r.joinUncorrupt(e,r),o="",l=0,u=[],c=0,h=s.length;c<h;c++){var d=s[c];if(d.length+l>65536){var f=t(o);a+=f.length,u.push(f),o=""}o+=d,l+=d.length,delete s[c]}var p=t(o);a+=p.length,u.push(p);for(var m=new Uint8Array(a),g=0,y=0;y<u.length;y++){for(var b=u[y],v=0;v<b.length;++v)m[v+g]=b[v];g+=b.length}return m}},3257:e=>{"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=RegExp(String.fromCharCode(160),"g");function n(e){return e.replace(r," ")}e.exports={match:function(e,r){var i=t(e);return"string"===i?n(r.substr(0,e.length))===e:e instanceof RegExp?e.test(n(r)):"function"===i?!!e(r):void 0},getValue:function(e,r){var i=t(e);return"string"===i?n(r).substr(e.length):e instanceof RegExp?n(r).match(e)[1]:"function"===i?e(r):void 0},getValues:function(e,r){var i=t(e);return"string"===i?[r,n(r).substr(e.length)]:e instanceof RegExp?n(r).match(e):"function"===i?[r,e(r)]:void 0}}},1534:(e,t,r)=>{"use strict";var n=r(6717),i=n.throwUnimplementedTagType,a=n.XTScopeParserError,s=r(2307).pushArray,o=r(5268);e.exports=function(e){var t=e.baseNullGetter,r=e.compiled,n=e.scopeManager;e.nullGetter=function(e,r){return t(e,r||n)};for(var l=[],u=[],c=0,h=r.length;c<h;c++){var d=r[c];e.index=c,e.resolvedId=o(d,e);var f=void 0;try{f=function(e,t){for(var r=0,n=t.modules;r<n.length;r++){var i=n[r].render(e,t);if(i)return i}return!1}(d,e)}catch(e){if(e instanceof a){l.push(e),u.push(d);continue}throw e}if(f){f.errors&&s(l,f.errors),u.push(f);continue}if("content"===d.type||"tag"===d.type){u.push(d);continue}i(d,c)}for(var p=[],m=0;m<u.length;m++){var g=u[m].value;g instanceof Array?s(p,g):g&&p.push(g)}return{errors:l,parts:p}}},6593:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var i,a;i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}(i))in e?Object.defineProperty(e,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var s=r(2307).pushArray,o=r(5268);function l(e,t,r,n){var i=function(e,t){for(var r=0,n=t.modules;r<n.length;r++){var i=n[r].resolve(e,t);if(i)return i}return!1}(e,a(a({},n),{},{resolvedId:o(e,n)}));return i?i.then(function(r){t.push({tag:e.value,lIndex:e.lIndex,value:r})}).catch(function(e){e instanceof Array?s(r,e):r.push(e)}):"placeholder"===e.type?n.scopeManager.getValueAsync(e.value,{part:e}).then(function(t){return null==t?n.nullGetter(e):t}).then(function(r){t.push({tag:e.value,lIndex:e.lIndex,value:r})}).catch(function(e){e instanceof Array?s(r,e):r.push(e)}):void 0}function u(e,t,r){for(var n=[],i=0,a=e.compiled;i<a.length;i++){var s=a[i];-1===["content","tag"].indexOf(s.type)&&(s.resolveFirst||n.push(l(s,r,t,e)))}return Promise.all(n).then(function(){return{errors:t,resolved:r}})}e.exports=function(e){var t=[],r=[],n=e.baseNullGetter,i=e.scopeManager;e.nullGetter=function(e,t){return n(e,t||i)},e.resolved=t;var a=function(e,t,r){for(var n=null,i=0,a=e.compiled;i<a.length;i++)if(function(){var s=a[i];if(-1!==["content","tag"].indexOf(s.type))return 1;s.resolveFirst&&(null!=n||(n=Promise.resolve(null)),n=n.then(function(){return l(s,r,t,e)}))}())continue;return n}(e,r,t);return a?a.then(function(){return u(e,r,t)}):u(e,r,t)}},8991:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=r(6717).getScopeParserExecutionError,a=r(5879).last,s=r(2307).concatArrays;function o(e,t){for(var r,n=e.length>>>0,i=0;i<n;i++)if(r=e[i],t.call(this,r,i,e))return r}function l(e,t,r){var n,a,s=this,u=this.scopeList[r];if(this.root.finishedResolving){for(var c=this.resolved,h=this.resolveOffset,d=this.scopePath.length;h<d;h++)!function(){var e=s.scopeLindex[h];c=(c=o(c,function(t){return t.lIndex===e})).value[s.scopePathItem[h]]}();return o(c,function(e){return t.part.lIndex===e.lIndex}).value}a=this.cachedParsers&&t.part?this.cachedParsers[t.part.lIndex]?this.cachedParsers[t.part.lIndex]:this.cachedParsers[t.part.lIndex]=this.parser(e,{tag:t.part,scopePath:this.scopePath}):this.parser(e,{tag:t.part,scopePath:this.scopePath});try{n=a.get(u,this.getContext(t,r))}catch(r){throw i({tag:e,scope:u,error:r,offset:t.part.offset})}return null==n&&r>0?l.call(this,e,t,r-1):n}function u(e,t,r){var n,a=this,s=this.scopeList[r];return n=this.cachedParsers&&t.part?this.cachedParsers[t.part.lIndex]?this.cachedParsers[t.part.lIndex]:this.cachedParsers[t.part.lIndex]=this.parser(e,{tag:t.part,scopePath:this.scopePath}):this.parser(e,{tag:t.part,scopePath:this.scopePath}),Promise.resolve().then(function(){return n.get(s,a.getContext(t,r))}).catch(function(r){throw i({tag:e,scope:s,error:r,offset:t.part.offset})}).then(function(n){return null==n&&r>0?u.call(a,e,t,r-1):n})}var c=function(){var e;function t(e){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,t),this.root=e.root||this,this.resolveOffset=e.resolveOffset||0,this.scopePath=e.scopePath,this.scopePathItem=e.scopePathItem,this.scopePathLength=e.scopePathLength,this.scopeList=e.scopeList,this.scopeType="",this.scopeTypes=e.scopeTypes,this.scopeLindex=e.scopeLindex,this.parser=e.parser,this.resolved=e.resolved,this.cachedParsers=e.cachedParsers}return e=[{key:"loopOver",value:function(e,t,r,n){return this.loopOverValue(this.getValue(e,n),t,r)}},{key:"functorIfInverted",value:function(e,t,r,n,i){return e&&t(r,n,i),e}},{key:"isValueFalsy",value:function(e,t){return null==e||!e||"[object Array]"===t&&0===e.length}},{key:"loopOverValue",value:function(e,t,r){this.root.finishedResolving&&(r=!1);var n=Object.prototype.toString.call(e);if(this.isValueFalsy(e,n))return this.scopeType=!1,this.functorIfInverted(r,t,a(this.scopeList),0,1);if("[object Array]"===n){this.scopeType="array";for(var i=0;i<e.length;i++)this.functorIfInverted(!r,t,e[i],i,e.length);return!0}return"[object Object]"===n?(this.scopeType="object",this.functorIfInverted(!r,t,e,0,1)):this.functorIfInverted(!r,t,a(this.scopeList),0,1)}},{key:"getValue",value:function(e,t){var r=l.call(this,e,t,this.scopeList.length-1);return"function"==typeof r?r(this.scopeList[this.scopeList.length-1],this):r}},{key:"getValueAsync",value:function(e,t){var r=this;return u.call(this,e,t,this.scopeList.length-1).then(function(e){return"function"==typeof e?e(r.scopeList[r.scopeList.length-1],r):e})}},{key:"getContext",value:function(e,t){return{num:t,meta:e,scopeList:this.scopeList,resolved:this.resolved,scopePath:this.scopePath,scopeTypes:this.scopeTypes,scopePathItem:this.scopePathItem,scopePathLength:this.scopePathLength}}},{key:"createSubScopeManager",value:function(e,r,n,i,a){return new t({root:this.root,resolveOffset:this.resolveOffset,resolved:this.resolved,parser:this.parser,cachedParsers:this.cachedParsers,scopeTypes:s([this.scopeTypes,[this.scopeType]]),scopeList:s([this.scopeList,[e]]),scopePath:s([this.scopePath,[r]]),scopePathItem:s([this.scopePathItem,[n]]),scopePathLength:s([this.scopePathLength,[a]]),scopeLindex:s([this.scopeLindex,[i.lIndex]])})}}],function(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}(i.key),i)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();e.exports=function(e){return e.scopePath=[],e.scopePathItem=[],e.scopePathLength=[],e.scopeTypes=[],e.scopeLindex=[],e.scopeList=[e.tags],new c(e)}},4010:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}(e,t)||a(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return s(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){var i,a;i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}(i))in e?Object.defineProperty(e,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var u=r(2307),c=u.getRightOrNull,h=u.getRight,d=u.getLeft,f=u.getLeftOrNull,p=u.chunkBy,m=u.isTagStart,g=u.isTagEnd,y=u.isContent,b=u.last,v=u.first,w=r(6717),_=w.XTTemplateError,E=w.throwExpandNotFound,T=w.getLoopPositionProducesInvalidXMLError;function x(e){return e.replace(/^\s*<\/?([a-zA-Z:]+).*/,"$1")}function S(e,t,r,n){var a=i(e,2),s=a[0],o=a[1],l=r.indexOf(t),u=r.slice(s,l),c=r.slice(l+1,o+1),h=n.getInner({postparse:n.postparse,index:l,part:t,leftParts:u,rightParts:c,left:s,right:o,postparsed:r});return h.length||(h.expanded=[u,c],h=[h]),{left:s,right:o,inner:h}}e.exports={expandToOne:function(e,t){var r=[];e.errors&&(r=e.errors,e=e.postparsed);for(var n=[],o=0,u=e.length;o<u;o++){var c=e[o];if("placeholder"===c.type&&c.module===t.moduleName&&!c.subparsed&&!c.expanded)try{var f=function(e,t,r,n){var i,a,s=e.expandTo||n.expandTo;if(s){try{a=d(r,s,t),i=h(r,s,t)}catch(i){var o=l({part:e,rootError:i,postparsed:r,expandTo:s,index:t},n.error);if(n.onError&&"ignore"===n.onError(o))return;E(o)}return[a,i]}}(c,o,e,t);if(!f)continue;var p=i(f,2),m=p[0],g=p[1];n.push({left:m,right:g,part:c,i:o,leftPart:e[m],rightPart:e[g]})}catch(e){r.push(e)}}n.sort(function(e,t){return e.left===t.left?t.part.lIndex<e.part.lIndex?1:-1:t.left<e.left?1:-1});for(var y=-1,b=0,v=0,w=n.length;v<w;v++){var T,x,k=n[v];if(y=Math.max(y,v>0?n[v-1].right:0),!(k.left<y)){var O=void 0;try{O=S([k.left+b,k.right+b],k.part,e,t)}catch(n){if(t.onError&&"ignore"===t.onError(l({part:k.part,rootError:n,postparsed:e,expandOne:S},t.errors)))continue;if(n instanceof _)r.push(n);else throw n}O&&(b+=O.inner.length-(O.right+1-O.left),(x=e).splice.apply(x,[O.left,O.right+1-O.left].concat(function(e){if(Array.isArray(e))return s(e)}(T=O.inner)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(T)||a(T)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())))}}return{postparsed:e,errors:r}},getExpandToDefault:function(e,t,r){for(var n,i=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r],i=n.position,a=n.value,s=n.tag;s&&("end"===i?(0===t.length?1:0!==b(t).substr(1).indexOf(s))?t.push(a):t.pop():"start"===i&&t.push(a))}return t}(e.slice(t[0].offset,t[1].offset)),a=0;a<r.length;a++)if(0!==(n=function(){var n=r[a],s=n.contains,o=n.expand,l=n.onlyTextInTag;if(function(e,t){for(var r=0;r<t.length;r++)if(0===t[r].indexOf("<".concat(e)))return!0;return!1}(s,i)){if(l){var u=f(e,s,t[0].offset),h=c(e,s,t[1].offset);if(null===u||null===h)return 0;var d=p(e.slice(u,h),function(e){return m(s,e)?"start":g(s,e)?"end":null}),w=v(d),_=b(d),E=w.filter(y),S=_.filter(y);if(1!==E.length||1!==S.length)return 0}for(var k=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r],i=x(n),a=/^\s*<\//.test(n)?"end":"start";t.push({tag:i,position:a})}return t}(i),O=0,A=0;A<k.length;A++){var C=k[A],D=C.tag,N=C.position;D===o&&("start"===N&&O++,"end"===N&&O--)}return 0!==O?{v:{error:T({tag:v(t).part.value,offset:[v(t).part.offset,b(t).part.offset]})}}:{v:{value:o}}}}())&&n)return n.v;return!function(e){if(e.length%2==1)return!1;for(var t=0,r=e.length/2;t<r;t++){var n=e[t],i=e[e.length-t-1];if(x(n)!==x(i))return!1}return!0}(i)?{error:T({tag:v(t).part.value,offset:[v(t).part.offset,b(t).part.offset]})}:{}}}},5879:e=>{"use strict";e.exports={last:function(e){return e[e.length-1]},first:function(e){return e[0]}}},9080:(e,t,r)=>{"use strict";var n=r(2307).pregMatchAll;e.exports=function(e,t){var r={content:e},i=t.join("|"),a=RegExp("(?:(<(?:".concat(i,")[^>]*>)([^<>]*)</(?:").concat(i,")>)|(<(?:").concat(i,")[^>]*/>)"),"g");return r.matches=n(a,r.content),r}},6533:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=r(2307),a=i.pushArray,s=i.wordToUtf8,o=i.convertSpaces,l=r(9080),u=r(6369),c=r(6143),h=r(1534),d=r(3125),f=r(6593),p=r(3133);e.exports=function(){var e,t;return e=function e(t,r){for(var n in function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,e),this.cachedParsers={},this.content=t,r)this[n]=r[n];this.setModules({inspect:{filePath:r.filePath}})},t=[{key:"resolveTags",value:function(e){var t=this;this.tags=e;var r=this.getOptions(),n=this.filePath;r.scopeManager=this.scopeManager,r.resolve=f;var i=[];return Promise.all(this.modules.map(function(e){return Promise.resolve(e.preResolve(r)).catch(function(e){i.push(e)})})).then(function(){if(0!==i.length)throw i;return f(r).then(function(e){var i=e.resolved,a=e.errors;if(0!==(a=a.map(function(e){var t;return e instanceof Error||(e=Error(e)),(t=e).properties||(t.properties={}),e.properties.file=n,e})).length)throw a;return Promise.all(i).then(function(e){return r.scopeManager.root.finishedResolving=!0,r.scopeManager.resolved=e,t.setModules({inspect:{resolved:e,filePath:n}}),e})}).catch(function(e){throw t.errorChecker(e),e})})}},{key:"getFullText",value:function(){return s(o(l(this.content,this.fileTypeConfig.tagsXmlTextArray).matches.map(function(e){return e.array[2]}).join("")))}},{key:"setModules",value:function(e){for(var t=0,r=this.modules;t<r.length;t++)r[t].set(e)}},{key:"preparse",value:function(){this.allErrors=[],this.xmllexed=u.xmlparse(this.content,{text:this.fileTypeConfig.tagsXmlTextArray,other:this.fileTypeConfig.tagsXmlLexedArray}),this.setModules({inspect:{filePath:this.filePath,xmllexed:this.xmllexed}});var e=u.parse(this.xmllexed,this.delimiters,this.syntax,this.fileType),t=e.lexed,r=e.errors;a(this.allErrors,r),this.lexed=t,this.setModules({inspect:{filePath:this.filePath,lexed:this.lexed}});var n=this.getOptions();this.lexed=c.preparse(this.lexed,this.modules,n)}},{key:"parse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.noPostParse;this.setModules({inspect:{filePath:this.filePath}});var r=this.getOptions();return(this.parsed=c.parse(this.lexed,this.modules,r),this.setModules({inspect:{filePath:this.filePath,parsed:this.parsed}}),t)?this:this.postparse()}},{key:"postparse",value:function(){var e=this.getOptions(),t=c.postparse(this.parsed,this.modules,e),r=t.postparsed,n=t.errors;return this.postparsed=r,this.setModules({inspect:{filePath:this.filePath,postparsed:this.postparsed}}),a(this.allErrors,n),this.errorChecker(this.allErrors),this}},{key:"errorChecker",value:function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];n.properties||(n.properties={}),n.properties.file=this.filePath}for(var i=0,a=this.modules;i<a.length;i++)e=a[i].errorsTransformer(e)}},{key:"baseNullGetter",value:function(e,t){for(var r=null,n=0,i=this.modules;n<i.length;n++){var a=i[n];null==r&&(r=a.nullGetter(e,t,this))}return null!=r?r:this.nullGetter(e,t)}},{key:"getOptions",value:function(){return{compiled:this.postparsed,cachedParsers:this.cachedParsers,tags:this.tags,modules:this.modules,parser:this.parser,contentType:this.contentType,relsType:this.relsType,baseNullGetter:this.baseNullGetter.bind(this),filePath:this.filePath,fileTypeConfig:this.fileTypeConfig,fileType:this.fileType,linebreaks:this.linebreaks,stripInvalidXMLChars:this.stripInvalidXMLChars}}},{key:"render",value:function(e){this.filePath=e;var t=this.getOptions();t.resolved=this.scopeManager.resolved,t.scopeManager=this.scopeManager,t.render=h,t.joinUncorrupt=p;var r=h(t),n=r.errors,i=r.parts;return n.length>0?(this.allErrors=n,this.errorChecker(n)):(this.content=d(i,t),this.setModules({inspect:{filePath:this.filePath,content:this.content}})),this}}],function(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}(i.key),i)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}()},9925:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,a={};function s(e){var t;let r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean),n=`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}`;return 0===r.length?n:`${n}; ${r.join("; ")}`}function o(e){let t=new Map;for(let r of e.split(/; */)){if(!r)continue;let e=r.indexOf("=");if(-1===e){t.set(r,"true");continue}let[n,i]=[r.slice(0,e),r.slice(e+1)];try{t.set(n,decodeURIComponent(null!=i?i:"true"))}catch{}}return t}function l(e){var t,r;if(!e)return;let[[n,i],...a]=o(e),{domain:s,expires:l,httponly:h,maxage:d,path:f,samesite:p,secure:m,partitioned:g,priority:y}=Object.fromEntries(a.map(([e,t])=>[e.toLowerCase(),t]));return function(e){let t={};for(let r in e)e[r]&&(t[r]=e[r]);return t}({name:n,value:decodeURIComponent(i),domain:s,...l&&{expires:new Date(l)},...h&&{httpOnly:!0},..."string"==typeof d&&{maxAge:Number(d)},path:f,...p&&{sameSite:u.includes(t=(t=p).toLowerCase())?t:void 0},...m&&{secure:!0},...y&&{priority:c.includes(r=(r=y).toLowerCase())?r:void 0},...g&&{partitioned:!0}})}((e,r)=>{for(var n in r)t(e,n,{get:r[n],enumerable:!0})})(a,{RequestCookies:()=>h,ResponseCookies:()=>d,parseCookie:()=>o,parseSetCookie:()=>l,stringifyCookie:()=>s}),e.exports=((e,a,s,o)=>{if(a&&"object"==typeof a||"function"==typeof a)for(let l of n(a))i.call(e,l)||l===s||t(e,l,{get:()=>a[l],enumerable:!(o=r(a,l))||o.enumerable});return e})(t({},"__esModule",{value:!0}),a);var u=["strict","lax","none"],c=["low","medium","high"],h=class{constructor(e){this._parsed=new Map,this._headers=e;let t=e.get("cookie");if(t)for(let[e,r]of o(t))this._parsed.set(e,{name:e,value:r})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed);if(!e.length)return r.map(([e,t])=>t);let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(([e])=>e===n).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,r]=1===e.length?[e[0].name,e[0].value]:e,n=this._parsed;return n.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(n).map(([e,t])=>s(t)).join("; ")),this}delete(e){let t=this._parsed,r=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>s(t)).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},d=class{constructor(e){var t,r,n;this._parsed=new Map,this._headers=e;let i=null!=(n=null!=(r=null==(t=e.getSetCookie)?void 0:t.call(e))?r:e.get("set-cookie"))?n:[];for(let e of Array.isArray(i)?i:function(e){if(!e)return[];var t,r,n,i,a,s=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,a=!1;l();)if(","===(r=e.charAt(o))){for(n=o,o+=1,l(),i=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(a=!0,o=i,s.push(e.substring(t,n)),t=o):o=n+1}else o+=1;(!a||o>=e.length)&&s.push(e.substring(t,e.length))}return s}(i)){let t=l(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed.values());if(!e.length)return r;let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(e=>e.name===n)}has(e){return this._parsed.has(e)}set(...e){let[t,r,n]=1===e.length?[e[0].name,e[0].value,e[0]]:e,i=this._parsed;return i.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:r,...n})),function(e,t){for(let[,r]of(t.delete("set-cookie"),e)){let e=s(r);t.append("set-cookie",e)}}(i,this._headers),this}delete(...e){let[t,r,n]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0].path,e[0].domain];return this.set({name:t,path:r,domain:n,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(s).join("; ")}}},8346:(e,t,r)=>{var n;(()=>{var i={226:function(i,a){!function(s,o){"use strict";var l="function",u="undefined",c="object",h="string",d="major",f="model",p="name",m="type",g="vendor",y="version",b="architecture",v="console",w="mobile",_="tablet",E="smarttv",T="wearable",x="embedded",S="Amazon",k="Apple",O="ASUS",A="BlackBerry",C="Browser",D="Chrome",N="Firefox",R="Google",I="Huawei",P="Microsoft",L="Motorola",j="Opera",M="Samsung",U="Sharp",B="Sony",z="Xiaomi",q="Zebra",$="Facebook",F="Chromium OS",H="Mac OS",V=function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},G=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},W=function(e,t){return typeof e===h&&-1!==Y(t).indexOf(Y(e))},Y=function(e){return e.toLowerCase()},K=function(e,t){if(typeof e===h)return e=e.replace(/^\s\s*/,""),typeof t===u?e:e.substring(0,350)},X=function(e,t){for(var r,n,i,a,s,u,h=0;h<t.length&&!s;){var d=t[h],f=t[h+1];for(r=n=0;r<d.length&&!s&&d[r];)if(s=d[r++].exec(e))for(i=0;i<f.length;i++)u=s[++n],typeof(a=f[i])===c&&a.length>0?2===a.length?typeof a[1]==l?this[a[0]]=a[1].call(this,u):this[a[0]]=a[1]:3===a.length?typeof a[1]!==l||a[1].exec&&a[1].test?this[a[0]]=u?u.replace(a[1],a[2]):void 0:this[a[0]]=u?a[1].call(this,u,a[2]):void 0:4===a.length&&(this[a[0]]=u?a[3].call(this,u.replace(a[1],a[2])):void 0):this[a]=u||o;h+=2}},Z=function(e,t){for(var r in t)if(typeof t[r]===c&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(W(t[r][n],e))return"?"===r?o:r}else if(W(t[r],e))return"?"===r?o:r;return e},J={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,y],[/opios[\/ ]+([\w\.]+)/i],[y,[p,j+" Mini"]],[/\bopr\/([\w\.]+)/i],[y,[p,j]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,y],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[p,"UC"+C]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[y,[p,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[y,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[p,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+C],y],[/\bfocus\/([\w\.]+)/i],[y,[p,N+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[p,j+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[p,j+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[p,"MIUI "+C]],[/fxios\/([-\w\.]+)/i],[y,[p,N]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+C]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+C],y],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[p,y],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,$],y],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[p,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[p,D+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,D+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[p,"Android "+C]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,y],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[y,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[y,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[y,Z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[p,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[p,N+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[p,y],[/(cobalt)\/([\w\.]+)/i],[p,[y,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[b,"amd64"]],[/(ia32(?=;))/i],[[b,Y]],[/((?:i[346]|x)86)[;\)]/i],[[b,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[b,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[b,"armhf"]],[/windows (ce|mobile); ppc;/i],[[b,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[b,/ower/,"",Y]],[/(sun4\w)[;\)]/i],[[b,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[b,Y]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[g,M],[m,_]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[f,[g,M],[m,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[g,k],[m,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[g,k],[m,_]],[/(macintosh);/i],[f,[g,k]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[g,U],[m,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[g,I],[m,_]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[g,I],[m,w]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[f,/_/g," "],[g,z],[m,w]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[g,z],[m,_]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[g,"OPPO"],[m,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[g,"Vivo"],[m,w]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[f,[g,"Realme"],[m,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[g,L],[m,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[g,L],[m,_]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[g,"LG"],[m,_]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[g,"LG"],[m,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[g,"Lenovo"],[m,_]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[g,"Nokia"],[m,w]],[/(pixel c)\b/i],[f,[g,R],[m,_]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[g,R],[m,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[g,B],[m,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[g,B],[m,_]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[g,"OnePlus"],[m,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[g,S],[m,_]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[g,S],[m,w]],[/(playbook);[-\w\),; ]+(rim)/i],[f,g,[m,_]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[g,A],[m,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[g,O],[m,_]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[g,O],[m,w]],[/(nexus 9)/i],[f,[g,"HTC"],[m,_]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[g,[f,/_/g," "],[m,w]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[g,"Acer"],[m,_]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[g,"Meizu"],[m,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[g,f,[m,w]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[g,f,[m,_]],[/(surface duo)/i],[f,[g,P],[m,_]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[g,"Fairphone"],[m,w]],[/(u304aa)/i],[f,[g,"AT&T"],[m,w]],[/\bsie-(\w*)/i],[f,[g,"Siemens"],[m,w]],[/\b(rct\w+) b/i],[f,[g,"RCA"],[m,_]],[/\b(venue[\d ]{2,7}) b/i],[f,[g,"Dell"],[m,_]],[/\b(q(?:mv|ta)\w+) b/i],[f,[g,"Verizon"],[m,_]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[g,"Barnes & Noble"],[m,_]],[/\b(tm\d{3}\w+) b/i],[f,[g,"NuVision"],[m,_]],[/\b(k88) b/i],[f,[g,"ZTE"],[m,_]],[/\b(nx\d{3}j) b/i],[f,[g,"ZTE"],[m,w]],[/\b(gen\d{3}) b.+49h/i],[f,[g,"Swiss"],[m,w]],[/\b(zur\d{3}) b/i],[f,[g,"Swiss"],[m,_]],[/\b((zeki)?tb.*\b) b/i],[f,[g,"Zeki"],[m,_]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[g,"Dragon Touch"],f,[m,_]],[/\b(ns-?\w{0,9}) b/i],[f,[g,"Insignia"],[m,_]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[g,"NextBook"],[m,_]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[g,"Voice"],f,[m,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[g,"LvTel"],f,[m,w]],[/\b(ph-1) /i],[f,[g,"Essential"],[m,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[g,"Envizen"],[m,_]],[/\b(trio[-\w\. ]+) b/i],[f,[g,"MachSpeed"],[m,_]],[/\btu_(1491) b/i],[f,[g,"Rotor"],[m,_]],[/(shield[\w ]+) b/i],[f,[g,"Nvidia"],[m,_]],[/(sprint) (\w+)/i],[g,f,[m,w]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[g,P],[m,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[g,q],[m,_]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[g,q],[m,w]],[/smart-tv.+(samsung)/i],[g,[m,E]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[g,M],[m,E]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[g,"LG"],[m,E]],[/(apple) ?tv/i],[g,[f,k+" TV"],[m,E]],[/crkey/i],[[f,D+"cast"],[g,R],[m,E]],[/droid.+aft(\w)( bui|\))/i],[f,[g,S],[m,E]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[g,U],[m,E]],[/(bravia[\w ]+)( bui|\))/i],[f,[g,B],[m,E]],[/(mitv-\w{5}) bui/i],[f,[g,z],[m,E]],[/Hbbtv.*(technisat) (.*);/i],[g,f,[m,E]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[g,K],[f,K],[m,E]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,E]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[g,f,[m,v]],[/droid.+; (shield) bui/i],[f,[g,"Nvidia"],[m,v]],[/(playstation [345portablevi]+)/i],[f,[g,B],[m,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[g,P],[m,v]],[/((pebble))app/i],[g,f,[m,T]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[g,k],[m,T]],[/droid.+; (glass) \d/i],[f,[g,R],[m,T]],[/droid.+; (wt63?0{2,3})\)/i],[f,[g,q],[m,T]],[/(quest( 2| pro)?)/i],[f,[g,$],[m,T]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[g,[m,x]],[/(aeobc)\b/i],[f,[g,S],[m,x]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[f,[m,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[m,_]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,_]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,w]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[g,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[p,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,y],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,y],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[p,[y,Z,J]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,"Windows"],[y,Z,J]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,H],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,y],[/\(bb(10);/i],[y,[p,A]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[y,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[p,N+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[y,[p,D+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,F],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,y],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,y]]},ee=function(e,t){if(typeof e===c&&(t=e,e=o),!(this instanceof ee))return new ee(e,t).getResult();var r=typeof s!==u&&s.navigator?s.navigator:o,n=e||(r&&r.userAgent?r.userAgent:""),i=r&&r.userAgentData?r.userAgentData:o,a=t?V(Q,t):Q,v=r&&r.userAgent==n;return this.getBrowser=function(){var e,t={};return t[p]=o,t[y]=o,X.call(t,n,a.browser),t[d]=typeof(e=t[y])===h?e.replace(/[^\d\.]/g,"").split(".")[0]:o,v&&r&&r.brave&&typeof r.brave.isBrave==l&&(t[p]="Brave"),t},this.getCPU=function(){var e={};return e[b]=o,X.call(e,n,a.cpu),e},this.getDevice=function(){var e={};return e[g]=o,e[f]=o,e[m]=o,X.call(e,n,a.device),v&&!e[m]&&i&&i.mobile&&(e[m]=w),v&&"Macintosh"==e[f]&&r&&typeof r.standalone!==u&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[f]="iPad",e[m]=_),e},this.getEngine=function(){var e={};return e[p]=o,e[y]=o,X.call(e,n,a.engine),e},this.getOS=function(){var e={};return e[p]=o,e[y]=o,X.call(e,n,a.os),v&&!e[p]&&i&&"Unknown"!=i.platform&&(e[p]=i.platform.replace(/chrome os/i,F).replace(/macos/i,H)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===h&&e.length>350?K(e,350):e,this},this.setUA(n),this};ee.VERSION="1.0.35",ee.BROWSER=G([p,y,d]),ee.CPU=G([b]),ee.DEVICE=G([f,g,m,v,w,E,_,T,x]),ee.ENGINE=ee.OS=G([p,y]),typeof a!==u?(i.exports&&(a=i.exports=ee),a.UAParser=ee):r.amdO?void 0!==(n=(function(){return ee}).call(t,r,t,e))&&(e.exports=n):typeof s!==u&&(s.UAParser=ee);var et=typeof s!==u&&(s.jQuery||s.Zepto);if(et&&!et.ua){var er=new ee;et.ua=er.getResult(),et.ua.get=function(){return er.getUA()},et.ua.set=function(e){er.setUA(e);var t=er.getResult();for(var r in t)et.ua[r]=t[r]}}}("object"==typeof window?window:this)}},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}},n=!0;try{i[e].call(r.exports,r,r.exports,s),n=!1}finally{n&&delete a[e]}return r.exports}s.ab=__dirname+"/";var o=s(226);e.exports=o})()},9303:(e,t,r)=>{"use strict";e.exports=r(517)},44:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{PageSignatureError:function(){return r},RemovedPageError:function(){return n},RemovedUAError:function(){return i}});class r extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class n extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class i extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},8277:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ImageResponse:function(){return n.ImageResponse},NextRequest:function(){return i.NextRequest},NextResponse:function(){return a.NextResponse},URLPattern:function(){return o.URLPattern},userAgent:function(){return s.userAgent},userAgentFromString:function(){return s.userAgentFromString}});let n=r(6),i=r(9745),a=r(9211),s=r(8471),o=r(2433)},9247:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextURL",{enumerable:!0,get:function(){return c}});let n=r(3777),i=r(3817),a=r(1675),s=r(6111),o=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function l(e,t){return new URL(String(e).replace(o,"localhost"),t&&String(t).replace(o,"localhost"))}let u=Symbol("NextURLInternal");class c{constructor(e,t,r){let n,i;"object"==typeof t&&"pathname"in t||"string"==typeof t?(n=t,i=r||{}):i=r||t||{},this[u]={url:l(e,n??i.base),options:i,basePath:""},this.analyze()}analyze(){var e,t,r,i,o;let l=(0,s.getNextPathnameInfo)(this[u].url.pathname,{nextConfig:this[u].options.nextConfig,parseData:!0,i18nProvider:this[u].options.i18nProvider}),c=(0,a.getHostname)(this[u].url,this[u].options.headers);this[u].domainLocale=this[u].options.i18nProvider?this[u].options.i18nProvider.detectDomainLocale(c):(0,n.detectDomainLocale)(null==(t=this[u].options.nextConfig)?void 0:null==(e=t.i18n)?void 0:e.domains,c);let h=(null==(r=this[u].domainLocale)?void 0:r.defaultLocale)||(null==(o=this[u].options.nextConfig)?void 0:null==(i=o.i18n)?void 0:i.defaultLocale);this[u].url.pathname=l.pathname,this[u].defaultLocale=h,this[u].basePath=l.basePath??"",this[u].buildId=l.buildId,this[u].locale=l.locale??h,this[u].trailingSlash=l.trailingSlash}formatPathname(){return(0,i.formatNextPathnameInfo)({basePath:this[u].basePath,buildId:this[u].buildId,defaultLocale:this[u].options.forceLocale?void 0:this[u].defaultLocale,locale:this[u].locale,pathname:this[u].url.pathname,trailingSlash:this[u].trailingSlash})}formatSearch(){return this[u].url.search}get buildId(){return this[u].buildId}set buildId(e){this[u].buildId=e}get locale(){return this[u].locale??""}set locale(e){var t,r;if(!this[u].locale||!(null==(r=this[u].options.nextConfig)?void 0:null==(t=r.i18n)?void 0:t.locales.includes(e)))throw TypeError(`The NextURL configuration includes no locale "${e}"`);this[u].locale=e}get defaultLocale(){return this[u].defaultLocale}get domainLocale(){return this[u].domainLocale}get searchParams(){return this[u].url.searchParams}get host(){return this[u].url.host}set host(e){this[u].url.host=e}get hostname(){return this[u].url.hostname}set hostname(e){this[u].url.hostname=e}get port(){return this[u].url.port}set port(e){this[u].url.port=e}get protocol(){return this[u].url.protocol}set protocol(e){this[u].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[u].url=l(e),this.analyze()}get origin(){return this[u].url.origin}get pathname(){return this[u].url.pathname}set pathname(e){this[u].url.pathname=e}get hash(){return this[u].url.hash}set hash(e){this[u].url.hash=e}get search(){return this[u].url.search}set search(e){this[u].url.search=e}get password(){return this[u].url.password}set password(e){this[u].url.password=e}get username(){return this[u].url.username}set username(e){this[u].url.username=e}get basePath(){return this[u].basePath}set basePath(e){this[u].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new c(String(this),this[u].options)}}},2044:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RequestCookies:function(){return n.RequestCookies},ResponseCookies:function(){return n.ResponseCookies}});let n=r(9925)},6:(e,t)=>{"use strict";function r(){throw Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead')}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageResponse",{enumerable:!0,get:function(){return r}})},9745:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{INTERNALS:function(){return o},NextRequest:function(){return l}});let n=r(9247),i=r(7636),a=r(44),s=r(2044),o=Symbol("internal request");class l extends Request{constructor(e,t={}){let r="string"!=typeof e&&"url"in e?e.url:String(e);(0,i.validateURL)(r),e instanceof Request?super(e,t):super(r,t);let a=new n.NextURL(r,{headers:(0,i.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig});this[o]={cookies:new s.RequestCookies(this.headers),geo:t.geo||{},ip:t.ip,nextUrl:a,url:a.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,geo:this.geo,ip:this.ip,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[o].cookies}get geo(){return this[o].geo}get ip(){return this[o].ip}get nextUrl(){return this[o].nextUrl}get page(){throw new a.RemovedPageError}get ua(){throw new a.RemovedUAError}get url(){return this[o].url}}},9211:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextResponse",{enumerable:!0,get:function(){return u}});let n=r(9247),i=r(7636),a=r(2044),s=Symbol("internal response"),o=new Set([301,302,303,307,308]);function l(e,t){var r;if(null==e?void 0:null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Error("request.headers must be an instance of Headers");let r=[];for(let[n,i]of e.request.headers)t.set("x-middleware-request-"+n,i),r.push(n);t.set("x-middleware-override-headers",r.join(","))}}class u extends Response{constructor(e,t={}){super(e,t),this[s]={cookies:new a.ResponseCookies(this.headers),url:t.url?new n.NextURL(t.url,{headers:(0,i.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[s].cookies}static json(e,t){let r=Response.json(e,t);return new u(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!o.has(r))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');let n="object"==typeof t?t:{},a=new Headers(null==n?void 0:n.headers);return a.set("Location",(0,i.validateURL)(e)),new u(null,{...n,headers:a,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",(0,i.validateURL)(e)),l(t,r),new u(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),l(e,t),new u(null,{...e,headers:t})}}},2433:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"URLPattern",{enumerable:!0,get:function(){return r}});let r="undefined"==typeof URLPattern?void 0:URLPattern},8471:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isBot:function(){return i},userAgent:function(){return s},userAgentFromString:function(){return a}});let n=function(e){return e&&e.__esModule?e:{default:e}}(r(8346));function i(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}function a(e){return{...(0,n.default)(e),isBot:void 0!==e&&i(e)}}function s({headers:e}){return a(e.get("user-agent")||void 0)}},7636:(e,t)=>{"use strict";function r(e){let t=new Headers;for(let[r,n]of Object.entries(e))for(let e of Array.isArray(n)?n:[n])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}function n(e){var t,r,n,i,a,s=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,a=!1;l();)if(","===(r=e.charAt(o))){for(n=o,o+=1,l(),i=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(a=!0,o=i,s.push(e.substring(t,n)),t=o):o=n+1}else o+=1;(!a||o>=e.length)&&s.push(e.substring(t,e.length))}return s}function i(e){let t={},r=[];if(e)for(let[i,a]of e.entries())"set-cookie"===i.toLowerCase()?(r.push(...n(a)),t[i]=1===r.length?r[0]:r):t[i]=a;return t}function a(e){try{return String(new URL(String(e)))}catch(t){throw Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t})}}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{fromNodeOutgoingHttpHeaders:function(){return r},splitCookiesString:function(){return n},toNodeOutgoingHttpHeaders:function(){return i},validateURL:function(){return a}})},1675:(e,t)=>{"use strict";function r(e,t){let r;if((null==t?void 0:t.host)&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getHostname",{enumerable:!0,get:function(){return r}})},3777:(e,t)=>{"use strict";function r(e,t,r){if(e)for(let a of(r&&(r=r.toLowerCase()),e)){var n,i;if(t===(null==(n=a.domain)?void 0:n.split(":",1)[0].toLowerCase())||r===a.defaultLocale.toLowerCase()||(null==(i=a.locales)?void 0:i.some(e=>e.toLowerCase()===r)))return a}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"detectDomainLocale",{enumerable:!0,get:function(){return r}})},5014:(e,t)=>{"use strict";function r(e,t){let r;let n=e.split("/");return(t||[]).some(t=>!!n[1]&&n[1].toLowerCase()===t.toLowerCase()&&(r=t,n.splice(1,1),e=n.join("/")||"/",!0)),{pathname:e,detectedLocale:r}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizeLocalePath",{enumerable:!0,get:function(){return r}})},225:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return a}});let n=r(1041),i=r(4329);function a(e,t,r,a){if(!t||t===r)return e;let s=e.toLowerCase();return!a&&((0,i.pathHasPrefix)(s,"/api")||(0,i.pathHasPrefix)(s,"/"+t.toLowerCase()))?e:(0,n.addPathPrefix)(e,"/"+t)}},1041:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathPrefix",{enumerable:!0,get:function(){return i}});let n=r(1693);function i(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:i,hash:a}=(0,n.parsePath)(e);return""+t+r+i+a}},8166:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathSuffix",{enumerable:!0,get:function(){return i}});let n=r(1693);function i(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:i,hash:a}=(0,n.parsePath)(e);return""+r+t+i+a}},3817:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"formatNextPathnameInfo",{enumerable:!0,get:function(){return o}});let n=r(7847),i=r(1041),a=r(8166),s=r(225);function o(e){let t=(0,s.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,n.removeTrailingSlash)(t)),e.buildId&&(t=(0,a.addPathSuffix)((0,i.addPathPrefix)(t,"/_next/data/"+e.buildId),"/"===e.pathname?"index.json":".json")),t=(0,i.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,a.addPathSuffix)(t,"/"):(0,n.removeTrailingSlash)(t)}},6111:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getNextPathnameInfo",{enumerable:!0,get:function(){return s}});let n=r(5014),i=r(9529),a=r(4329);function s(e,t){var r,s;let{basePath:o,i18n:l,trailingSlash:u}=null!=(r=t.nextConfig)?r:{},c={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):u};o&&(0,a.pathHasPrefix)(c.pathname,o)&&(c.pathname=(0,i.removePathPrefix)(c.pathname,o),c.basePath=o);let h=c.pathname;if(c.pathname.startsWith("/_next/data/")&&c.pathname.endsWith(".json")){let e=c.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/"),r=e[0];c.buildId=r,h="index"!==e[1]?"/"+e.slice(1).join("/"):"/",!0===t.parseData&&(c.pathname=h)}if(l){let e=t.i18nProvider?t.i18nProvider.analyze(c.pathname):(0,n.normalizeLocalePath)(c.pathname,l.locales);c.locale=e.detectedLocale,c.pathname=null!=(s=e.pathname)?s:c.pathname,!e.detectedLocale&&c.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(h):(0,n.normalizeLocalePath)(h,l.locales)).detectedLocale&&(c.locale=e.detectedLocale)}return c}},1693:(e,t)=>{"use strict";function r(e){let t=e.indexOf("#"),r=e.indexOf("?"),n=r>-1&&(t<0||r<t);return n||t>-1?{pathname:e.substring(0,n?r:t),query:n?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parsePath",{enumerable:!0,get:function(){return r}})},4329:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"pathHasPrefix",{enumerable:!0,get:function(){return i}});let n=r(1693);function i(e,t){if("string"!=typeof e)return!1;let{pathname:r}=(0,n.parsePath)(e);return r===t||r.startsWith(t+"/")}},9529:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removePathPrefix",{enumerable:!0,get:function(){return i}});let n=r(4329);function i(e,t){if(!(0,n.pathHasPrefix)(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:"/"+r}},7847:(e,t)=>{"use strict";function r(e){return e.replace(/\/$/,"")||"/"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removeTrailingSlash",{enumerable:!0,get:function(){return r}})},2119:(e,t,r)=>{"use strict";var n=r(9689);function i(e){if(e){this.data=e,this.length=this.data.length,this.index=0,this.zero=0;for(var t=0;t<this.data.length;t++)e[t]&=e[t]}}i.prototype=new n,i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),a=this.length-4;a>=0;--a)if(this.data[a]===t&&this.data[a+1]===r&&this.data[a+2]===n&&this.data[a+3]===i)return a-this.zero;return -1},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},4571:(e,t)=>{"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(e){for(var t,n,i,a,s,o,l,u="",c=0;c<e.length;)t=e.charCodeAt(c++),n=e.charCodeAt(c++),i=e.charCodeAt(c++),a=t>>2,s=(3&t)<<4|n>>4,o=(15&n)<<2|i>>6,l=63&i,isNaN(n)?o=l=64:isNaN(i)&&(l=64),u=u+r.charAt(a)+r.charAt(s)+r.charAt(o)+r.charAt(l);return u},t.decode=function(e){var t,n,i,a,s,o,l,u="",c=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<e.length;)a=r.indexOf(e.charAt(c++)),s=r.indexOf(e.charAt(c++)),o=r.indexOf(e.charAt(c++)),l=r.indexOf(e.charAt(c++)),t=a<<2|s>>4,n=(15&s)<<4|o>>2,i=(3&o)<<6|l,u+=String.fromCharCode(t),64!==o&&(u+=String.fromCharCode(n)),64!==l&&(u+=String.fromCharCode(i));return u}},5197:e=>{"use strict";function t(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}t.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},e.exports=t},7502:(e,t,r)=>{"use strict";t.STORE={magic:"\0\0",compress:function(e){return e},uncompress:function(e){return e},compressInputType:null,uncompressInputType:null},t.DEFLATE=r(8691)},4102:(e,t,r)=>{"use strict";var n=r(7489),i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];e.exports=function(e,t){if(void 0===e||!e.length)return 0;var r="string"!==n.getTypeOf(e);void 0===t&&(t=0);var a=0;t^=-1;for(var s=0,o=e.length;s<o;s++)a=i[(t^(r?e[s]:e.charCodeAt(s)))&255],t=t>>>8^a;return -1^t}},9689:(e,t,r)=>{"use strict";var n=r(7489);function i(){this.data=null,this.length=0,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,r=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)r=(r<<8)+this.byteAt(t);return this.index+=e,r},readString:function(e){return n.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date((e>>25&127)+1980,(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1)}},e.exports=i},5474:(e,t)=>{"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!1,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},8923:(e,t,r)=>{"use strict";var n=r(7489);t.string2binary=function(e){return n.string2binary(e)},t.string2Uint8Array=function(e){return n.transformTo("uint8array",e)},t.uint8Array2String=function(e){return n.transformTo("string",e)},t.string2Blob=function(e){var t=n.transformTo("arraybuffer",e);return n.arrayBuffer2Blob(t)},t.arrayBuffer2Blob=function(e){return n.arrayBuffer2Blob(e)},t.transformTo=function(e,t){return n.transformTo(e,t)},t.getTypeOf=function(e){return n.getTypeOf(e)},t.checkSupport=function(e){return n.checkSupport(e)},t.MAX_VALUE_16BITS=n.MAX_VALUE_16BITS,t.MAX_VALUE_32BITS=n.MAX_VALUE_32BITS,t.pretty=function(e){return n.pretty(e)},t.findCompression=function(e){return n.findCompression(e)},t.isRegExp=function(e){return n.isRegExp(e)}},8691:(e,t,r)=>{"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=r(9058);t.uncompressInputType=n?"uint8array":"array",t.compressInputType=n?"uint8array":"array",t.magic="\b\0",t.compress=function(e,t){return i.deflateRaw(e,{level:t.level||-1})},t.uncompress=function(e){return i.inflateRaw(e)}},4294:(e,t,r)=>{"use strict";var n=r(4571);function i(e,t){if(!(this instanceof i))return new i(e,t);this.files={},this.comment=null,this.root="",e&&this.load(e,t),this.clone=function(){var e=this,t=new i;return Object.keys(this.files).forEach(function(r){t.file(r,e.files[r].asUint8Array())}),t},this.shallowClone=function(){var e=new i;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}i.prototype=r(264),i.prototype.load=r(2992),i.support=r(524),i.defaults=r(5474),i.utils=r(8923),i.base64={encode:function(e){return n.encode(e)},decode:function(e){return n.decode(e)}},i.compressions=r(7502),e.exports=i,e.exports.default=i},2992:(e,t,r)=>{"use strict";var n=r(4571),i=r(9335),a=r(7489),s=r(728);e.exports=function(e,t){(t=a.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode})).base64&&(e=n.decode(e));var r,o,l=new s(e,t),u=l.files;for(r=0;r<u.length;r++)o=u[r],this.file(o.fileNameStr,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:t.createFolders});return l.zipComment.length&&(this.comment=l.zipComment),this}},5781:e=>{"use strict";e.exports=function(e,t){return"number"==typeof e?Buffer.alloc(e):Buffer.from(e,t)},e.exports.test=function(e){return Buffer.isBuffer(e)}},274:(e,t,r)=>{"use strict";var n=r(3506);function i(e){this.data=e,this.length=this.data.length,this.index=0,this.zero=0}i.prototype=new n,i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},264:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var i=r(524),a=r(7489),s=r(4102),o=r(447),l=r(5474),u=r(4571),c=r(7502),h=r(5197),d=r(5781),f=r(9335),p=r(5255),m=r(1353);function g(e){if(e._data instanceof h&&(e._data=e._data.getContent(),e.options.binary=!0,e.options.base64=!1,"uint8array"===a.getTypeOf(e._data))){var t=e._data;e._data=new Uint8Array(t.length),0!==t.length&&e._data.set(t,0)}return e._data}function y(e){var t=g(e);return"string"===a.getTypeOf(t)?!e.options.binary&&i.nodebuffer?d(t,"utf-8"):e.asBinary():t}var b={load:function(){throw Error("Load method is not defined. Is the file pizzip-load.js included ?")},filter:function(e){var t,r,n,i,s=[];for(t in this.files)this.files.hasOwnProperty(t)&&(i=new w((n=this.files[t]).name,n._data,a.extend(n.options)),r=t.slice(this.root.length,t.length),t.slice(0,this.root.length)===this.root&&e(r,i)&&s.push(i));return s},file:function(e,t,r){if(1==arguments.length){if(a.isRegExp(e)){var n=e;return this.filter(function(e,t){return!t.dir&&n.test(e)})}return this.filter(function(t,r){return!r.dir&&t===e})[0]||null}return e=this.root+e,E.call(this,e,t,r),this},folder:function(e){if(!e)return this;if(a.isRegExp(e))return this.filter(function(t,r){return r.dir&&e.test(t)});var t=x.call(this,this.root+e),r=this.shallowClone();return r.root=t.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var r=this.filter(function(t,r){return r.name.slice(0,e.length)===e}),n=0;n<r.length;n++)delete this.files[r[n].name];return this},generate:function(e){e=a.extend(e||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:f.utf8encode}),a.checkSupport(e.type),("darwin"===e.platform||"freebsd"===e.platform||"linux"===e.platform||"sunos"===e.platform)&&(e.platform="UNIX"),"win32"===e.platform&&(e.platform="DOS");var t,r,i=[],s=a.transformTo("string",e.encodeFileName(e.comment||this.comment||"")),l=0,h=0,d=[];for(var g in e.fileOrder instanceof Array&&(d=e.fileOrder),this.files)-1===d.indexOf(g)&&d.push(g);"function"==typeof e.fileOrder&&(d=e.fileOrder(this.files));var y,b=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return n(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,void 0):void 0}}(e))){r&&(e=r);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){l=!0,s=e},f:function(){try{o||null==r.return||r.return()}finally{if(l)throw s}}}}(d);try{for(b.s();!(y=b.n()).done;){var v=y.value;if(this.files.hasOwnProperty(v)){var w=this.files[v],E=w.options.compression||e.compression.toUpperCase(),T=c[E];if(!T)throw Error(E+" is not a valid compression method !");var x=w.options.compressionOptions||e.compressionOptions||{},O=S.call(this,w,T,x),A=k.call(this,v,w,O,l,e.platform,e.encodeFileName);l+=A.fileRecord.length+O.compressedSize,h+=A.dirRecord.length,i.push(A)}}}catch(e){b.e(e)}finally{b.f()}var C="";C=o.CENTRAL_DIRECTORY_END+"\0\0\0\0"+_(i.length,2)+_(i.length,2)+_(h,4)+_(l,4)+_(s.length,2)+s;var D=e.type.toLowerCase();for(r=0,t="uint8array"===D||"arraybuffer"===D||"blob"===D||"nodebuffer"===D?new m(l+h+C.length):new p(l+h+C.length);r<i.length;r++)t.append(i[r].fileRecord),t.append(i[r].compressedObject.compressedContent);for(r=0;r<i.length;r++)t.append(i[r].dirRecord);t.append(C);var N=t.finalize();switch(e.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return a.transformTo(e.type.toLowerCase(),N);case"blob":return a.arrayBuffer2Blob(a.transformTo("arraybuffer",N),e.mimeType);case"base64":return e.base64?u.encode(N):N;default:return N}},crc32:function(e,t){return s(e,t)},utf8encode:function(e){return a.transformTo("string",f.utf8encode(e))},utf8decode:function(e){return f.utf8decode(e)}};function v(e){var t=g(this);return null==t?"":(this.options.base64&&(t=u.decode(t)),t=e&&this.options.binary?b.utf8decode(t):a.transformTo("string",t),e||this.options.binary||(t=a.transformTo("string",b.utf8encode(t))),t)}function w(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this.options=r,this._initialMetadata={dir:r.dir,date:r.date}}function _(e,t){var r,n="";for(r=0;r<t;r++)n+=String.fromCharCode(255&e),e>>>=8;return n}function E(e,t,r){var n,i,s,o,u=a.getTypeOf(t);if(!0===(s=(s=r)||{}).base64&&(null===s.binary||void 0===s.binary)&&(s.binary=!0),(s=a.extend(s,l)).date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof(r=s).unixPermissions&&(r.unixPermissions=parseInt(r.unixPermissions,8)),r.unixPermissions&&16384&r.unixPermissions&&(r.dir=!0),r.dosPermissions&&16&r.dosPermissions&&(r.dir=!0),r.dir&&(e=T(e)),r.createFolders&&("/"===(n=e).slice(-1)&&(n=n.substring(0,n.length-1)),o=(i=n.lastIndexOf("/"))>0?n.substring(0,i):"")&&x.call(this,o,!0),r.dir||null==t)r.base64=!1,r.binary=!1,t=null,u=null;else if("string"===u)r.binary&&!r.base64&&!0!==r.optimizedBinaryString&&(t=a.string2binary(t));else{if(r.base64=!1,r.binary=!0,!u&&!(t instanceof h))throw Error("The data of '"+e+"' is in an unsupported format !");"arraybuffer"===u&&(t=a.transformTo("uint8array",t))}var c=new w(e,t,r);return this.files[e]=c,c}function T(e){return"/"!==e.slice(-1)&&(e+="/"),e}function x(e,t){return t=void 0!==t&&t,e=T(e),this.files[e]||E.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]}function S(e,t,r){var n,i=new h;return e._data instanceof h?(i.uncompressedSize=e._data.uncompressedSize,i.crc32=e._data.crc32,0===i.uncompressedSize||e.dir?(t=c.STORE,i.compressedContent="",i.crc32=0):e._data.compressionMethod===t.magic?i.compressedContent=e._data.getCompressedContent():(n=e._data.getContent(),i.compressedContent=t.compress(a.transformTo(t.compressInputType,n),r))):((n=y(e))&&0!==n.length&&!e.dir||(t=c.STORE,n=""),i.uncompressedSize=n.length,i.crc32=s(n),i.compressedContent=t.compress(a.transformTo(t.compressInputType,n),r)),i.compressedSize=i.compressedContent.length,i.compressionMethod=t.magic,i}function k(e,t,r,n,i,l){var u,c,h,d,p,m,g=l!==f.utf8encode,y=a.transformTo("string",l(t.name)),b=a.transformTo("string",f.utf8encode(t.name)),v=t.comment||"",w=a.transformTo("string",l(v)),E=a.transformTo("string",f.utf8encode(v)),T=b.length!==t.name.length,x=E.length!==v.length,S=t.options,k="",O="",A="";p=t._initialMetadata.dir!==t.dir?t.dir:S.dir,m=t._initialMetadata.date!==t.date?t.date:S.date;var C=0,D=0;(p&&(C|=16),"UNIX"===i)?(D=798,C|=(c=u=t.unixPermissions,u||(c=p?16893:33204),(65535&c)<<16)):(D=20,C|=63&(t.dosPermissions||0)),h=(m.getHours()<<6|m.getMinutes())<<5|m.getSeconds()/2,d=(m.getFullYear()-1980<<4|m.getMonth()+1)<<5|m.getDate(),T&&(O=_(1,1)+_(s(y),4)+b,k+="up"+_(O.length,2)+O),x&&(A=_(1,1)+_(this.crc32(w),4)+E,k+="uc"+_(A.length,2)+A);var N="";return N+="\n\0"+(!g&&(T||x)?"\0\b":"\0\0")+r.compressionMethod+_(h,2)+_(d,2)+_(r.crc32,4)+_(r.compressedSize,4)+_(r.uncompressedSize,4)+_(y.length,2)+_(k.length,2),{fileRecord:o.LOCAL_FILE_HEADER+N+y+k,dirRecord:o.CENTRAL_FILE_HEADER+_(D,2)+N+_(w.length,2)+"\0\0\0\0"+_(C,4)+_(n,4)+y+k+w,compressedObject:r}}w.prototype={asText:function(){return v.call(this,!0)},asBinary:function(){return v.call(this,!1)},asNodeBuffer:function(){var e=y(this);return a.transformTo("nodebuffer",e)},asUint8Array:function(){var e=y(this);return a.transformTo("uint8array",e)},asArrayBuffer:function(){return this.asUint8Array().buffer}},e.exports=b},447:(e,t)=>{"use strict";t.LOCAL_FILE_HEADER="PK\x03\x04",t.CENTRAL_FILE_HEADER="PK\x01\x02",t.CENTRAL_DIRECTORY_END="PK\x05\x06",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",t.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",t.DATA_DESCRIPTOR="PK\x07\b"},9752:(e,t,r)=>{"use strict";var n=r(9689),i=r(7489);function a(e,t){this.data=e,t||(this.data=i.string2binary(this.data)),this.length=this.data.length,this.index=0,this.zero=0}a.prototype=new n,a.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},a.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},a.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=a},5255:(e,t,r)=>{"use strict";var n=r(7489);function i(){this.data=[]}i.prototype={append:function(e){e=n.transformTo("string",e),this.data.push(e)},finalize:function(){return this.data.join("")}},e.exports=i},524:(e,t)=>{"use strict";if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,t.nodebuffer="undefined"!=typeof Buffer,t.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)t.blob=!1;else{var r=new ArrayBuffer(0);try{t.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);n.append(r),t.blob=0===n.getBlob("application/zip").size}catch(e){t.blob=!1}}}},3506:(e,t,r)=>{"use strict";var n=r(2119);function i(e){e&&(this.data=e,this.length=this.data.length,this.index=0,this.zero=0)}i.prototype=new n,i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},1353:(e,t,r)=>{"use strict";var n=r(7489);function i(e){this.data=new Uint8Array(e),this.index=0}i.prototype={append:function(e){0!==e.length&&(e=n.transformTo("uint8array",e),this.data.set(e,this.index),this.index+=e.length)},finalize:function(){return this.data}},e.exports=i},9335:(e,t,r)=>{"use strict";for(var n=r(7489),i=r(524),a=r(5781),s=Array(256),o=0;o<256;o++)s[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;function l(e){var t,r,i,a,o=e.length,l=Array(2*o);for(r=0,t=0;t<o;){if((i=e[t++])<128){l[r++]=i;continue}if((a=s[i])>4){l[r++]=65533,t+=a-1;continue}for(i&=2===a?31:3===a?15:7;a>1&&t<o;)i=i<<6|63&e[t++],a--;if(a>1){l[r++]=65533;continue}i<65536?l[r++]=i:(i-=65536,l[r++]=55296|i>>10&1023,l[r++]=56320|1023&i)}return l.length!==r&&(l.subarray?l=l.subarray(0,r):l.length=r),n.applyFromCharCode(l)}s[254]=s[254]=1,t.utf8encode=function(e){return i.nodebuffer?a(e,"utf-8"):function(e){var t,r,n,a,s,o=0,l=e.length;for(a=0;a<l;a++)(64512&(r=e.charCodeAt(a)))==55296&&a+1<l&&(64512&(n=e.charCodeAt(a+1)))==56320&&(r=65536+(r-55296<<10)+(n-56320),a++),o+=r<128?1:r<2048?2:r<65536?3:4;for(s=0,t=i.uint8array?new Uint8Array(o):Array(o),a=0;s<o;a++)(64512&(r=e.charCodeAt(a)))==55296&&a+1<l&&(64512&(n=e.charCodeAt(a+1)))==56320&&(r=65536+(r-55296<<10)+(n-56320),a++),r<128?t[s++]=r:(r<2048?t[s++]=192|r>>>6:(r<65536?t[s++]=224|r>>>12:(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63),t[s++]=128|r>>>6&63),t[s++]=128|63&r);return t}(e)},t.utf8decode=function(e){if(i.nodebuffer)return n.transformTo("nodebuffer",e).toString("utf-8");e=n.transformTo(i.uint8array?"uint8array":"array",e);for(var t=[],r=e.length,a=0;a<r;){var o=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&(192&e[r])==128;)r--;return r<0||0===r?t:r+s[e[r]]>t?r:t}(e,Math.min(a+65536,r));i.uint8array?t.push(l(e.subarray(a,o))):t.push(l(e.slice(a,o))),a=o}return t.join("")}},7489:(e,t,r)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=r(524),a=r(7502),s=r(5781);function o(e){return e}function l(e,t){for(var r=0;r<e.length;++r)t[r]=255&e.charCodeAt(r);return t}function u(e){var r=65536,n=[],i=e.length,a=t.getTypeOf(e),o=0,l=!0;try{switch(a){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,s(0))}}catch(e){l=!1}if(!l){for(var u="",c=0;c<e.length;c++)u+=String.fromCharCode(e[c]);return u}for(;o<i&&r>1;)try{"array"===a||"nodebuffer"===a?n.push(String.fromCharCode.apply(null,e.slice(o,Math.min(o+r,i)))):n.push(String.fromCharCode.apply(null,e.subarray(o,Math.min(o+r,i)))),o+=r}catch(e){r=Math.floor(r/2)}return n.join("")}function c(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}t.string2binary=function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(255&e.charCodeAt(r));return t},t.arrayBuffer2Blob=function(e,r){t.checkSupport("blob"),r=r||"application/zip";try{return new Blob([e],{type:r})}catch(t){try{var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);return n.append(e),n.getBlob(r)}catch(e){throw Error("Bug : can't construct the Blob.")}}},t.applyFromCharCode=u;var h={};h.string={string:o,array:function(e){return l(e,Array(e.length))},arraybuffer:function(e){return h.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,s(e.length))}},h.array={string:u,array:o,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return s(e)}},h.arraybuffer={string:function(e){return u(new Uint8Array(e))},array:function(e){return c(new Uint8Array(e),Array(e.byteLength))},arraybuffer:o,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return s(new Uint8Array(e))}},h.uint8array={string:u,array:function(e){return c(e,Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:o,nodebuffer:function(e){return s(e)}},h.nodebuffer={string:u,array:function(e){return c(e,Array(e.length))},arraybuffer:function(e){return h.nodebuffer.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:o},t.transformTo=function(e,r){return(r||(r=""),e)?(t.checkSupport(e),h[t.getTypeOf(r)][e](r)):r},t.getTypeOf=function(e){if(null!=e){if("string"==typeof e)return"string";var t=Object.prototype.toString.call(e);if("[object Array]"===t)return"array";if(i.nodebuffer&&s.test(e))return"nodebuffer";if(i.uint8array&&"[object Uint8Array]"===t)return"uint8array";if(i.arraybuffer&&"[object ArrayBuffer]"===t)return"arraybuffer";if("[object Promise]"===t)throw Error("Cannot read data from a promise, you probably are running new PizZip(data) with a promise");if("object"===n(e)&&"function"==typeof e.file)throw Error("Cannot read data from a pizzip instance, you probably are running new PizZip(zip) with a zipinstance");if("[object Date]"===t)throw Error("Cannot read data from a Date, you probably are running new PizZip(data) with a date");if("object"===n(e)&&null==e.crc32)throw Error("Unsupported data given to new PizZip(data) (object given)")}},t.checkSupport=function(e){if(!i[e.toLowerCase()])throw Error(e+" is not supported by this browser")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(e){var t,r,n="";for(r=0;r<(e||"").length;r++)n+="\\x"+((t=e.charCodeAt(r))<16?"0":"")+t.toString(16).toUpperCase();return n},t.findCompression=function(e){for(var t in a)if(a.hasOwnProperty(t)&&a[t].magic===e)return a[t];return null},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.extend=function(){var e,t,r={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===r[t]&&(r[t]=arguments[e][t]);return r}},728:(e,t,r)=>{"use strict";var n=r(9752),i=r(274),a=r(3506),s=r(2119),o=r(7489),l=r(447),u=r(9093),c=r(524);function h(e,t){this.files=[],this.loadOptions=t,e&&this.load(e)}h.prototype={checkSignature:function(e){var t=this.reader.readString(4);if(t!==e)throw Error("Corrupted zip or bug : unexpected signature ("+o.pretty(t)+", expected "+o.pretty(e)+")")},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4);return this.reader.setIndex(r),n===t},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=c.uint8array?"uint8array":"array",r=o.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,r,n=this.zip64EndOfCentralSize-44;0<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),r=this.reader.readString(t),this.zip64ExtensibleData[e]={id:e,length:t,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===l.CENTRAL_FILE_HEADER;)(e=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(e<0){if(!this.isSignature(0,l.LOCAL_FILE_HEADER))throw Error("Can't find end of central directory : is this a zip file ?");throw Error("Corrupted zip : can't find end of central directory")}this.reader.setIndex(e);var t=e;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20+(12+this.zip64EndOfCentralSize));var n=t-r;if(n>0)this.isSignature(t,l.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(e){var t=o.getTypeOf(e);if(o.checkSupport(t),"string"!==t||c.uint8array){if("nodebuffer"===t)this.reader=new i(e);else if(c.uint8array)this.reader=new a(o.transformTo("uint8array",e));else if(c.array)this.reader=new s(o.transformTo("array",e));else throw Error("Unexpected error: unsupported type '"+t+"'")}else this.reader=new n(e,this.loadOptions.optimizedBinaryString)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=h},9093:(e,t,r)=>{"use strict";var n=r(9752),i=r(7489),a=r(5197),s=r(264),o=r(524);function l(e,t){this.options=e,this.loadOptions=t}l.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},prepareCompressedContent:function(e,t,r){return function(){var n=e.index;e.setIndex(t);var i=e.readData(r);return e.setIndex(n),i}},prepareContent:function(e,t,r,n,a){return function(){var e=i.transformTo(n.uncompressInputType,this.getCompressedContent()),t=n.uncompress(e);if(t.length!==a)throw Error("Bug : uncompressed data size mismatch");return t}},readLocalPart:function(e){e.skip(22),this.fileNameLength=e.readInt(2);var t=e.readInt(2);if(this.fileName=e.readData(this.fileNameLength),e.skip(t),-1===this.compressedSize||-1===this.uncompressedSize)throw Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");var r=i.findCompression(this.compressionMethod);if(null===r)throw Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");if(this.decompressed=new a,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(e,e.index,this.compressedSize,r),this.decompressed.getContent=this.prepareContent(e,e.index,this.compressedSize,r,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=i.transformTo("string",this.decompressed.getContent()),s.crc32(this.decompressed)!==this.crc32))throw Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(e){if(this.versionMadeBy=e.readInt(2),this.versionNeeded=e.readInt(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4),this.fileNameLength=e.readInt(2),this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw Error("Encrypted zip are not supported");this.fileName=e.readData(this.fileNameLength),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=new n(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,r,n,i=e.index;for(this.extraFields=this.extraFields||{};e.index<i+this.extraFieldsLength;)t=e.readInt(2),r=e.readInt(2),n=e.readString(r),this.extraFields[t]={id:t,length:r,value:n}},handleUTF8:function(){var e=o.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var r=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var a=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=new n(e.value);return 1!==t.readInt(1)||s.crc32(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readString(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=new n(e.value);return 1!==t.readInt(1)||s.crc32(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readString(e.length-5))}return null}},e.exports=l},9058:function(e,t){/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */(function(e){"use strict";function t(e){for(var t=e.length;--t>=0;)e[t]=0}var r=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),n=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),i=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),a=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=Array(576);t(s);var o=Array(60);t(o);var l=Array(512);t(l);var u=Array(256);t(u);var c=Array(29);t(c);var h,d,f,p=Array(30);function m(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function g(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}t(p);var y=function(e){return e<256?l[e]:l[256+(e>>>7)]},b=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},v=function(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,b(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},w=function(e,t,r){v(e,r[2*t],r[2*t+1])},_=function(e,t){var r=0;do r|=1&e,e>>>=1,r<<=1;while(--t>0);return r>>>1},E=function(e,t,r){var n,i,a=Array(16),s=0;for(n=1;n<=15;n++)s=s+r[n-1]<<1,a[n]=s;for(i=0;i<=t;i++){var o=e[2*i+1];0!==o&&(e[2*i]=_(a[o]++,o))}},T=function(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},x=function(e){e.bi_valid>8?b(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},S=function(e,t,r,n){var i=2*t,a=2*r;return e[i]<e[a]||e[i]===e[a]&&n[t]<=n[r]},k=function(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&S(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!S(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n},O=function(e,t,i){var a,s,o,l,h=0;if(0!==e.sym_next)do a=(255&e.pending_buf[e.sym_buf+h++])+((255&e.pending_buf[e.sym_buf+h++])<<8),s=e.pending_buf[e.sym_buf+h++],0===a?w(e,s,t):(w(e,(o=u[s])+256+1,t),0!==(l=r[o])&&v(e,s-=c[o],l),w(e,o=y(--a),i),0!==(l=n[o])&&v(e,a-=p[o],l));while(h<e.sym_next);w(e,256,t)},A=function(e,t){var r,n,i,a=t.dyn_tree,s=t.stat_desc.static_tree,o=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<l;r++)0!==a[2*r]?(e.heap[++e.heap_len]=u=r,e.depth[r]=0):a[2*r+1]=0;for(;e.heap_len<2;)a[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,o&&(e.static_len-=s[2*i+1]);for(t.max_code=u,r=e.heap_len>>1;r>=1;r--)k(e,a,r);i=l;do r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],k(e,a,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,a[2*i]=a[2*r]+a[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,a[2*r+1]=a[2*n+1]=i,e.heap[1]=i++,k(e,a,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,a,s,o,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,h=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(a=0;a<=15;a++)e.bl_count[a]=0;for(l[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<573;r++)(a=l[2*l[2*(n=e.heap[r])+1]+1]+1)>p&&(a=p,m++),l[2*n+1]=a,n>u||(e.bl_count[a]++,s=0,n>=f&&(s=d[n-f]),o=l[2*n],e.opt_len+=o*(a+s),h&&(e.static_len+=o*(c[2*n+1]+s)));if(0!==m){do{for(a=p-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(a=p;0!==a;a--)for(n=e.bl_count[a];0!==n;)(i=e.heap[--r])>u||(l[2*i+1]!==a&&(e.opt_len+=(a-l[2*i+1])*l[2*i],l[2*i+1]=a),n--)}}(e,t),E(a,u,e.bl_count)},C=function(e,t,r){var n,i,a=-1,s=t[1],o=0,l=7,u=4;for(0===s&&(l=138,u=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=s,s=t[2*(n+1)+1],++o<l&&i===s||(o<u?e.bl_tree[2*i]+=o:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,a=i,0===s?(l=138,u=3):i===s?(l=6,u=3):(l=7,u=4))},D=function(e,t,r){var n,i,a=-1,s=t[1],o=0,l=7,u=4;for(0===s&&(l=138,u=3),n=0;n<=r;n++)if(i=s,s=t[2*(n+1)+1],!(++o<l&&i===s)){if(o<u)do w(e,i,e.bl_tree);while(0!=--o);else 0!==i?(i!==a&&(w(e,i,e.bl_tree),o--),w(e,16,e.bl_tree),v(e,o-3,2)):o<=10?(w(e,17,e.bl_tree),v(e,o-3,3)):(w(e,18,e.bl_tree),v(e,o-11,7));o=0,a=i,0===s?(l=138,u=3):i===s?(l=6,u=3):(l=7,u=4)}},N=!1,R=function(e,t,r,n){v(e,0+(n?1:0),3),x(e),b(e,r),b(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},I=function(e,t,r,n){for(var i=65535&e|0,a=e>>>16&65535|0,s=0;0!==r;){r-=s=r>2e3?2e3:r;do a=a+(i=i+t[n++]|0)|0;while(--s);i%=65521,a%=65521}return i|a<<16|0},P=new Uint32Array(function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}()),L=function(e,t,r,n){var i=n+r;e^=-1;for(var a=n;a<i;a++)e=e>>>8^P[255&(e^t[a])];return -1^e},j={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},M={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},U=function(e){N||(function(){var e,t,a,g,y,b=Array(16);for(a=0,g=0;g<28;g++)for(c[g]=a,e=0;e<1<<r[g];e++)u[a++]=g;for(u[a-1]=g,y=0,g=0;g<16;g++)for(p[g]=y,e=0;e<1<<n[g];e++)l[y++]=g;for(y>>=7;g<30;g++)for(p[g]=y<<7,e=0;e<1<<n[g]-7;e++)l[256+y++]=g;for(t=0;t<=15;t++)b[t]=0;for(e=0;e<=143;)s[2*e+1]=8,e++,b[8]++;for(;e<=255;)s[2*e+1]=9,e++,b[9]++;for(;e<=279;)s[2*e+1]=7,e++,b[7]++;for(;e<=287;)s[2*e+1]=8,e++,b[8]++;for(E(s,287,b),e=0;e<30;e++)o[2*e+1]=5,o[2*e]=_(e,5);h=new m(s,r,257,286,15),d=new m(o,n,0,30,15),f=new m([],i,0,19,7)}(),N=!0),e.l_desc=new g(e.dyn_ltree,h),e.d_desc=new g(e.dyn_dtree,d),e.bl_desc=new g(e.bl_tree,f),e.bi_buf=0,e.bi_valid=0,T(e)},B=function(e,t,r,n){var i,l,u=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),A(e,e.l_desc),A(e,e.d_desc),u=function(e){var t;for(C(e,e.dyn_ltree,e.l_desc.max_code),C(e,e.dyn_dtree,e.d_desc.max_code),A(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*a[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(l=e.static_len+3+7>>>3)<=i&&(i=l)):i=l=r+5,r+4<=i&&-1!==t?R(e,t,r,n):4===e.strategy||l===i?(v(e,2+(n?1:0),3),O(e,s,o)):(v(e,4+(n?1:0),3),function(e,t,r,n){var i;for(v(e,t-257,5),v(e,r-1,5),v(e,n-4,4),i=0;i<n;i++)v(e,e.bl_tree[2*a[i]+1],3);D(e,e.dyn_ltree,t-1),D(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,u+1),O(e,e.dyn_ltree,e.dyn_dtree)),T(e),n&&x(e)},z=function(e,t,r){return e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(u[r]+256+1)]++,e.dyn_dtree[2*y(t)]++),e.sym_next===e.sym_end},q=function(e){v(e,2,3),w(e,256,s),16===e.bi_valid?(b(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)},$=M.Z_NO_FLUSH,F=M.Z_PARTIAL_FLUSH,H=M.Z_FULL_FLUSH,V=M.Z_FINISH,G=M.Z_BLOCK,W=M.Z_OK,Y=M.Z_STREAM_END,K=M.Z_STREAM_ERROR,X=M.Z_DATA_ERROR,Z=M.Z_BUF_ERROR,J=M.Z_DEFAULT_COMPRESSION,Q=M.Z_FILTERED,ee=M.Z_HUFFMAN_ONLY,et=M.Z_RLE,er=M.Z_FIXED,en=(M.Z_DEFAULT_STRATEGY,M.Z_UNKNOWN),ei=M.Z_DEFLATED,ea=function(e,t){return e.msg=j[t],t},es=function(e){return 2*e-(e>4?9:0)},eo=function(e){for(var t=e.length;--t>=0;)e[t]=0},el=function(e){var t,r,n,i=e.w_size;n=t=e.hash_size;do r=e.head[--n],e.head[n]=r>=i?r-i:0;while(--t);n=t=i;do r=e.prev[--n],e.prev[n]=r>=i?r-i:0;while(--t)},eu=function(e,t,r){return(t<<e.hash_shift^r)&e.hash_mask},ec=function(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))},eh=function(e,t){B(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ec(e.strm)},ed=function(e,t){e.pending_buf[e.pending++]=t},ef=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},ep=function(e,t,r,n){var i=e.avail_in;return i>n&&(i=n),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),r),1===e.state.wrap?e.adler=I(e.adler,t,i,r):2===e.state.wrap&&(e.adler=L(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)},em=function(e,t){var r,n,i=e.max_chain_length,a=e.strstart,s=e.prev_length,o=e.nice_match,l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,u=e.window,c=e.w_mask,h=e.prev,d=e.strstart+258,f=u[a+s-1],p=u[a+s];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do if(u[(r=t)+s]===p&&u[r+s-1]===f&&u[r]===u[a]&&u[++r]===u[a+1]){a+=2,r++;do;while(u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&a<d);if(n=258-(d-a),a=d-258,n>s){if(e.match_start=t,s=n,n>=o)break;f=u[a+s-1],p=u[a+s]}}while((t=h[t&c])>l&&0!=--i);return s<=e.lookahead?s:e.lookahead},eg=function(e){var t,r,n,i=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=i+(i-262)&&(e.window.set(e.window.subarray(i,i+i-r),0),e.match_start-=i,e.strstart-=i,e.block_start-=i,e.insert>e.strstart&&(e.insert=e.strstart),el(e),r+=i),0===e.strm.avail_in)break;if(t=ep(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=t,e.lookahead+e.insert>=3)for(n=e.strstart-e.insert,e.ins_h=e.window[n],e.ins_h=eu(e,e.ins_h,e.window[n+1]);e.insert&&(e.ins_h=eu(e,e.ins_h,e.window[n+3-1]),e.prev[n&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=n,n++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)},ey=function(e,t){var r,n,i,a=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,s=0,o=e.strm.avail_in;do{if(r=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,r>(n=e.strstart-e.block_start)+e.strm.avail_in&&(r=n+e.strm.avail_in),r>i&&(r=i),r<a&&(0===r&&t!==V||t===$||r!==n+e.strm.avail_in)))break;s=t===V&&r===n+e.strm.avail_in?1:0,R(e,0,0,s),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,ec(e.strm),n&&(n>r&&(n=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+n),e.strm.next_out),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n,e.block_start+=n,r-=n),r&&(ep(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(0===s);return(o-=e.strm.avail_in)&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?4:t!==$&&t!==V&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(ep(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,a=(i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i)>e.w_size?e.w_size:i,((n=e.strstart-e.block_start)>=a||(n||t===V)&&t!==$&&0===e.strm.avail_in&&n<=i)&&(r=n>i?i:n,s=t===V&&0===e.strm.avail_in&&r===n?1:0,R(e,e.block_start,r,s),e.block_start+=r,ec(e.strm)),s?3:1)},eb=function(e,t){for(var r,n;;){if(e.lookahead<262){if(eg(e),e.lookahead<262&&t===$)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=eu(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-262&&(e.match_length=em(e,r)),e.match_length>=3){if(n=z(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do e.strstart++,e.ins_h=eu(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=eu(e,e.ins_h,e.window[e.strstart+1])}else n=z(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(eh(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===V?(eh(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(eh(e,!1),0===e.strm.avail_out)?1:2},ev=function(e,t){for(var r,n,i;;){if(e.lookahead<262){if(eg(e),e.lookahead<262&&t===$)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=eu(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-262&&(e.match_length=em(e,r),e.match_length<=5&&(e.strategy===Q||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,n=z(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=eu(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(eh(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=z(e,0,e.window[e.strstart-1]))&&eh(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=z(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===V?(eh(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(eh(e,!1),0===e.strm.avail_out)?1:2};function ew(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}var e_=[new ew(0,0,0,0,ey),new ew(4,4,8,4,eb),new ew(4,5,16,8,eb),new ew(4,6,32,32,eb),new ew(4,4,16,16,ev),new ew(8,16,32,32,ev),new ew(8,16,128,128,ev),new ew(8,32,128,256,ev),new ew(32,128,258,1024,ev),new ew(32,258,258,4096,ev)];function eE(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ei,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),eo(this.dyn_ltree),eo(this.dyn_dtree),eo(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),eo(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),eo(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var eT=function(e){if(!e)return 1;var t=e.state;return t&&t.strm===e&&(42===t.status||57===t.status||69===t.status||73===t.status||91===t.status||103===t.status||113===t.status||666===t.status)?0:1},ex=function(e){if(eT(e))return ea(e,K);e.total_in=e.total_out=0,e.data_type=en;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=-2,U(t),W},eS=function(e){var t,r=ex(e);return r===W&&((t=e.state).window_size=2*t.w_size,eo(t.head),t.max_lazy_match=e_[t.level].max_lazy,t.good_match=e_[t.level].good_length,t.nice_match=e_[t.level].nice_length,t.max_chain_length=e_[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),r},ek={deflateInit2:function(e,t,r,n,i,a){if(!e)return K;var s=1;if(t===J&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>9||r!==ei||n<8||n>15||t<0||t>9||a<0||a>er||8===n&&1!==s)return ea(e,K);8===n&&(n=9);var o=new eE;return e.state=o,o.strm=e,o.status=42,o.wrap=s,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=3*(o.lit_bufsize-1),o.level=t,o.strategy=a,o.method=r,eS(e)},deflateSetHeader:function(e,t){return eT(e)||2!==e.state.wrap?K:(e.state.gzhead=t,W)},deflate:function(e,t){if(eT(e)||t>G||t<0)return e?ea(e,K):K;var r=e.state;if(!e.output||0!==e.avail_in&&!e.input||666===r.status&&t!==V)return ea(e,0===e.avail_out?Z:K);var n=r.last_flush;if(r.last_flush=t,0!==r.pending){if(ec(e),0===e.avail_out)return r.last_flush=-1,W}else if(0===e.avail_in&&es(t)<=es(n)&&t!==V)return ea(e,Z);if(666===r.status&&0!==e.avail_in)return ea(e,Z);if(42===r.status&&0===r.wrap&&(r.status=113),42===r.status){var i=ei+(r.w_bits-8<<4)<<8;if(i|=(r.strategy>=ee||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(i|=32),ef(r,i+=31-i%31),0!==r.strstart&&(ef(r,e.adler>>>16),ef(r,65535&e.adler)),e.adler=1,r.status=113,ec(e),0!==r.pending)return r.last_flush=-1,W}if(57===r.status){if(e.adler=0,ed(r,31),ed(r,139),ed(r,8),r.gzhead)ed(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),ed(r,255&r.gzhead.time),ed(r,r.gzhead.time>>8&255),ed(r,r.gzhead.time>>16&255),ed(r,r.gzhead.time>>24&255),ed(r,9===r.level?2:r.strategy>=ee||r.level<2?4:0),ed(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(ed(r,255&r.gzhead.extra.length),ed(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=L(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69;else if(ed(r,0),ed(r,0),ed(r,0),ed(r,0),ed(r,0),ed(r,9===r.level?2:r.strategy>=ee||r.level<2?4:0),ed(r,3),r.status=113,ec(e),0!==r.pending)return r.last_flush=-1,W}if(69===r.status){if(r.gzhead.extra){for(var a=r.pending,s=(65535&r.gzhead.extra.length)-r.gzindex;r.pending+s>r.pending_buf_size;){var o=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+o),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>a&&(e.adler=L(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex+=o,ec(e),0!==r.pending)return r.last_flush=-1,W;a=0,s-=o}var l=new Uint8Array(r.gzhead.extra);r.pending_buf.set(l.subarray(r.gzindex,r.gzindex+s),r.pending),r.pending+=s,r.gzhead.hcrc&&r.pending>a&&(e.adler=L(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex=0}r.status=73}if(73===r.status){if(r.gzhead.name){var u,c=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>c&&(e.adler=L(e.adler,r.pending_buf,r.pending-c,c)),ec(e),0!==r.pending)return r.last_flush=-1,W;c=0}u=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,ed(r,u)}while(0!==u);r.gzhead.hcrc&&r.pending>c&&(e.adler=L(e.adler,r.pending_buf,r.pending-c,c)),r.gzindex=0}r.status=91}if(91===r.status){if(r.gzhead.comment){var h,d=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>d&&(e.adler=L(e.adler,r.pending_buf,r.pending-d,d)),ec(e),0!==r.pending)return r.last_flush=-1,W;d=0}h=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,ed(r,h)}while(0!==h);r.gzhead.hcrc&&r.pending>d&&(e.adler=L(e.adler,r.pending_buf,r.pending-d,d))}r.status=103}if(103===r.status){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(ec(e),0!==r.pending))return r.last_flush=-1,W;ed(r,255&e.adler),ed(r,e.adler>>8&255),e.adler=0}if(r.status=113,ec(e),0!==r.pending)return r.last_flush=-1,W}if(0!==e.avail_in||0!==r.lookahead||t!==$&&666!==r.status){var f=0===r.level?ey(r,t):r.strategy===ee?function(e,t){for(var r;;){if(0===e.lookahead&&(eg(e),0===e.lookahead)){if(t===$)return 1;break}if(e.match_length=0,r=z(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(eh(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===V?(eh(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(eh(e,!1),0===e.strm.avail_out)?1:2}(r,t):r.strategy===et?function(e,t){for(var r,n,i,a,s=e.window;;){if(e.lookahead<=258){if(eg(e),e.lookahead<=258&&t===$)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(n=s[i=e.strstart-1])===s[++i]&&n===s[++i]&&n===s[++i]){a=e.strstart+258;do;while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);e.match_length=258-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=z(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=z(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(eh(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===V?(eh(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(eh(e,!1),0===e.strm.avail_out)?1:2}(r,t):e_[r.level].func(r,t);if(3!==f&&4!==f||(r.status=666),1===f||3===f)return 0===e.avail_out&&(r.last_flush=-1),W;if(2===f&&(t===F?q(r):t!==G&&(R(r,0,0,!1),t===H&&(eo(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),ec(e),0===e.avail_out))return r.last_flush=-1,W}return t!==V?W:r.wrap<=0?Y:(2===r.wrap?(ed(r,255&e.adler),ed(r,e.adler>>8&255),ed(r,e.adler>>16&255),ed(r,e.adler>>24&255),ed(r,255&e.total_in),ed(r,e.total_in>>8&255),ed(r,e.total_in>>16&255),ed(r,e.total_in>>24&255)):(ef(r,e.adler>>>16),ef(r,65535&e.adler)),ec(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?W:Y)},deflateEnd:function(e){if(eT(e))return K;var t=e.state.status;return e.state=null,113===t?ea(e,X):W},deflateSetDictionary:function(e,t){var r=t.length;if(eT(e))return K;var n=e.state,i=n.wrap;if(2===i||1===i&&42!==n.status||n.lookahead)return K;if(1===i&&(e.adler=I(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){0===i&&(eo(n.head),n.strstart=0,n.block_start=0,n.insert=0);var a=new Uint8Array(n.w_size);a.set(t.subarray(r-n.w_size,r),0),t=a,r=n.w_size}var s=e.avail_in,o=e.next_in,l=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,eg(n);n.lookahead>=3;){var u=n.strstart,c=n.lookahead-2;do n.ins_h=eu(n,n.ins_h,n.window[u+3-1]),n.prev[u&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=u,u++;while(--c);n.strstart=u,n.lookahead=2,eg(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=o,e.input=l,e.avail_in=s,n.wrap=i,W}};function eO(e){return(eO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var eA=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!==eO(r))throw TypeError(r+"must be non-object");for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}return e},eC=function(e){for(var t=0,r=0,n=e.length;r<n;r++)t+=e[r].length;for(var i=new Uint8Array(t),a=0,s=0,o=e.length;a<o;a++){var l=e[a];i.set(l,s),s+=l.length}return i},eD=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){eD=!1}for(var eN=new Uint8Array(256),eR=0;eR<256;eR++)eN[eR]=eR>=252?6:eR>=248?5:eR>=240?4:eR>=224?3:eR>=192?2:1;eN[254]=eN[254]=1;var eI=function(e){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,r,n,i,a,s=e.length,o=0;for(i=0;i<s;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),a=0,i=0;a<o;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?t[a++]=r:(r<2048?t[a++]=192|r>>>6:(r<65536?t[a++]=224|r>>>12:(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63),t[a++]=128|r>>>6&63),t[a++]=128|63&r);return t},eP=function(e,t){var r,n,i=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));var a=Array(2*i);for(n=0,r=0;r<i;){var s=e[r++];if(s<128)a[n++]=s;else{var o=eN[s];if(o>4)a[n++]=65533,r+=o-1;else{for(s&=2===o?31:3===o?15:7;o>1&&r<i;)s=s<<6|63&e[r++],o--;o>1?a[n++]=65533:s<65536?a[n++]=s:(s-=65536,a[n++]=55296|s>>10&1023,a[n++]=56320|1023&s)}}}return function(e,t){if(t<65534&&e.subarray&&eD)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));for(var r="",n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r}(a,n)},eL=function(e,t){(t=t||e.length)>e.length&&(t=e.length);for(var r=t-1;r>=0&&128==(192&e[r]);)r--;return r<0||0===r?t:r+eN[e[r]]>t?r:t},ej=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},eM=Object.prototype.toString,eU=M.Z_NO_FLUSH,eB=M.Z_SYNC_FLUSH,ez=M.Z_FULL_FLUSH,eq=M.Z_FINISH,e$=M.Z_OK,eF=M.Z_STREAM_END,eH=M.Z_DEFAULT_COMPRESSION,eV=M.Z_DEFAULT_STRATEGY,eG=M.Z_DEFLATED;function eW(e){this.options=eA({level:eH,method:eG,chunkSize:16384,windowBits:15,memLevel:8,strategy:eV},e||{});var t,r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ej,this.strm.avail_out=0;var n=ek.deflateInit2(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(n!==e$)throw Error(j[n]);if(r.header&&ek.deflateSetHeader(this.strm,r.header),r.dictionary){if(t="string"==typeof r.dictionary?eI(r.dictionary):"[object ArrayBuffer]"===eM.call(r.dictionary)?new Uint8Array(r.dictionary):r.dictionary,(n=ek.deflateSetDictionary(this.strm,t))!==e$)throw Error(j[n]);this._dict_set=!0}}function eY(e,t){var r=new eW(t);if(r.push(e,!0),r.err)throw r.msg||j[r.err];return r.result}eW.prototype.push=function(e,t){var r,n,i=this.strm,a=this.options.chunkSize;if(this.ended)return!1;for(n=t===~~t?t:!0===t?eq:eU,"string"==typeof e?i.input=eI(e):"[object ArrayBuffer]"===eM.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(a),i.next_out=0,i.avail_out=a),(n===eB||n===ez)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if((r=ek.deflate(i,n))===eF)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),r=ek.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===e$;if(0!==i.avail_out){if(n>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},eW.prototype.onData=function(e){this.chunks.push(e)},eW.prototype.onEnd=function(e){e===e$&&(this.result=eC(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var eK=function(e,t){var r,n,i,a,s,o,l,u,c,h,d,f,p,m,g,y,b,v,w,_,E,T,x,S,k=e.state;r=e.next_in,x=e.input,n=r+(e.avail_in-5),i=e.next_out,S=e.output,a=i-(t-e.avail_out),s=i+(e.avail_out-257),o=k.dmax,l=k.wsize,u=k.whave,c=k.wnext,h=k.window,d=k.hold,f=k.bits,p=k.lencode,m=k.distcode,g=(1<<k.lenbits)-1,y=(1<<k.distbits)-1;e:do for(f<15&&(d+=x[r++]<<f,f+=8,d+=x[r++]<<f,f+=8),b=p[d&g];;){if(d>>>=v=b>>>24,f-=v,0==(v=b>>>16&255))S[i++]=65535&b;else{if(!(16&v)){if(0==(64&v)){b=p[(65535&b)+(d&(1<<v)-1)];continue}if(32&v){k.mode=16191;break e}e.msg="invalid literal/length code",k.mode=16209;break e}for(w=65535&b,(v&=15)&&(f<v&&(d+=x[r++]<<f,f+=8),w+=d&(1<<v)-1,d>>>=v,f-=v),f<15&&(d+=x[r++]<<f,f+=8,d+=x[r++]<<f,f+=8),b=m[d&y];;){if(d>>>=v=b>>>24,f-=v,!(16&(v=b>>>16&255))){if(0==(64&v)){b=m[(65535&b)+(d&(1<<v)-1)];continue}e.msg="invalid distance code",k.mode=16209;break e}if(_=65535&b,f<(v&=15)&&(d+=x[r++]<<f,(f+=8)<v&&(d+=x[r++]<<f,f+=8)),(_+=d&(1<<v)-1)>o){e.msg="invalid distance too far back",k.mode=16209;break e}if(d>>>=v,f-=v,_>(v=i-a)){if((v=_-v)>u&&k.sane){e.msg="invalid distance too far back",k.mode=16209;break e}if(E=0,T=h,0===c){if(E+=l-v,v<w){w-=v;do S[i++]=h[E++];while(--v);E=i-_,T=S}}else if(c<v){if(E+=l+c-v,(v-=c)<w){w-=v;do S[i++]=h[E++];while(--v);if(E=0,c<w){w-=v=c;do S[i++]=h[E++];while(--v);E=i-_,T=S}}}else if(E+=c-v,v<w){w-=v;do S[i++]=h[E++];while(--v);E=i-_,T=S}for(;w>2;)S[i++]=T[E++],S[i++]=T[E++],S[i++]=T[E++],w-=3;w&&(S[i++]=T[E++],w>1&&(S[i++]=T[E++]))}else{E=i-_;do S[i++]=S[E++],S[i++]=S[E++],S[i++]=S[E++],w-=3;while(w>2);w&&(S[i++]=S[E++],w>1&&(S[i++]=S[E++]))}break}}break}while(r<n&&i<s);r-=w=f>>3,d&=(1<<(f-=w<<3))-1,e.next_in=r,e.next_out=i,e.avail_in=r<n?n-r+5:5-(r-n),e.avail_out=i<s?s-i+257:257-(i-s),k.hold=d,k.bits=f},eX=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),eZ=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),eJ=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),eQ=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),e0=function(e,t,r,n,i,a,s,o){var l,u,c,h,d,f,p,m,g,y=o.bits,b=0,v=0,w=0,_=0,E=0,T=0,x=0,S=0,k=0,O=0,A=null,C=new Uint16Array(16),D=new Uint16Array(16),N=null;for(b=0;b<=15;b++)C[b]=0;for(v=0;v<n;v++)C[t[r+v]]++;for(E=y,_=15;_>=1&&0===C[_];_--);if(E>_&&(E=_),0===_)return i[a++]=20971520,i[a++]=20971520,o.bits=1,0;for(w=1;w<_&&0===C[w];w++);for(E<w&&(E=w),S=1,b=1;b<=15;b++)if(S<<=1,(S-=C[b])<0)return -1;if(S>0&&(0===e||1!==_))return -1;for(D[1]=0,b=1;b<15;b++)D[b+1]=D[b]+C[b];for(v=0;v<n;v++)0!==t[r+v]&&(s[D[t[r+v]]++]=v);if(0===e?(A=N=s,f=20):1===e?(A=eX,N=eZ,f=257):(A=eJ,N=eQ,f=0),O=0,v=0,b=w,d=a,T=E,x=0,c=-1,h=(k=1<<E)-1,1===e&&k>852||2===e&&k>592)return 1;for(;;){p=b-x,s[v]+1<f?(m=0,g=s[v]):s[v]>=f?(m=N[s[v]-f],g=A[s[v]-f]):(m=96,g=0),l=1<<b-x,w=u=1<<T;do i[d+(O>>x)+(u-=l)]=p<<24|m<<16|g|0;while(0!==u);for(l=1<<b-1;O&l;)l>>=1;if(0!==l?(O&=l-1,O+=l):O=0,v++,0==--C[b]){if(b===_)break;b=t[r+s[v]]}if(b>E&&(O&h)!==c){for(0===x&&(x=E),d+=w,S=1<<(T=b-x);T+x<_&&!((S-=C[T+x])<=0);)T++,S<<=1;if(k+=1<<T,1===e&&k>852||2===e&&k>592)return 1;i[c=O&h]=E<<24|T<<16|d-a|0}}return 0!==O&&(i[d+O]=b-x<<24|4194304),o.bits=E,0},e1=M.Z_FINISH,e2=M.Z_BLOCK,e5=M.Z_TREES,e3=M.Z_OK,e6=M.Z_STREAM_END,e8=M.Z_NEED_DICT,e4=M.Z_STREAM_ERROR,e9=M.Z_DATA_ERROR,e7=M.Z_MEM_ERROR,te=M.Z_BUF_ERROR,tt=M.Z_DEFLATED,tr=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)};function tn(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var ti,ta,ts=function(e){if(!e)return 1;var t=e.state;return!t||t.strm!==e||t.mode<16180||t.mode>16211?1:0},to=function(e){if(ts(e))return e4;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=16180,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,e3},tl=function(e){if(ts(e))return e4;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,to(e)},tu=function(e,t){if(ts(e))return e4;var r,n=e.state;return t<0?(r=0,t=-t):(r=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?e4:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,tl(e))},tc=!0,th=function(e){if(tc){ti=new Int32Array(512),ta=new Int32Array(32);for(var t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(e0(1,e.lens,0,288,ti,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;e0(2,e.lens,0,32,ta,0,e.work,{bits:5}),tc=!1}e.lencode=ti,e.lenbits=9,e.distcode=ta,e.distbits=5},td=function(e,t,r,n){var i,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):((i=a.wsize-a.wnext)>n&&(i=n),a.window.set(t.subarray(r-n,r-n+i),a.wnext),(n-=i)?(a.window.set(t.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},tf={inflateReset:tl,inflateInit2:function(e,t){if(!e)return e4;var r=new tn;e.state=r,r.strm=e,r.window=null,r.mode=16180;var n=tu(e,t);return n!==e3&&(e.state=null),n},inflate:function(e,t){var r,n,i,a,s,o,l,u,c,h,d,f,p,m,g,y,b,v,w,_,E,T,x,S,k=0,O=new Uint8Array(4),A=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ts(e)||!e.output||!e.input&&0!==e.avail_in)return e4;16191===(r=e.state).mode&&(r.mode=16192),s=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,u=r.hold,c=r.bits,h=o,d=l,T=e3;e:for(;;)switch(r.mode){case 16180:if(0===r.wrap){r.mode=16192;break}for(;c<16;){if(0===o)break e;o--,u+=n[a++]<<c,c+=8}if(2&r.wrap&&35615===u){0===r.wbits&&(r.wbits=15),r.check=0,O[0]=255&u,O[1]=u>>>8&255,r.check=L(r.check,O,2,0),u=0,c=0,r.mode=16181;break}if(r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=16209;break}if((15&u)!==tt){e.msg="unknown compression method",r.mode=16209;break}if(c-=4,E=8+(15&(u>>>=4)),0===r.wbits&&(r.wbits=E),E>15||E>r.wbits){e.msg="invalid window size",r.mode=16209;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=512&u?16189:16191,u=0,c=0;break;case 16181:for(;c<16;){if(0===o)break e;o--,u+=n[a++]<<c,c+=8}if(r.flags=u,(255&r.flags)!==tt){e.msg="unknown compression method",r.mode=16209;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=16209;break}r.head&&(r.head.text=u>>8&1),512&r.flags&&4&r.wrap&&(O[0]=255&u,O[1]=u>>>8&255,r.check=L(r.check,O,2,0)),u=0,c=0,r.mode=16182;case 16182:for(;c<32;){if(0===o)break e;o--,u+=n[a++]<<c,c+=8}r.head&&(r.head.time=u),512&r.flags&&4&r.wrap&&(O[0]=255&u,O[1]=u>>>8&255,O[2]=u>>>16&255,O[3]=u>>>24&255,r.check=L(r.check,O,4,0)),u=0,c=0,r.mode=16183;case 16183:for(;c<16;){if(0===o)break e;o--,u+=n[a++]<<c,c+=8}r.head&&(r.head.xflags=255&u,r.head.os=u>>8),512&r.flags&&4&r.wrap&&(O[0]=255&u,O[1]=u>>>8&255,r.check=L(r.check,O,2,0)),u=0,c=0,r.mode=16184;case 16184:if(1024&r.flags){for(;c<16;){if(0===o)break e;o--,u+=n[a++]<<c,c+=8}r.length=u,r.head&&(r.head.extra_len=u),512&r.flags&&4&r.wrap&&(O[0]=255&u,O[1]=u>>>8&255,r.check=L(r.check,O,2,0)),u=0,c=0}else r.head&&(r.head.extra=null);r.mode=16185;case 16185:if(1024&r.flags&&((f=r.length)>o&&(f=o),f&&(r.head&&(E=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+f),E)),512&r.flags&&4&r.wrap&&(r.check=L(r.check,n,f,a)),o-=f,a+=f,r.length-=f),r.length))break e;r.length=0,r.mode=16186;case 16186:if(2048&r.flags){if(0===o)break e;f=0;do E=n[a+f++],r.head&&E&&r.length<65536&&(r.head.name+=String.fromCharCode(E));while(E&&f<o);if(512&r.flags&&4&r.wrap&&(r.check=L(r.check,n,f,a)),o-=f,a+=f,E)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=16187;case 16187:if(4096&r.flags){if(0===o)break e;f=0;do E=n[a+f++],r.head&&E&&r.length<65536&&(r.head.comment+=String.fromCharCode(E));while(E&&f<o);if(512&r.flags&&4&r.wrap&&(r.check=L(r.check,n,f,a)),o-=f,a+=f,E)break e}else r.head&&(r.head.comment=null);r.mode=16188;case 16188:if(512&r.flags){for(;c<16;){if(0===o)break e;o--,u+=n[a++]<<c,c+=8}if(4&r.wrap&&u!==(65535&r.check)){e.msg="header crc mismatch",r.mode=16209;break}u=0,c=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=16191;break;case 16189:for(;c<32;){if(0===o)break e;o--,u+=n[a++]<<c,c+=8}e.adler=r.check=tr(u),u=0,c=0,r.mode=16190;case 16190:if(0===r.havedict)return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=u,r.bits=c,e8;e.adler=r.check=1,r.mode=16191;case 16191:if(t===e2||t===e5)break e;case 16192:if(r.last){u>>>=7&c,c-=7&c,r.mode=16206;break}for(;c<3;){if(0===o)break e;o--,u+=n[a++]<<c,c+=8}switch(r.last=1&u,c-=1,3&(u>>>=1)){case 0:r.mode=16193;break;case 1:if(th(r),r.mode=16199,t===e5){u>>>=2,c-=2;break e}break;case 2:r.mode=16196;break;case 3:e.msg="invalid block type",r.mode=16209}u>>>=2,c-=2;break;case 16193:for(u>>>=7&c,c-=7&c;c<32;){if(0===o)break e;o--,u+=n[a++]<<c,c+=8}if((65535&u)!=(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=16209;break}if(r.length=65535&u,u=0,c=0,r.mode=16194,t===e5)break e;case 16194:r.mode=16195;case 16195:if(f=r.length){if(f>o&&(f=o),f>l&&(f=l),0===f)break e;i.set(n.subarray(a,a+f),s),o-=f,a+=f,l-=f,s+=f,r.length-=f;break}r.mode=16191;break;case 16196:for(;c<14;){if(0===o)break e;o--,u+=n[a++]<<c,c+=8}if(r.nlen=257+(31&u),u>>>=5,c-=5,r.ndist=1+(31&u),u>>>=5,c-=5,r.ncode=4+(15&u),u>>>=4,c-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=16209;break}r.have=0,r.mode=16197;case 16197:for(;r.have<r.ncode;){for(;c<3;){if(0===o)break e;o--,u+=n[a++]<<c,c+=8}r.lens[A[r.have++]]=7&u,u>>>=3,c-=3}for(;r.have<19;)r.lens[A[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,x={bits:r.lenbits},T=e0(0,r.lens,0,19,r.lencode,0,r.work,x),r.lenbits=x.bits,T){e.msg="invalid code lengths set",r.mode=16209;break}r.have=0,r.mode=16198;case 16198:for(;r.have<r.nlen+r.ndist;){for(;y=(k=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,b=65535&k,!((g=k>>>24)<=c);){if(0===o)break e;o--,u+=n[a++]<<c,c+=8}if(b<16)u>>>=g,c-=g,r.lens[r.have++]=b;else{if(16===b){for(S=g+2;c<S;){if(0===o)break e;o--,u+=n[a++]<<c,c+=8}if(u>>>=g,c-=g,0===r.have){e.msg="invalid bit length repeat",r.mode=16209;break}E=r.lens[r.have-1],f=3+(3&u),u>>>=2,c-=2}else if(17===b){for(S=g+3;c<S;){if(0===o)break e;o--,u+=n[a++]<<c,c+=8}c-=g,E=0,f=3+(7&(u>>>=g)),u>>>=3,c-=3}else{for(S=g+7;c<S;){if(0===o)break e;o--,u+=n[a++]<<c,c+=8}c-=g,E=0,f=11+(127&(u>>>=g)),u>>>=7,c-=7}if(r.have+f>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=16209;break}for(;f--;)r.lens[r.have++]=E}}if(16209===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=16209;break}if(r.lenbits=9,x={bits:r.lenbits},T=e0(1,r.lens,0,r.nlen,r.lencode,0,r.work,x),r.lenbits=x.bits,T){e.msg="invalid literal/lengths set",r.mode=16209;break}if(r.distbits=6,r.distcode=r.distdyn,x={bits:r.distbits},T=e0(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,x),r.distbits=x.bits,T){e.msg="invalid distances set",r.mode=16209;break}if(r.mode=16199,t===e5)break e;case 16199:r.mode=16200;case 16200:if(o>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=u,r.bits=c,eK(e,d),s=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,u=r.hold,c=r.bits,16191===r.mode&&(r.back=-1);break}for(r.back=0;y=(k=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,b=65535&k,!((g=k>>>24)<=c);){if(0===o)break e;o--,u+=n[a++]<<c,c+=8}if(y&&0==(240&y)){for(v=g,w=y,_=b;y=(k=r.lencode[_+((u&(1<<v+w)-1)>>v)])>>>16&255,b=65535&k,!(v+(g=k>>>24)<=c);){if(0===o)break e;o--,u+=n[a++]<<c,c+=8}u>>>=v,c-=v,r.back+=v}if(u>>>=g,c-=g,r.back+=g,r.length=b,0===y){r.mode=16205;break}if(32&y){r.back=-1,r.mode=16191;break}if(64&y){e.msg="invalid literal/length code",r.mode=16209;break}r.extra=15&y,r.mode=16201;case 16201:if(r.extra){for(S=r.extra;c<S;){if(0===o)break e;o--,u+=n[a++]<<c,c+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,c-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=16202;case 16202:for(;y=(k=r.distcode[u&(1<<r.distbits)-1])>>>16&255,b=65535&k,!((g=k>>>24)<=c);){if(0===o)break e;o--,u+=n[a++]<<c,c+=8}if(0==(240&y)){for(v=g,w=y,_=b;y=(k=r.distcode[_+((u&(1<<v+w)-1)>>v)])>>>16&255,b=65535&k,!(v+(g=k>>>24)<=c);){if(0===o)break e;o--,u+=n[a++]<<c,c+=8}u>>>=v,c-=v,r.back+=v}if(u>>>=g,c-=g,r.back+=g,64&y){e.msg="invalid distance code",r.mode=16209;break}r.offset=b,r.extra=15&y,r.mode=16203;case 16203:if(r.extra){for(S=r.extra;c<S;){if(0===o)break e;o--,u+=n[a++]<<c,c+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,c-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=16209;break}r.mode=16204;case 16204:if(0===l)break e;if(f=d-l,r.offset>f){if((f=r.offset-f)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=16209;break}f>r.wnext?(f-=r.wnext,p=r.wsize-f):p=r.wnext-f,f>r.length&&(f=r.length),m=r.window}else m=i,p=s-r.offset,f=r.length;f>l&&(f=l),l-=f,r.length-=f;do i[s++]=m[p++];while(--f);0===r.length&&(r.mode=16200);break;case 16205:if(0===l)break e;i[s++]=r.length,l--,r.mode=16200;break;case 16206:if(r.wrap){for(;c<32;){if(0===o)break e;o--,u|=n[a++]<<c,c+=8}if(d-=l,e.total_out+=d,r.total+=d,4&r.wrap&&d&&(e.adler=r.check=r.flags?L(r.check,i,d,s-d):I(r.check,i,d,s-d)),d=l,4&r.wrap&&(r.flags?u:tr(u))!==r.check){e.msg="incorrect data check",r.mode=16209;break}u=0,c=0}r.mode=16207;case 16207:if(r.wrap&&r.flags){for(;c<32;){if(0===o)break e;o--,u+=n[a++]<<c,c+=8}if(4&r.wrap&&u!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=16209;break}u=0,c=0}r.mode=16208;case 16208:T=e6;break e;case 16209:T=e9;break e;case 16210:return e7;default:return e4}return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=u,r.bits=c,(r.wsize||d!==e.avail_out&&r.mode<16209&&(r.mode<16206||t!==e1))&&td(e,e.output,e.next_out,d-e.avail_out),h-=e.avail_in,d-=e.avail_out,e.total_in+=h,e.total_out+=d,r.total+=d,4&r.wrap&&d&&(e.adler=r.check=r.flags?L(r.check,i,d,e.next_out-d):I(r.check,i,d,e.next_out-d)),e.data_type=r.bits+(r.last?64:0)+(16191===r.mode?128:0)+(16199===r.mode||16194===r.mode?256:0),(0===h&&0===d||t===e1)&&T===e3&&(T=te),T},inflateEnd:function(e){if(ts(e))return e4;var t=e.state;return t.window&&(t.window=null),e.state=null,e3},inflateGetHeader:function(e,t){if(ts(e))return e4;var r=e.state;return 0==(2&r.wrap)?e4:(r.head=t,t.done=!1,e3)},inflateSetDictionary:function(e,t){var r,n=t.length;return ts(e)||0!==(r=e.state).wrap&&16190!==r.mode?e4:16190===r.mode&&I(1,t,n,0)!==r.check?e9:td(e,t,n,n)?(r.mode=16210,e7):(r.havedict=1,e3)}},tp=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},tm=Object.prototype.toString,tg=M.Z_NO_FLUSH,ty=M.Z_FINISH,tb=M.Z_OK,tv=M.Z_STREAM_END,tw=M.Z_NEED_DICT,t_=M.Z_STREAM_ERROR,tE=M.Z_DATA_ERROR,tT=M.Z_MEM_ERROR;function tx(e){this.options=eA({chunkSize:65536,windowBits:15,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ej,this.strm.avail_out=0;var r=tf.inflateInit2(this.strm,t.windowBits);if(r!==tb||(this.header=new tp,tf.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=eI(t.dictionary):"[object ArrayBuffer]"===tm.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=tf.inflateSetDictionary(this.strm,t.dictionary))!==tb)))throw Error(j[r])}function tS(e,t){var r=new tx(t);if(r.push(e),r.err)throw r.msg||j[r.err];return r.result}tx.prototype.push=function(e,t){var r,n,i,a=this.strm,s=this.options.chunkSize,o=this.options.dictionary;if(this.ended)return!1;for(n=t===~~t?t:!0===t?ty:tg,"[object ArrayBuffer]"===tm.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;;){for(0===a.avail_out&&(a.output=new Uint8Array(s),a.next_out=0,a.avail_out=s),(r=tf.inflate(a,n))===tw&&o&&((r=tf.inflateSetDictionary(a,o))===tb?r=tf.inflate(a,n):r===tE&&(r=tw));a.avail_in>0&&r===tv&&a.state.wrap>0&&0!==e[a.next_in];)tf.inflateReset(a),r=tf.inflate(a,n);switch(r){case t_:case tE:case tw:case tT:return this.onEnd(r),this.ended=!0,!1}if(i=a.avail_out,a.next_out&&(0===a.avail_out||r===tv)){if("string"===this.options.to){var l=eL(a.output,a.next_out),u=a.next_out-l,c=eP(a.output,l);a.next_out=u,a.avail_out=s-u,u&&a.output.set(a.output.subarray(l,l+u),0),this.onData(c)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out))}if(r!==tb||0!==i){if(r===tv)return r=tf.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(0===a.avail_in)break}}return!0},tx.prototype.onData=function(e){this.chunks.push(e)},tx.prototype.onEnd=function(e){e===tb&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=eC(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var tk=function(e,t){return(t=t||{}).raw=!0,eY(e,t)},tO=function(e,t){return(t=t||{}).gzip=!0,eY(e,t)},tA=function(e,t){return(t=t||{}).raw=!0,tS(e,t)};e.Deflate=eW,e.Inflate=tx,e.constants=M,e.default={Deflate:eW,deflate:eY,deflateRaw:tk,gzip:tO,Inflate:tx,inflate:tS,inflateRaw:tA,ungzip:tS,constants:M},e.deflate=eY,e.deflateRaw=tk,e.gzip=tO,e.inflate=tS,e.inflateRaw=tA,e.ungzip=tS,Object.defineProperty(e,"__esModule",{value:!0})})(t)},3179:(e,t,r)=>{"use strict";let n=r(3119),i=[function(){},function(e,t,r,n){if(n===t.length)throw Error("Ran out of data");let i=t[n];e[r]=i,e[r+1]=i,e[r+2]=i,e[r+3]=255},function(e,t,r,n){if(n+1>=t.length)throw Error("Ran out of data");let i=t[n];e[r]=i,e[r+1]=i,e[r+2]=i,e[r+3]=t[n+1]},function(e,t,r,n){if(n+2>=t.length)throw Error("Ran out of data");e[r]=t[n],e[r+1]=t[n+1],e[r+2]=t[n+2],e[r+3]=255},function(e,t,r,n){if(n+3>=t.length)throw Error("Ran out of data");e[r]=t[n],e[r+1]=t[n+1],e[r+2]=t[n+2],e[r+3]=t[n+3]}],a=[function(){},function(e,t,r,n){let i=t[0];e[r]=i,e[r+1]=i,e[r+2]=i,e[r+3]=n},function(e,t,r){let n=t[0];e[r]=n,e[r+1]=n,e[r+2]=n,e[r+3]=t[1]},function(e,t,r,n){e[r]=t[0],e[r+1]=t[1],e[r+2]=t[2],e[r+3]=n},function(e,t,r){e[r]=t[0],e[r+1]=t[1],e[r+2]=t[2],e[r+3]=t[3]}];t.dataToBitMap=function(e,t){let r,s,o,l,u=t.width,c=t.height,h=t.depth,d=t.bpp,f=t.interlace;if(8!==h){let t,n;t=[],n=0,r={get:function(r){for(;t.length<r;)!function(){let r,i,a,s,o,l,u,c;if(n===e.length)throw Error("Ran out of data");let d=e[n];switch(n++,h){default:throw Error("unrecognised depth");case 16:u=e[n],n++,t.push((d<<8)+u);break;case 4:u=15&d,c=d>>4,t.push(c,u);break;case 2:o=3&d,l=d>>2&3,u=d>>4&3,c=d>>6&3,t.push(c,u,l,o);break;case 1:r=1&d,i=d>>1&1,a=d>>2&1,s=d>>3&1,o=d>>4&1,l=d>>5&1,u=d>>6&1,c=d>>7&1,t.push(c,u,l,o,s,a,i,r)}}();let i=t.slice(0,r);return t=t.slice(r),i},resetAfterLine:function(){t.length=0},end:function(){if(n!==e.length)throw Error("extra data found")}}}s=h<=8?Buffer.alloc(u*c*4):new Uint16Array(u*c*4);let p=Math.pow(2,h)-1,m=0;if(f)o=n.getImagePasses(u,c),l=n.getInterlaceIterator(u,c);else{let e=0;l=function(){let t=e;return e+=4,t},o=[{width:u,height:c}]}for(let t=0;t<o.length;t++)8===h?m=function(e,t,r,n,a,s){let o=e.width,l=e.height,u=e.index;for(let e=0;e<l;e++)for(let l=0;l<o;l++){let o=r(l,e,u);i[n](t,a,o,s),s+=n}return s}(o[t],s,l,d,e,m):function(e,t,r,n,i,s){let o=e.width,l=e.height,u=e.index;for(let e=0;e<l;e++){for(let l=0;l<o;l++){let o=i.get(n),c=r(l,e,u);a[n](t,o,c,s)}i.resetAfterLine()}}(o[t],s,l,d,r,p);if(8===h){if(m!==e.length)throw Error("extra data found")}else r.end();return s}},2194:(e,t,r)=>{"use strict";let n=r(5872);e.exports=function(e,t,r,i){let a=-1!==[n.COLORTYPE_COLOR_ALPHA,n.COLORTYPE_ALPHA].indexOf(i.colorType);if(i.colorType===i.inputColorType){let t;let r=(new DataView(t=new ArrayBuffer(2)).setInt16(0,256,!0),256!==new Int16Array(t)[0]);if(8===i.bitDepth||16===i.bitDepth&&r)return e}let s=16!==i.bitDepth?e:new Uint16Array(e.buffer),o=255,l=n.COLORTYPE_TO_BPP_MAP[i.inputColorType];4!==l||i.inputHasAlpha||(l=3);let u=n.COLORTYPE_TO_BPP_MAP[i.colorType];16===i.bitDepth&&(o=65535,u*=2);let c=Buffer.alloc(t*r*u),h=0,d=0,f=i.bgColor||{};void 0===f.red&&(f.red=o),void 0===f.green&&(f.green=o),void 0===f.blue&&(f.blue=o);for(let e=0;e<r;e++)for(let e=0;e<t;e++){let e=function(){let e,t,r;let l=o;switch(i.inputColorType){case n.COLORTYPE_COLOR_ALPHA:l=s[h+3],e=s[h],t=s[h+1],r=s[h+2];break;case n.COLORTYPE_COLOR:e=s[h],t=s[h+1],r=s[h+2];break;case n.COLORTYPE_ALPHA:l=s[h+1],t=e=s[h],r=e;break;case n.COLORTYPE_GRAYSCALE:t=e=s[h],r=e;break;default:throw Error("input color type:"+i.inputColorType+" is not supported at present")}return i.inputHasAlpha&&!a&&(l/=o,e=Math.min(Math.max(Math.round((1-l)*f.red+l*e),0),o),t=Math.min(Math.max(Math.round((1-l)*f.green+l*t),0),o),r=Math.min(Math.max(Math.round((1-l)*f.blue+l*r),0),o)),{red:e,green:t,blue:r,alpha:l}}(s,h);switch(i.colorType){case n.COLORTYPE_COLOR_ALPHA:case n.COLORTYPE_COLOR:8===i.bitDepth?(c[d]=e.red,c[d+1]=e.green,c[d+2]=e.blue,a&&(c[d+3]=e.alpha)):(c.writeUInt16BE(e.red,d),c.writeUInt16BE(e.green,d+2),c.writeUInt16BE(e.blue,d+4),a&&c.writeUInt16BE(e.alpha,d+6));break;case n.COLORTYPE_ALPHA:case n.COLORTYPE_GRAYSCALE:{let t=(e.red+e.green+e.blue)/3;8===i.bitDepth?(c[d]=t,a&&(c[d+1]=e.alpha)):(c.writeUInt16BE(t,d),a&&c.writeUInt16BE(e.alpha,d+2));break}default:throw Error("unrecognised color Type "+i.colorType)}h+=l,d+=u}return c}},7329:(e,t,r)=>{"use strict";let n=r(3837),i=r(2781),a=e.exports=function(){i.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};n.inherits(a,i),a.prototype.read=function(e,t){this._reads.push({length:Math.abs(e),allowLess:e<0,func:t}),process.nextTick((function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}).bind(this))},a.prototype.write=function(e,t){let r;return this.writable?(Buffer.isBuffer(e)?r=e:r=Buffer.from(e,t||this._encoding),this._buffers.push(r),this._buffered+=r.length,this._process(),this._reads&&0===this._reads.length&&(this._paused=!0),this.writable&&!this._paused):(this.emit("error",Error("Stream not writable")),!1)},a.prototype.end=function(e,t){e&&this.write(e,t),this.writable=!1,this._buffers&&(0===this._buffers.length?this._end():(this._buffers.push(null),this._process()))},a.prototype.destroySoon=a.prototype.end,a.prototype._end=function(){this._reads.length>0&&this.emit("error",Error("Unexpected end of input")),this.destroy()},a.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},a.prototype._processReadAllowingLess=function(e){this._reads.shift();let t=this._buffers[0];t.length>e.length?(this._buffered-=e.length,this._buffers[0]=t.slice(e.length),e.func.call(this,t.slice(0,e.length))):(this._buffered-=t.length,this._buffers.shift(),e.func.call(this,t))},a.prototype._processRead=function(e){this._reads.shift();let t=0,r=0,n=Buffer.alloc(e.length);for(;t<e.length;){let i=this._buffers[r++],a=Math.min(i.length,e.length-t);i.copy(n,t,0,a),t+=a,a!==i.length&&(this._buffers[--r]=i.slice(a))}r>0&&this._buffers.splice(0,r),this._buffered-=e.length,e.func.call(this,n)},a.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let e=this._reads[0];if(e.allowLess)this._processReadAllowingLess(e);else if(this._buffered>=e.length)this._processRead(e);else break}this._buffers&&!this.writable&&this._end()}catch(e){this.emit("error",e)}}},5872:e=>{"use strict";e.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},59:e=>{"use strict";let t=[];!function(){for(let e=0;e<256;e++){let r=e;for(let e=0;e<8;e++)1&r?r=3988292384^r>>>1:r>>>=1;t[e]=r}}();let r=e.exports=function(){this._crc=-1};r.prototype.write=function(e){for(let r=0;r<e.length;r++)this._crc=t[(this._crc^e[r])&255]^this._crc>>>8;return!0},r.prototype.crc32=function(){return -1^this._crc},r.crc32=function(e){let r=-1;for(let n=0;n<e.length;n++)r=t[(r^e[n])&255]^r>>>8;return -1^r}},6665:(e,t,r)=>{"use strict";let n=r(4426),i={0:function(e,t,r,n,i){for(let a=0;a<r;a++)n[i+a]=e[t+a]},1:function(e,t,r,n,i,a){for(let s=0;s<r;s++){let r=s>=a?e[t+s-a]:0,o=e[t+s]-r;n[i+s]=o}},2:function(e,t,r,n,i){for(let a=0;a<r;a++){let s=t>0?e[t+a-r]:0,o=e[t+a]-s;n[i+a]=o}},3:function(e,t,r,n,i,a){for(let s=0;s<r;s++){let o=s>=a?e[t+s-a]:0,l=t>0?e[t+s-r]:0,u=e[t+s]-(o+l>>1);n[i+s]=u}},4:function(e,t,r,i,a,s){for(let o=0;o<r;o++){let l=o>=s?e[t+o-s]:0,u=t>0?e[t+o-r]:0,c=t>0&&o>=s?e[t+o-(r+s)]:0,h=e[t+o]-n(l,u,c);i[a+o]=h}}},a={0:function(e,t,r){let n=0,i=t+r;for(let r=t;r<i;r++)n+=Math.abs(e[r]);return n},1:function(e,t,r,n){let i=0;for(let a=0;a<r;a++){let r=a>=n?e[t+a-n]:0;i+=Math.abs(e[t+a]-r)}return i},2:function(e,t,r){let n=0,i=t+r;for(let a=t;a<i;a++){let i=t>0?e[a-r]:0;n+=Math.abs(e[a]-i)}return n},3:function(e,t,r,n){let i=0;for(let a=0;a<r;a++){let s=a>=n?e[t+a-n]:0,o=t>0?e[t+a-r]:0;i+=Math.abs(e[t+a]-(s+o>>1))}return i},4:function(e,t,r,i){let a=0;for(let s=0;s<r;s++){let o=s>=i?e[t+s-i]:0,l=t>0?e[t+s-r]:0,u=t>0&&s>=i?e[t+s-(r+i)]:0;a+=Math.abs(e[t+s]-n(o,l,u))}return a}};e.exports=function(e,t,r,n,s){let o;if("filterType"in n&&-1!==n.filterType){if("number"==typeof n.filterType)o=[n.filterType];else throw Error("unrecognised filter types")}else o=[0,1,2,3,4];16===n.bitDepth&&(s*=2);let l=t*s,u=0,c=0,h=Buffer.alloc((l+1)*r),d=o[0];for(let t=0;t<r;t++){if(o.length>1){let t=1/0;for(let r=0;r<o.length;r++){let n=a[o[r]](e,c,l,s);n<t&&(d=o[r],t=n)}}h[u]=d,u++,i[d](e,c,l,h,u,s),u+=l,c+=l}return h}},6018:(e,t,r)=>{"use strict";let n=r(3837),i=r(7329),a=r(5383),s=e.exports=function(e){i.call(this);let t=[],r=this;this._filter=new a(e,{read:this.read.bind(this),write:function(e){t.push(e)},complete:function(){r.emit("complete",Buffer.concat(t))}}),this._filter.start()};n.inherits(s,i)},7991:(e,t,r)=>{"use strict";let n=r(2391),i=r(5383);t.process=function(e,t){let r=[],a=new n(e);return new i(t,{read:a.read.bind(a),write:function(e){r.push(e)},complete:function(){}}).start(),a.process(),Buffer.concat(r)}},5383:(e,t,r)=>{"use strict";let n=r(3119),i=r(4426);function a(e,t,r){let n=e*t;return 8!==r&&(n=Math.ceil(n/(8/r))),n}let s=e.exports=function(e,t){let r=e.width,i=e.height,s=e.interlace,o=e.bpp,l=e.depth;if(this.read=t.read,this.write=t.write,this.complete=t.complete,this._imageIndex=0,this._images=[],s){let e=n.getImagePasses(r,i);for(let t=0;t<e.length;t++)this._images.push({byteWidth:a(e[t].width,o,l),height:e[t].height,lineIndex:0})}else this._images.push({byteWidth:a(r,o,l),height:i,lineIndex:0});8===l?this._xComparison=o:16===l?this._xComparison=2*o:this._xComparison=1};s.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},s.prototype._unFilterType1=function(e,t,r){let n=this._xComparison,i=n-1;for(let a=0;a<r;a++){let r=e[1+a],s=a>i?t[a-n]:0;t[a]=r+s}},s.prototype._unFilterType2=function(e,t,r){let n=this._lastLine;for(let i=0;i<r;i++){let r=e[1+i],a=n?n[i]:0;t[i]=r+a}},s.prototype._unFilterType3=function(e,t,r){let n=this._xComparison,i=n-1,a=this._lastLine;for(let s=0;s<r;s++){let r=e[1+s],o=a?a[s]:0,l=Math.floor(((s>i?t[s-n]:0)+o)/2);t[s]=r+l}},s.prototype._unFilterType4=function(e,t,r){let n=this._xComparison,a=n-1,s=this._lastLine;for(let o=0;o<r;o++){let r=e[1+o],l=s?s[o]:0,u=i(o>a?t[o-n]:0,l,o>a&&s?s[o-n]:0);t[o]=r+u}},s.prototype._reverseFilterLine=function(e){let t,r=e[0],n=this._images[this._imageIndex],i=n.byteWidth;if(0===r)t=e.slice(1,i+1);else switch(t=Buffer.alloc(i),r){case 1:this._unFilterType1(e,t,i);break;case 2:this._unFilterType2(e,t,i);break;case 3:this._unFilterType3(e,t,i);break;case 4:this._unFilterType4(e,t,i);break;default:throw Error("Unrecognised filter type - "+r)}this.write(t),n.lineIndex++,n.lineIndex>=n.height?(this._lastLine=null,this._imageIndex++,n=this._images[this._imageIndex]):this._lastLine=t,n?this.read(n.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}},4753:e=>{"use strict";e.exports=function(e,t){let r=t.depth,n=t.width,i=t.height,a=t.colorType,s=t.transColor,o=t.palette,l=e;return 3===a?function(e,t,r,n,i){let a=0;for(let s=0;s<n;s++)for(let n=0;n<r;n++){let r=i[e[a]];if(!r)throw Error("index "+e[a]+" not in palette");for(let e=0;e<4;e++)t[a+e]=r[e];a+=4}}(e,l,n,i,o):(s&&function(e,t,r,n,i){let a=0;for(let s=0;s<n;s++)for(let n=0;n<r;n++){let r=!1;if(1===i.length?i[0]===e[a]&&(r=!0):i[0]===e[a]&&i[1]===e[a+1]&&i[2]===e[a+2]&&(r=!0),r)for(let e=0;e<4;e++)t[a+e]=0;a+=4}}(e,l,n,i,s),8!==r&&(16===r&&(l=Buffer.alloc(n*i*4)),function(e,t,r,n,i){let a=Math.pow(2,i)-1,s=0;for(let i=0;i<n;i++)for(let n=0;n<r;n++){for(let r=0;r<4;r++)t[s+r]=Math.floor(255*e[s+r]/a+.5);s+=4}}(e,l,n,i,r))),l}},3119:(e,t)=>{"use strict";let r=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];t.getImagePasses=function(e,t){let n=[],i=e%8,a=t%8,s=(e-i)/8,o=(t-a)/8;for(let e=0;e<r.length;e++){let t=r[e],l=s*t.x.length,u=o*t.y.length;for(let e=0;e<t.x.length;e++)if(t.x[e]<i)l++;else break;for(let e=0;e<t.y.length;e++)if(t.y[e]<a)u++;else break;l>0&&u>0&&n.push({width:l,height:u,index:e})}return n},t.getInterlaceIterator=function(e){return function(t,n,i){let a=t%r[i].x.length,s=(t-a)/r[i].x.length*8+r[i].x[a],o=n%r[i].y.length;return 4*s+((n-o)/r[i].y.length*8+r[i].y[o])*e*4}}},7028:(e,t,r)=>{"use strict";let n=r(3837),i=r(2781),a=r(5872),s=r(137),o=e.exports=function(e){i.call(this),this._packer=new s(e||{}),this._deflate=this._packer.createDeflate(),this.readable=!0};n.inherits(o,i),o.prototype.pack=function(e,t,r,n){this.emit("data",Buffer.from(a.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(t,r)),n&&this.emit("data",this._packer.packGAMA(n));let i=this._packer.filterData(e,t,r);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",(function(e){this.emit("data",this._packer.packIDAT(e))}).bind(this)),this._deflate.on("end",(function(){this.emit("data",this._packer.packIEND()),this.emit("end")}).bind(this)),this._deflate.end(i)}},7397:(e,t,r)=>{"use strict";let n=!0,i=r(9796);i.deflateSync||(n=!1);let a=r(5872),s=r(137);e.exports=function(e,t){if(!n)throw Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let r=new s(t||{}),o=[];o.push(Buffer.from(a.PNG_SIGNATURE)),o.push(r.packIHDR(e.width,e.height)),e.gamma&&o.push(r.packGAMA(e.gamma));let l=r.filterData(e.data,e.width,e.height),u=i.deflateSync(l,r.getDeflateOptions());if(l=null,!u||!u.length)throw Error("bad png - invalid compressed data response");return o.push(r.packIDAT(u)),o.push(r.packIEND()),Buffer.concat(o)}},137:(e,t,r)=>{"use strict";let n=r(5872),i=r(59),a=r(2194),s=r(6665),o=r(9796),l=e.exports=function(e){if(this._options=e,e.deflateChunkSize=e.deflateChunkSize||32768,e.deflateLevel=null!=e.deflateLevel?e.deflateLevel:9,e.deflateStrategy=null!=e.deflateStrategy?e.deflateStrategy:3,e.inputHasAlpha=null==e.inputHasAlpha||e.inputHasAlpha,e.deflateFactory=e.deflateFactory||o.createDeflate,e.bitDepth=e.bitDepth||8,e.colorType="number"==typeof e.colorType?e.colorType:n.COLORTYPE_COLOR_ALPHA,e.inputColorType="number"==typeof e.inputColorType?e.inputColorType:n.COLORTYPE_COLOR_ALPHA,-1===[n.COLORTYPE_GRAYSCALE,n.COLORTYPE_COLOR,n.COLORTYPE_COLOR_ALPHA,n.COLORTYPE_ALPHA].indexOf(e.colorType))throw Error("option color type:"+e.colorType+" is not supported at present");if(-1===[n.COLORTYPE_GRAYSCALE,n.COLORTYPE_COLOR,n.COLORTYPE_COLOR_ALPHA,n.COLORTYPE_ALPHA].indexOf(e.inputColorType))throw Error("option input color type:"+e.inputColorType+" is not supported at present");if(8!==e.bitDepth&&16!==e.bitDepth)throw Error("option bit depth:"+e.bitDepth+" is not supported at present")};l.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},l.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},l.prototype.filterData=function(e,t,r){let i=a(e,t,r,this._options),o=n.COLORTYPE_TO_BPP_MAP[this._options.colorType];return s(i,t,r,this._options,o)},l.prototype._packChunk=function(e,t){let r=t?t.length:0,n=Buffer.alloc(r+12);return n.writeUInt32BE(r,0),n.writeUInt32BE(e,4),t&&t.copy(n,8),n.writeInt32BE(i.crc32(n.slice(4,n.length-4)),n.length-4),n},l.prototype.packGAMA=function(e){let t=Buffer.alloc(4);return t.writeUInt32BE(Math.floor(e*n.GAMMA_DIVISION),0),this._packChunk(n.TYPE_gAMA,t)},l.prototype.packIHDR=function(e,t){let r=Buffer.alloc(13);return r.writeUInt32BE(e,0),r.writeUInt32BE(t,4),r[8]=this._options.bitDepth,r[9]=this._options.colorType,r[10]=0,r[11]=0,r[12]=0,this._packChunk(n.TYPE_IHDR,r)},l.prototype.packIDAT=function(e){return this._packChunk(n.TYPE_IDAT,e)},l.prototype.packIEND=function(){return this._packChunk(n.TYPE_IEND,null)}},4426:e=>{"use strict";e.exports=function(e,t,r){let n=e+t-r,i=Math.abs(n-e),a=Math.abs(n-t),s=Math.abs(n-r);return i<=a&&i<=s?e:a<=s?t:r}},38:(e,t,r)=>{"use strict";let n=r(3837),i=r(9796),a=r(7329),s=r(6018),o=r(4494),l=r(3179),u=r(4753),c=e.exports=function(e){a.call(this),this._parser=new o(e,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=e,this.writable=!0,this._parser.start()};n.inherits(c,a),c.prototype._handleError=function(e){this.emit("error",e),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},c.prototype._inflateData=function(e){if(!this._inflate){if(this._bitmapInfo.interlace)this._inflate=i.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let e=((this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3)+1)*this._bitmapInfo.height,t=Math.max(e,i.Z_MIN_CHUNK);this._inflate=i.createInflate({chunkSize:t});let r=e,n=this.emit.bind(this,"error");this._inflate.on("error",function(e){r&&n(e)}),this._filter.on("complete",this._complete.bind(this));let a=this._filter.write.bind(this._filter);this._inflate.on("data",function(e){r&&(e.length>r&&(e=e.slice(0,r)),r-=e.length,a(e))}),this._inflate.on("end",this._filter.end.bind(this._filter))}}this._inflate.write(e)},c.prototype._handleMetaData=function(e){this._metaData=e,this._bitmapInfo=Object.create(e),this._filter=new s(this._bitmapInfo)},c.prototype._handleTransColor=function(e){this._bitmapInfo.transColor=e},c.prototype._handlePalette=function(e){this._bitmapInfo.palette=e},c.prototype._simpleTransparency=function(){this._metaData.alpha=!0},c.prototype._headersFinished=function(){this.emit("metadata",this._metaData)},c.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))},c.prototype._complete=function(e){let t;if(!this.errord){try{let r=l.dataToBitMap(e,this._bitmapInfo);t=u(r,this._bitmapInfo),r=null}catch(e){this._handleError(e);return}this.emit("parsed",t)}}},4889:(e,t,r)=>{"use strict";let n=!0,i=r(9796),a=r(8502);i.deflateSync||(n=!1);let s=r(2391),o=r(7991),l=r(4494),u=r(3179),c=r(4753);e.exports=function(e,t){let r,h,d,f;if(!n)throw Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let p=[],m=new s(e);if(new l(t,{read:m.read.bind(m),error:function(e){r=e},metadata:function(e){h=e},gamma:function(e){d=e},palette:function(e){h.palette=e},transColor:function(e){h.transColor=e},inflateData:function(e){p.push(e)},simpleTransparency:function(){h.alpha=!0}}).start(),m.process(),r)throw r;let g=Buffer.concat(p);if(p.length=0,h.interlace)f=i.inflateSync(g);else{let e=((h.width*h.bpp*h.depth+7>>3)+1)*h.height;f=a(g,{chunkSize:e,maxLength:e})}if(g=null,!f||!f.length)throw Error("bad png - invalid inflate data response");let y=o.process(f,h);g=null;let b=u.dataToBitMap(y,h);y=null;let v=c(b,h);return h.data=v,h.gamma=d||0,h}},4494:(e,t,r)=>{"use strict";let n=r(5872),i=r(59),a=e.exports=function(e,t){this._options=e,e.checkCRC=!1!==e.checkCRC,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[n.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[n.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[n.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[n.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[n.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[n.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=t.read,this.error=t.error,this.metadata=t.metadata,this.gamma=t.gamma,this.transColor=t.transColor,this.palette=t.palette,this.parsed=t.parsed,this.inflateData=t.inflateData,this.finished=t.finished,this.simpleTransparency=t.simpleTransparency,this.headersFinished=t.headersFinished||function(){}};a.prototype.start=function(){this.read(n.PNG_SIGNATURE.length,this._parseSignature.bind(this))},a.prototype._parseSignature=function(e){let t=n.PNG_SIGNATURE;for(let r=0;r<t.length;r++)if(e[r]!==t[r]){this.error(Error("Invalid file signature"));return}this.read(8,this._parseChunkBegin.bind(this))},a.prototype._parseChunkBegin=function(e){let t=e.readUInt32BE(0),r=e.readUInt32BE(4),a="";for(let t=4;t<8;t++)a+=String.fromCharCode(e[t]);let s=!!(32&e[4]);if(!this._hasIHDR&&r!==n.TYPE_IHDR){this.error(Error("Expected IHDR on beggining"));return}if(this._crc=new i,this._crc.write(Buffer.from(a)),this._chunks[r])return this._chunks[r](t);if(!s){this.error(Error("Unsupported critical chunk type "+a));return}this.read(t+4,this._skipChunk.bind(this))},a.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},a.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},a.prototype._parseChunkEnd=function(e){let t=e.readInt32BE(0),r=this._crc.crc32();if(this._options.checkCRC&&r!==t){this.error(Error("Crc error - "+t+" - "+r));return}this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},a.prototype._handleIHDR=function(e){this.read(e,this._parseIHDR.bind(this))},a.prototype._parseIHDR=function(e){this._crc.write(e);let t=e.readUInt32BE(0),r=e.readUInt32BE(4),i=e[8],a=e[9],s=e[10],o=e[11],l=e[12];if(8!==i&&4!==i&&2!==i&&1!==i&&16!==i){this.error(Error("Unsupported bit depth "+i));return}if(!(a in n.COLORTYPE_TO_BPP_MAP)){this.error(Error("Unsupported color type"));return}if(0!==s){this.error(Error("Unsupported compression method"));return}if(0!==o){this.error(Error("Unsupported filter method"));return}if(0!==l&&1!==l){this.error(Error("Unsupported interlace method"));return}this._colorType=a;let u=n.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:t,height:r,depth:i,interlace:!!l,palette:!!(a&n.COLORTYPE_PALETTE),color:!!(a&n.COLORTYPE_COLOR),alpha:!!(a&n.COLORTYPE_ALPHA),bpp:u,colorType:a}),this._handleChunkEnd()},a.prototype._handlePLTE=function(e){this.read(e,this._parsePLTE.bind(this))},a.prototype._parsePLTE=function(e){this._crc.write(e);let t=Math.floor(e.length/3);for(let r=0;r<t;r++)this._palette.push([e[3*r],e[3*r+1],e[3*r+2],255]);this.palette(this._palette),this._handleChunkEnd()},a.prototype._handleTRNS=function(e){this.simpleTransparency(),this.read(e,this._parseTRNS.bind(this))},a.prototype._parseTRNS=function(e){if(this._crc.write(e),this._colorType===n.COLORTYPE_PALETTE_COLOR){if(0===this._palette.length){this.error(Error("Transparency chunk must be after palette"));return}if(e.length>this._palette.length){this.error(Error("More transparent colors than palette size"));return}for(let t=0;t<e.length;t++)this._palette[t][3]=e[t];this.palette(this._palette)}this._colorType===n.COLORTYPE_GRAYSCALE&&this.transColor([e.readUInt16BE(0)]),this._colorType===n.COLORTYPE_COLOR&&this.transColor([e.readUInt16BE(0),e.readUInt16BE(2),e.readUInt16BE(4)]),this._handleChunkEnd()},a.prototype._handleGAMA=function(e){this.read(e,this._parseGAMA.bind(this))},a.prototype._parseGAMA=function(e){this._crc.write(e),this.gamma(e.readUInt32BE(0)/n.GAMMA_DIVISION),this._handleChunkEnd()},a.prototype._handleIDAT=function(e){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-e,this._parseIDAT.bind(this,e))},a.prototype._parseIDAT=function(e,t){if(this._crc.write(t),this._colorType===n.COLORTYPE_PALETTE_COLOR&&0===this._palette.length)throw Error("Expected palette not found");this.inflateData(t);let r=e-t.length;r>0?this._handleIDAT(r):this._handleChunkEnd()},a.prototype._handleIEND=function(e){this.read(e,this._parseIEND.bind(this))},a.prototype._parseIEND=function(e){this._crc.write(e),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}},3745:(e,t,r)=>{"use strict";let n=r(4889),i=r(7397);t.read=function(e,t){return n(e,t||{})},t.write=function(e,t){return i(e,t)}},826:(e,t,r)=>{"use strict";let n=r(3837),i=r(2781),a=r(38),s=r(7028),o=r(3745),l=t.y=function(e){i.call(this),e=e||{},this.width=0|e.width,this.height=0|e.height,this.data=this.width>0&&this.height>0?Buffer.alloc(4*this.width*this.height):null,e.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new a(e),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",(function(e){this.data=e,this.emit("parsed",e)}).bind(this)),this._packer=new s(e),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};n.inherits(l,i),l.sync=o,l.prototype.pack=function(){return this.data&&this.data.length?process.nextTick((function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}).bind(this)):this.emit("error","No data provided"),this},l.prototype.parse=function(e,t){if(t){let e,r;e=(function(e){this.removeListener("error",r),this.data=e,t(null,this)}).bind(this),r=(function(r){this.removeListener("parsed",e),t(r,null)}).bind(this),this.once("parsed",e),this.once("error",r)}return this.end(e),this},l.prototype.write=function(e){return this._parser.write(e),!0},l.prototype.end=function(e){this._parser.end(e)},l.prototype._metadata=function(e){this.width=e.width,this.height=e.height,this.emit("metadata",e)},l.prototype._gamma=function(e){this.gamma=e},l.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},l.bitblt=function(e,t,r,n,i,a,s,o){if(n|=0,i|=0,a|=0,s|=0,o|=0,(r|=0)>e.width||n>e.height||r+i>e.width||n+a>e.height)throw Error("bitblt reading outside image");if(s>t.width||o>t.height||s+i>t.width||o+a>t.height)throw Error("bitblt writing outside image");for(let l=0;l<a;l++)e.data.copy(t.data,(o+l)*t.width+s<<2,(n+l)*e.width+r<<2,(n+l)*e.width+r+i<<2)},l.prototype.bitblt=function(e,t,r,n,i,a,s){return l.bitblt(this,e,t,r,n,i,a,s),this},l.adjustGamma=function(e){if(e.gamma){for(let t=0;t<e.height;t++)for(let r=0;r<e.width;r++){let n=e.width*t+r<<2;for(let t=0;t<3;t++){let r=e.data[n+t]/255;r=Math.pow(r,1/2.2/e.gamma),e.data[n+t]=Math.round(255*r)}}e.gamma=0}},l.prototype.adjustGamma=function(){l.adjustGamma(this)}},8502:(e,t,r)=>{"use strict";let n=r(9491).ok,i=r(9796),a=r(3837),s=r(4300).kMaxLength;function o(e){if(!(this instanceof o))return new o(e);e&&e.chunkSize<i.Z_MIN_CHUNK&&(e.chunkSize=i.Z_MIN_CHUNK),i.Inflate.call(this,e),this._offset=void 0===this._offset?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,e&&null!=e.maxLength&&(this._maxLength=e.maxLength)}function l(e,t){t&&process.nextTick(t),e._handle&&(e._handle.close(),e._handle=null)}function u(e,t){return function(e,t){if("string"==typeof t&&(t=Buffer.from(t)),!(t instanceof Buffer))throw TypeError("Not a string or buffer");let r=e._finishFlushFlag;return null==r&&(r=i.Z_FINISH),e._processChunk(t,r)}(new o(t),e)}o.prototype._processChunk=function(e,t,r){let a,o;if("function"==typeof r)return i.Inflate._processChunk.call(this,e,t,r);let u=this,c=e&&e.length,h=this._chunkSize-this._offset,d=this._maxLength,f=0,p=[],m=0;this.on("error",function(e){a=e}),n(this._handle,"zlib binding closed");do o=(o=this._handle.writeSync(t,e,f,c,this._buffer,this._offset,h))||this._writeState;while(!this._hadError&&function(e,t){if(u._hadError)return;let r=h-t;if(n(r>=0,"have should not go down"),r>0){let e=u._buffer.slice(u._offset,u._offset+r);if(u._offset+=r,e.length>d&&(e=e.slice(0,d)),p.push(e),m+=e.length,0==(d-=e.length))return!1}return(0===t||u._offset>=u._chunkSize)&&(h=u._chunkSize,u._offset=0,u._buffer=Buffer.allocUnsafe(u._chunkSize)),0===t&&(f+=c-e,c=e,!0)}(o[0],o[1]));if(this._hadError)throw a;if(m>=s)throw l(this),RangeError("Cannot create final Buffer. It would be larger than 0x"+s.toString(16)+" bytes");let g=Buffer.concat(p,m);return l(this),g},a.inherits(o,i.Inflate),e.exports=t=u,t.Inflate=o,t.createInflate=function(e){return new o(e)},t.inflateSync=u},2391:e=>{"use strict";let t=e.exports=function(e){this._buffer=e,this._reads=[]};t.prototype.read=function(e,t){this._reads.push({length:Math.abs(e),allowLess:e<0,func:t})},t.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let e=this._reads[0];if(this._buffer.length&&(this._buffer.length>=e.length||e.allowLess)){this._reads.shift();let t=this._buffer;this._buffer=t.slice(e.length),e.func.call(this,t.slice(0,e.length))}else break}return this._reads.length>0?Error("There are some read requests waitng on finished stream"):this._buffer.length>0?Error("unrecognised content at end of stream"):void 0}},6978:(e,t,r)=>{let n=r(3341),i=r(550),a=r(9992),s=r(2346);function o(e,t,r,a,s){let o=[].slice.call(arguments,1),l=o.length,u="function"==typeof o[l-1];if(!u&&!n())throw Error("Callback required as last argument");if(u){if(l<2)throw Error("Too few arguments provided");2===l?(s=r,r=t,t=a=void 0):3===l&&(t.getContext&&void 0===s?(s=a,a=void 0):(s=a,a=r,r=t,t=void 0))}else{if(l<1)throw Error("Too few arguments provided");return 1===l?(r=t,t=a=void 0):2!==l||t.getContext||(a=r,r=t,t=void 0),new Promise(function(n,s){try{let s=i.create(r,a);n(e(s,t,a))}catch(e){s(e)}})}try{let n=i.create(r,a);s(null,e(n,t,a))}catch(e){s(e)}}i.create,t.toCanvas=o.bind(null,a.render),o.bind(null,a.renderToDataURL),o.bind(null,function(e,t,r){return s.render(e,r)})},3341:e=>{e.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},5532:(e,t,r)=>{let n=r(5095).getSymbolSize;t.getRowColCoords=function(e){if(1===e)return[];let t=Math.floor(e/7)+2,r=n(e),i=145===r?26:2*Math.ceil((r-13)/(2*t-2)),a=[r-7];for(let e=1;e<t-1;e++)a[e]=a[e-1]-i;return a.push(6),a.reverse()},t.getPositions=function(e){let r=[],n=t.getRowColCoords(e),i=n.length;for(let e=0;e<i;e++)for(let t=0;t<i;t++)(0!==e||0!==t)&&(0!==e||t!==i-1)&&(e!==i-1||0!==t)&&r.push([n[e],n[t]]);return r}},5809:(e,t,r)=>{let n=r(7147),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function a(e){this.mode=n.ALPHANUMERIC,this.data=e}a.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let r=45*i.indexOf(this.data[t]);r+=i.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(i.indexOf(this.data[t]),6)},e.exports=a},6713:e=>{function t(){this.buffer=[],this.length=0}t.prototype={get:function(e){return(this.buffer[Math.floor(e/8)]>>>7-e%8&1)==1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){let t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},1432:e=>{function t(e){if(!e||e<1)throw Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}t.prototype.set=function(e,t,r,n){let i=e*this.size+t;this.data[i]=r,n&&(this.reservedBit[i]=!0)},t.prototype.get=function(e,t){return this.data[e*this.size+t]},t.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},t.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=t},7550:(e,t,r)=>{let n=r(7147);function i(e){this.mode=n.BYTE,"string"==typeof e?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}i.getBitsLength=function(e){return 8*e},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)},e.exports=i},9861:(e,t,r)=>{let n=r(2311),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],a=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case n.L:return i[(e-1)*4+0];case n.M:return i[(e-1)*4+1];case n.Q:return i[(e-1)*4+2];case n.H:return i[(e-1)*4+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case n.L:return a[(e-1)*4+0];case n.M:return a[(e-1)*4+1];case n.Q:return a[(e-1)*4+2];case n.H:return a[(e-1)*4+3];default:return}}},2311:(e,t)=>{t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},t.from=function(e,r){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw Error("Unknown EC Level: "+e)}}(e)}catch(e){return r}}},7518:(e,t,r)=>{let n=r(5095).getSymbolSize;t.getPositions=function(e){let t=n(e);return[[0,0],[t-7,0],[0,t-7]]}},5505:(e,t,r)=>{let n=r(5095),i=n.getBCHDigit(1335);t.getEncodedBits=function(e,t){let r=e.bit<<3|t,a=r<<10;for(;n.getBCHDigit(a)-i>=0;)a^=1335<<n.getBCHDigit(a)-i;return(r<<10|a)^21522}},4581:(e,t)=>{let r=new Uint8Array(512),n=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)r[t]=e,n[e]=t,256&(e<<=1)&&(e^=285);for(let e=255;e<512;e++)r[e]=r[e-255]})(),t.log=function(e){if(e<1)throw Error("log("+e+")");return n[e]},t.exp=function(e){return r[e]},t.mul=function(e,t){return 0===e||0===t?0:r[n[e]+n[t]]}},8581:(e,t,r)=>{let n=r(7147),i=r(5095);function a(e){this.mode=n.KANJI,this.data=e}a.getBitsLength=function(e){return 13*e},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=i.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");r=(r>>>8&255)*192+(255&r),e.put(r,13)}},e.exports=a},2494:(e,t)=>{t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};let r={N1:3,N2:3,N3:40,N4:10};t.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(e){let t=e.size,n=0,i=0,a=0,s=null,o=null;for(let l=0;l<t;l++){i=a=0,s=o=null;for(let u=0;u<t;u++){let t=e.get(l,u);t===s?i++:(i>=5&&(n+=r.N1+(i-5)),s=t,i=1),(t=e.get(u,l))===o?a++:(a>=5&&(n+=r.N1+(a-5)),o=t,a=1)}i>=5&&(n+=r.N1+(i-5)),a>=5&&(n+=r.N1+(a-5))}return n},t.getPenaltyN2=function(e){let t=e.size,n=0;for(let r=0;r<t-1;r++)for(let i=0;i<t-1;i++){let t=e.get(r,i)+e.get(r,i+1)+e.get(r+1,i)+e.get(r+1,i+1);(4===t||0===t)&&n++}return n*r.N2},t.getPenaltyN3=function(e){let t=e.size,n=0,i=0,a=0;for(let r=0;r<t;r++){i=a=0;for(let s=0;s<t;s++)i=i<<1&2047|e.get(r,s),s>=10&&(1488===i||93===i)&&n++,a=a<<1&2047|e.get(s,r),s>=10&&(1488===a||93===a)&&n++}return n*r.N3},t.getPenaltyN4=function(e){let t=0,n=e.data.length;for(let r=0;r<n;r++)t+=e.data[r];return Math.abs(Math.ceil(100*t/n/5)-10)*r.N4},t.applyMask=function(e,r){let n=r.size;for(let i=0;i<n;i++)for(let a=0;a<n;a++)r.isReserved(a,i)||r.xor(a,i,function(e,r,n){switch(e){case t.Patterns.PATTERN000:return(r+n)%2==0;case t.Patterns.PATTERN001:return r%2==0;case t.Patterns.PATTERN010:return n%3==0;case t.Patterns.PATTERN011:return(r+n)%3==0;case t.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(n/3))%2==0;case t.Patterns.PATTERN101:return r*n%2+r*n%3==0;case t.Patterns.PATTERN110:return(r*n%2+r*n%3)%2==0;case t.Patterns.PATTERN111:return(r*n%3+(r+n)%2)%2==0;default:throw Error("bad maskPattern:"+e)}}(e,a,i))},t.getBestMask=function(e,r){let n=Object.keys(t.Patterns).length,i=0,a=1/0;for(let s=0;s<n;s++){r(s),t.applyMask(s,e);let n=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(s,e),n<a&&(a=n,i=s)}return i}},7147:(e,t,r)=>{let n=r(9241),i=r(5185);t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw Error("Invalid mode: "+e);if(!n.isValid(t))throw Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return i.testNumeric(e)?t.NUMERIC:i.testAlphanumeric(e)?t.ALPHANUMERIC:i.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(e,r){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw Error("Unknown mode: "+e)}}(e)}catch(e){return r}}},2229:(e,t,r)=>{let n=r(7147);function i(e){this.mode=n.NUMERIC,this.data=e.toString()}i.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){let t,r;for(t=0;t+3<=this.data.length;t+=3)r=parseInt(this.data.substr(t,3),10),e.put(r,10);let n=this.data.length-t;n>0&&(r=parseInt(this.data.substr(t),10),e.put(r,3*n+1))},e.exports=i},5853:(e,t,r)=>{let n=r(4581);t.mul=function(e,t){let r=new Uint8Array(e.length+t.length-1);for(let i=0;i<e.length;i++)for(let a=0;a<t.length;a++)r[i+a]^=n.mul(e[i],t[a]);return r},t.mod=function(e,t){let r=new Uint8Array(e);for(;r.length-t.length>=0;){let e=r[0];for(let i=0;i<t.length;i++)r[i]^=n.mul(t[i],e);let i=0;for(;i<r.length&&0===r[i];)i++;r=r.slice(i)}return r},t.generateECPolynomial=function(e){let r=new Uint8Array([1]);for(let i=0;i<e;i++)r=t.mul(r,new Uint8Array([1,n.exp(i)]));return r}},550:(e,t,r)=>{let n=r(5095),i=r(2311),a=r(6713),s=r(1432),o=r(5532),l=r(7518),u=r(2494),c=r(9861),h=r(119),d=r(7062),f=r(5505),p=r(7147),m=r(5102);function g(e,t,r){let n,i;let a=e.size,s=f.getEncodedBits(t,r);for(n=0;n<15;n++)i=(s>>n&1)==1,n<6?e.set(n,8,i,!0):n<8?e.set(n+1,8,i,!0):e.set(a-15+n,8,i,!0),n<8?e.set(8,a-n-1,i,!0):n<9?e.set(8,15-n-1+1,i,!0):e.set(8,15-n-1,i,!0);e.set(a-8,8,1,!0)}t.create=function(e,t){let r,f;if(void 0===e||""===e)throw Error("No input text");let y=i.M;return void 0!==t&&(y=i.from(t.errorCorrectionLevel,i.M),r=d.from(t.version),f=u.from(t.maskPattern),t.toSJISFunc&&n.setToSJISFunction(t.toSJISFunc)),function(e,t,r,i){let f;if(Array.isArray(e))f=m.fromArray(e);else if("string"==typeof e){let n=t;if(!n){let t=m.rawSplit(e);n=d.getBestVersionForData(t,r)}f=m.fromString(e,n||40)}else throw Error("Invalid data");let y=d.getBestVersionForData(f,r);if(!y)throw Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<y)throw Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+y+".\n")}else t=y;let b=function(e,t,r){let i=new a;r.forEach(function(t){i.put(t.mode.bit,4),i.put(t.getLength(),p.getCharCountIndicator(t.mode,e)),t.write(i)});let s=(n.getSymbolTotalCodewords(e)-c.getTotalCodewordsCount(e,t))*8;for(i.getLengthInBits()+4<=s&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(0);let o=(s-i.getLengthInBits())/8;for(let e=0;e<o;e++)i.put(e%2?17:236,8);return function(e,t,r){let i,a;let s=n.getSymbolTotalCodewords(t),o=s-c.getTotalCodewordsCount(t,r),l=c.getBlocksCount(t,r),u=s%l,d=l-u,f=Math.floor(s/l),p=Math.floor(o/l),m=p+1,g=f-p,y=new h(g),b=0,v=Array(l),w=Array(l),_=0,E=new Uint8Array(e.buffer);for(let e=0;e<l;e++){let t=e<d?p:m;v[e]=E.slice(b,b+t),w[e]=y.encode(v[e]),b+=t,_=Math.max(_,t)}let T=new Uint8Array(s),x=0;for(i=0;i<_;i++)for(a=0;a<l;a++)i<v[a].length&&(T[x++]=v[a][i]);for(i=0;i<g;i++)for(a=0;a<l;a++)T[x++]=w[a][i];return T}(i,e,t)}(t,r,f),v=new s(n.getSymbolSize(t));return function(e,t){let r=e.size,n=l.getPositions(t);for(let t=0;t<n.length;t++){let i=n[t][0],a=n[t][1];for(let t=-1;t<=7;t++)if(!(i+t<=-1)&&!(r<=i+t))for(let n=-1;n<=7;n++)a+n<=-1||r<=a+n||(t>=0&&t<=6&&(0===n||6===n)||n>=0&&n<=6&&(0===t||6===t)||t>=2&&t<=4&&n>=2&&n<=4?e.set(i+t,a+n,!0,!0):e.set(i+t,a+n,!1,!0))}}(v,t),function(e){let t=e.size;for(let r=8;r<t-8;r++){let t=r%2==0;e.set(r,6,t,!0),e.set(6,r,t,!0)}}(v),function(e,t){let r=o.getPositions(t);for(let t=0;t<r.length;t++){let n=r[t][0],i=r[t][1];for(let t=-2;t<=2;t++)for(let r=-2;r<=2;r++)-2===t||2===t||-2===r||2===r||0===t&&0===r?e.set(n+t,i+r,!0,!0):e.set(n+t,i+r,!1,!0)}}(v,t),g(v,r,0),t>=7&&function(e,t){let r,n,i;let a=e.size,s=d.getEncodedBits(t);for(let t=0;t<18;t++)r=Math.floor(t/3),n=t%3+a-8-3,i=(s>>t&1)==1,e.set(r,n,i,!0),e.set(n,r,i,!0)}(v,t),function(e,t){let r=e.size,n=-1,i=r-1,a=7,s=0;for(let o=r-1;o>0;o-=2)for(6===o&&o--;;){for(let r=0;r<2;r++)if(!e.isReserved(i,o-r)){let n=!1;s<t.length&&(n=(t[s]>>>a&1)==1),e.set(i,o-r,n),-1==--a&&(s++,a=7)}if((i+=n)<0||r<=i){i-=n,n=-n;break}}}(v,b),isNaN(i)&&(i=u.getBestMask(v,g.bind(null,v,r))),u.applyMask(i,v),g(v,r,i),{modules:v,version:t,errorCorrectionLevel:r,maskPattern:i,segments:f}}(e,r,y,f)}},119:(e,t,r)=>{let n=r(5853);function i(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}i.prototype.initialize=function(e){this.degree=e,this.genPoly=n.generateECPolynomial(this.degree)},i.prototype.encode=function(e){if(!this.genPoly)throw Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let r=n.mod(t,this.genPoly),i=this.degree-r.length;if(i>0){let e=new Uint8Array(this.degree);return e.set(r,i),e}return r},e.exports=i},5185:(e,t)=>{let r="[0-9]+",n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",i="(?:(?![A-Z0-9 $%*+\\-./:]|"+(n=n.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";t.KANJI=RegExp(n,"g"),t.BYTE_KANJI=RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=RegExp(i,"g"),t.NUMERIC=RegExp(r,"g"),t.ALPHANUMERIC=RegExp("[A-Z $%*+\\-./:]+","g");let a=RegExp("^"+n+"$"),s=RegExp("^"+r+"$"),o=RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return a.test(e)},t.testNumeric=function(e){return s.test(e)},t.testAlphanumeric=function(e){return o.test(e)}},5102:(e,t,r)=>{let n=r(7147),i=r(2229),a=r(5809),s=r(7550),o=r(8581),l=r(5185),u=r(5095),c=r(7374);function h(e){return unescape(encodeURIComponent(e)).length}function d(e,t,r){let n;let i=[];for(;null!==(n=e.exec(r));)i.push({data:n[0],index:n.index,mode:t,length:n[0].length});return i}function f(e){let t,r;let i=d(l.NUMERIC,n.NUMERIC,e),a=d(l.ALPHANUMERIC,n.ALPHANUMERIC,e);return u.isKanjiModeEnabled()?(t=d(l.BYTE,n.BYTE,e),r=d(l.KANJI,n.KANJI,e)):(t=d(l.BYTE_KANJI,n.BYTE,e),r=[]),i.concat(a,t,r).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function p(e,t){switch(t){case n.NUMERIC:return i.getBitsLength(e);case n.ALPHANUMERIC:return a.getBitsLength(e);case n.KANJI:return o.getBitsLength(e);case n.BYTE:return s.getBitsLength(e)}}function m(e,t){let r;let l=n.getBestModeForData(e);if((r=n.from(t,l))!==n.BYTE&&r.bit<l.bit)throw Error('"'+e+'" cannot be encoded with mode '+n.toString(r)+".\n Suggested mode is: "+n.toString(l));switch(r!==n.KANJI||u.isKanjiModeEnabled()||(r=n.BYTE),r){case n.NUMERIC:return new i(e);case n.ALPHANUMERIC:return new a(e);case n.KANJI:return new o(e);case n.BYTE:return new s(e)}}t.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(m(t,null)):t.data&&e.push(m(t.data,t.mode)),e},[])},t.fromString=function(e,r){let i=function(e,t){let r={},i={start:{}},a=["start"];for(let s=0;s<e.length;s++){let o=e[s],l=[];for(let e=0;e<o.length;e++){let u=o[e],c=""+s+e;l.push(c),r[c]={node:u,lastCount:0},i[c]={};for(let e=0;e<a.length;e++){let s=a[e];r[s]&&r[s].node.mode===u.mode?(i[s][c]=p(r[s].lastCount+u.length,u.mode)-p(r[s].lastCount,u.mode),r[s].lastCount+=u.length):(r[s]&&(r[s].lastCount=u.length),i[s][c]=p(u.length,u.mode)+4+n.getCharCountIndicator(u.mode,t))}}a=l}for(let e=0;e<a.length;e++)i[a[e]].end=0;return{map:i,table:r}}(function(e){let t=[];for(let r=0;r<e.length;r++){let i=e[r];switch(i.mode){case n.NUMERIC:t.push([i,{data:i.data,mode:n.ALPHANUMERIC,length:i.length},{data:i.data,mode:n.BYTE,length:i.length}]);break;case n.ALPHANUMERIC:t.push([i,{data:i.data,mode:n.BYTE,length:i.length}]);break;case n.KANJI:t.push([i,{data:i.data,mode:n.BYTE,length:h(i.data)}]);break;case n.BYTE:t.push([{data:i.data,mode:n.BYTE,length:h(i.data)}])}}return t}(f(e,u.isKanjiModeEnabled())),r),a=c.find_path(i.map,"start","end"),s=[];for(let e=1;e<a.length-1;e++)s.push(i.table[a[e]].node);return t.fromArray(s.reduce(function(e,t){let r=e.length-1>=0?e[e.length-1]:null;return r&&r.mode===t.mode?e[e.length-1].data+=t.data:e.push(t),e},[]))},t.rawSplit=function(e){return t.fromArray(f(e,u.isKanjiModeEnabled()))}},5095:(e,t)=>{let r;let n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw Error('"version" cannot be null or undefined');if(e<1||e>40)throw Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return n[e]},t.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!=typeof e)throw Error('"toSJISFunc" is not a valid function.');r=e},t.isKanjiModeEnabled=function(){return void 0!==r},t.toSJIS=function(e){return r(e)}},9241:(e,t)=>{t.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},7062:(e,t,r)=>{let n=r(5095),i=r(9861),a=r(2311),s=r(7147),o=r(9241),l=n.getBCHDigit(7973);function u(e,t){return s.getCharCountIndicator(e,t)+4}t.from=function(e,t){return o.isValid(e)?parseInt(e,10):t},t.getCapacity=function(e,t,r){if(!o.isValid(e))throw Error("Invalid QR Code version");void 0===r&&(r=s.BYTE);let a=(n.getSymbolTotalCodewords(e)-i.getTotalCodewordsCount(e,t))*8;if(r===s.MIXED)return a;let l=a-u(r,e);switch(r){case s.NUMERIC:return Math.floor(l/10*3);case s.ALPHANUMERIC:return Math.floor(l/11*2);case s.KANJI:return Math.floor(l/13);case s.BYTE:default:return Math.floor(l/8)}},t.getBestVersionForData=function(e,r){let n;let i=a.from(r,a.M);if(Array.isArray(e)){if(e.length>1)return function(e,r){for(let n=1;n<=40;n++)if(function(e,t){let r=0;return e.forEach(function(e){let n=u(e.mode,t);r+=n+e.getBitsLength()}),r}(e,n)<=t.getCapacity(n,r,s.MIXED))return n}(e,i);if(0===e.length)return 1;n=e[0]}else n=e;return function(e,r,n){for(let i=1;i<=40;i++)if(r<=t.getCapacity(i,n,e))return i}(n.mode,n.getLength(),i)},t.getEncodedBits=function(e){if(!o.isValid(e)||e<7)throw Error("Invalid QR Code version");let t=e<<12;for(;n.getBCHDigit(t)-l>=0;)t^=7973<<n.getBCHDigit(t)-l;return e<<12|t}},8362:(e,t,r)=>{"use strict";e.exports=r(9870)},9992:(e,t,r)=>{let n=r(1232);t.render=function(e,t,r){var i;let a=r,s=t;void 0!==a||t&&t.getContext||(a=t,t=void 0),t||(s=function(){try{return document.createElement("canvas")}catch(e){throw Error("You need to specify a canvas element")}}()),a=n.getOptions(a);let o=n.getImageWidth(e.modules.size,a),l=s.getContext("2d"),u=l.createImageData(o,o);return n.qrToImageData(u.data,e,a),i=s,l.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px",l.putImageData(u,0,0),s},t.renderToDataURL=function(e,r,n){let i=n;void 0!==i||r&&r.getContext||(i=r,r=void 0),i||(i={});let a=t.render(e,r,i),s=i.type||"image/png",o=i.rendererOpts||{};return a.toDataURL(s,o.quality)}},9050:(e,t,r)=>{let n=r(358),i=r(826).y,a=r(1232);t.render=function(e,t){let r=a.getOptions(t),n=r.rendererOpts,s=a.getImageWidth(e.modules.size,r);n.width=s,n.height=s;let o=new i(n);return a.qrToImageData(o.data,e,r),o},t.renderToDataURL=function(e,r,n){void 0===n&&(n=r,r=void 0),t.renderToBuffer(e,r,function(e,t){e&&n(e);let r="data:image/png;base64,";r+=t.toString("base64"),n(null,r)})},t.renderToBuffer=function(e,r,n){void 0===n&&(n=r,r=void 0);let i=t.render(e,r),a=[];i.on("error",n),i.on("data",function(e){a.push(e)}),i.on("end",function(){n(null,Buffer.concat(a))}),i.pack()},t.renderToFile=function(e,r,i,a){void 0===a&&(a=i,i=void 0);let s=!1,o=(...e)=>{s||(s=!0,a.apply(null,e))},l=n.createWriteStream(e);l.on("error",o),l.on("close",o),t.renderToFileStream(l,r,i)},t.renderToFileStream=function(e,r,n){t.render(r,n).pack().pipe(e)}},2346:(e,t,r)=>{let n=r(1232);function i(e,t){let r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function a(e,t,r){let n=e+t;return void 0!==r&&(n+=" "+r),n}t.render=function(e,t,r){let s=n.getOptions(t),o=e.modules.size,l=e.modules.data,u=o+2*s.margin,c=s.color.light.a?"<path "+i(s.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",h="<path "+i(s.color.dark,"stroke")+' d="'+function(e,t,r){let n="",i=0,s=!1,o=0;for(let l=0;l<e.length;l++){let u=Math.floor(l%t),c=Math.floor(l/t);u||s||(s=!0),e[l]?(o++,l>0&&u>0&&e[l-1]||(n+=s?a("M",u+r,.5+c+r):a("m",i,0),i=0,s=!1),u+1<t&&e[l+1]||(n+=a("h",o),o=0)):i++}return n}(l,o,s.margin)+'"/>',d='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+('viewBox="0 0 '+u)+" "+u+'" shape-rendering="crispEdges">'+c+h+"</svg>\n";return"function"==typeof r&&r(null,d),d}},1507:(e,t,r)=>{let n=r(2346);t.render=n.render,t.renderToFile=function(e,n,i,a){void 0===a&&(a=i,i=void 0);let s=r(358),o=t.render(n,i);s.writeFile(e,'<?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'+o,a)}},1788:(e,t,r)=>{let n=r(1456),i=r(1019);t.render=function(e,t,r){return t&&t.small?i.render(e,t,r):n.render(e,t,r)}},1019:(e,t)=>{let r="\x1b[37m",n="\x1b[30m",i="\x1b[0m",a="\x1b[47m"+n,s="\x1b[40m"+r,o=function(e,t,r,n){let i=t+1;return r>=i||n>=i||n<-1||r<-1?"0":r>=t||n>=t||n<0||r<0?"1":e[n*t+r]?"2":"1"},l=function(e,t,r,n){return o(e,t,r,n)+o(e,t,r,n+1)};t.render=function(e,t,o){var u,c;let h=e.modules.size,d=e.modules.data,f=!!(t&&t.inverse),p=t&&t.inverse?s:a,m={"00":i+" "+p,"01":i+(u=f?n:r)+""+p,"02":i+(c=f?r:n)+""+p,10:i+u+""+p,11:" ",12:"",20:i+c+""+p,21:"",22:""},g=i+"\n"+p,y=p;for(let e=-1;e<h+1;e+=2){for(let t=-1;t<h;t++)y+=m[l(d,h,t,e)];y+=m[l(d,h,h,e)]+g}return y+=i,"function"==typeof o&&o(null,y),y}},1456:(e,t)=>{t.render=function(e,t,r){let n=e.modules.size,i=e.modules.data,a="\x1b[47m  \x1b[0m",s="",o=Array(n+3).join(a),l=[,,].join(a);s+=o+"\n";for(let e=0;e<n;++e){s+=a;for(let t=0;t<n;t++)s+=i[e*n+t]?"\x1b[40m  \x1b[0m":a;s+=l+"\n"}return s+=o+"\n","function"==typeof r&&r(null,s),s}},7657:(e,t,r)=>{let n=r(1232),i={WW:" ",WB:"",BB:"",BW:""},a={BB:" ",BW:"",WW:"",WB:""};t.render=function(e,t,r){let s=n.getOptions(t),o=i;("#ffffff"===s.color.dark.hex||"#000000"===s.color.light.hex)&&(o=a);let l=e.modules.size,u=e.modules.data,c="",h=Array(l+2*s.margin+1).join(o.WW);h=Array(s.margin/2+1).join(h+"\n");let d=Array(s.margin+1).join(o.WW);c+=h;for(let e=0;e<l;e+=2){c+=d;for(let t=0;t<l;t++){var f;let r=u[e*l+t],n=u[(e+1)*l+t];c+=(f=o,r&&n?f.BB:r&&!n?f.BW:!r&&n?f.WB:f.WW)}c+=d+"\n"}return c+=h.slice(0,-1),"function"==typeof r&&r(null,c),c},t.renderToFile=function(e,n,i,a){void 0===a&&(a=i,i=void 0);let s=r(358),o=t.render(n,i);s.writeFile(e,o,a)}},1232:(e,t)=>{function r(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw Error("Invalid hex color: "+e);(3===t.length||4===t.length)&&(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");let r=parseInt(t.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:255&r,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:n,scale:n?4:i,margin:t,color:{dark:r(e.color.dark||"#000000ff"),light:r(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},t.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},t.getImageWidth=function(e,r){let n=t.getScale(e,r);return Math.floor((e+2*r.margin)*n)},t.qrToImageData=function(e,r,n){let i=r.modules.size,a=r.modules.data,s=t.getScale(i,n),o=Math.floor((i+2*n.margin)*s),l=n.margin*s,u=[n.color.light,n.color.dark];for(let t=0;t<o;t++)for(let r=0;r<o;r++){let c=(t*o+r)*4,h=n.color.light;t>=l&&r>=l&&t<o-l&&r<o-l&&(h=u[a[Math.floor((t-l)/s)*i+Math.floor((r-l)/s)]?1:0]),e[c++]=h.r,e[c++]=h.g,e[c++]=h.b,e[c]=h.a}}},9870:(e,t,r)=>{let n=r(3341),i=r(550),a=r(9050),s=r(7657),o=r(1788),l=r(1507);function u(e,t,r){if(void 0===e)throw Error("String required as first argument");if(void 0===r&&(r=t,t={}),"function"!=typeof r){if(n())t=r||{},r=null;else throw Error("Callback required as last argument")}return{opts:t,cb:r}}function c(e){switch(e){case"svg":return l;case"txt":case"utf8":return s;default:return a}}function h(e,t,r){if(!r.cb)return new Promise(function(n,a){try{let s=i.create(t,r.opts);return e(s,r.opts,function(e,t){return e?a(e):n(t)})}catch(e){a(e)}});try{let n=i.create(t,r.opts);return e(n,r.opts,r.cb)}catch(e){r.cb(e)}}t.create=i.create,t.toCanvas=r(6978).toCanvas,t.toString=function(e,t,r){let n=u(e,t,r);return h(function(e){switch(e){case"svg":return l;case"terminal":return o;default:return s}}(n.opts?n.opts.type:void 0).render,e,n)},t.toDataURL=function(e,t,r){let n=u(e,t,r);return h(c(n.opts.type).renderToDataURL,e,n)},t.toBuffer=function(e,t,r){let n=u(e,t,r);return h(c(n.opts.type).renderToBuffer,e,n)},t.toFile=function(e,t,r,i){if("string"!=typeof e||!("string"==typeof t||"object"==typeof t))throw Error("Invalid argument");if(arguments.length<3&&!n())throw Error("Too few arguments provided");let a=u(t,r,i);return h(c(a.opts.type||e.slice((e.lastIndexOf(".")-1>>>0)+2).toLowerCase()).renderToFile.bind(null,e),t,a)},t.toFileStream=function(e,t,r){if(arguments.length<2)throw Error("Too few arguments provided");let n=u(t,r,e.emit.bind(e,"error"));h(c("png").renderToFileStream.bind(null,e),t,n)}},342:(e,t,r)=>{function n(e){this.options=e||{locator:{}}}function i(){this.cdata=!1}function a(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function s(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function o(e,t,r){return"string"==typeof e?e.substr(t,r):e.length>=t+r||t?new java.lang.String(e,t,r)+"":e}function l(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}n.prototype.parseFromString=function(e,t){var r=this.options,n=new u,a=r.domBuilder||new i,o=r.errorHandler,l=r.locator,c=r.xmlns||{},h={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return l&&a.setDocumentLocator(l),n.errorHandler=function(e,t,r){if(!e){if(t instanceof i)return t;e=t}var n={},a=e instanceof Function;function o(t){var i=e[t];!i&&a&&(i=2==e.length?function(r){e(t,r)}:e),n[t]=i&&function(e){i("[xmldom "+t+"]	"+e+s(r))}||function(){}}return r=r||{},o("warning"),o("error"),o("fatalError"),n}(o,a,l),n.domBuilder=r.domBuilder||a,/\/x?html?$/.test(t)&&(h.nbsp="\xa0",h.copy="\xa9",c[""]="http://www.w3.org/1999/xhtml"),c.xml=c.xml||"http://www.w3.org/XML/1998/namespace",e?n.parse(e,c,h):n.errorHandler.error("invalid doc source"),a.doc},i.prototype={startDocument:function(){this.doc=new c().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,r,n){var i=this.doc,s=i.createElementNS(e,r||t),o=n.length;l(this,s),this.currentElement=s,this.locator&&a(this.locator,s);for(var u=0;u<o;u++){var e=n.getURI(u),c=n.getValue(u),r=n.getQName(u),h=i.createAttributeNS(e,r);this.locator&&a(n.getLocator(u),h),h.value=h.nodeValue=c,s.setAttributeNode(h)}},endElement:function(e,t,r){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var r=this.doc.createProcessingInstruction(e,t);this.locator&&a(this.locator,r),l(this,r)},ignorableWhitespace:function(e,t,r){},characters:function(e,t,r){if(e=o.apply(this,arguments)){if(this.cdata)var n=this.doc.createCDATASection(e);else var n=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&&this.doc.appendChild(n),this.locator&&a(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,r){e=o.apply(this,arguments);var n=this.doc.createComment(e);this.locator&&a(this.locator,n),l(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(e,t,r);this.locator&&a(this.locator,i),l(this,i)}},warning:function(e){console.warn("[xmldom warning]	"+e,s(this.locator))},error:function(e){console.error("[xmldom error]	"+e,s(this.locator))},fatalError:function(e){throw console.error("[xmldom fatalError]	"+e,s(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){i.prototype[e]=function(){return null}});var u=r(2741).G,c=r(1611).DOMImplementation;r(1611),t.a=n},1611:(e,t)=>{function r(e,t){for(var r in e)t[r]=e[r]}function n(e,t){var n=e.prototype;if(Object.create){var i=Object.create(t.prototype);n.__proto__=i}if(!(n instanceof t)){function a(){}a.prototype=t.prototype,r(n,a=new a),e.prototype=n=a}n.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),n.constructor=e)}var i={},a=i.ELEMENT_NODE=1,s=i.ATTRIBUTE_NODE=2,o=i.TEXT_NODE=3,l=i.CDATA_SECTION_NODE=4,u=i.ENTITY_REFERENCE_NODE=5,c=i.ENTITY_NODE=6,h=i.PROCESSING_INSTRUCTION_NODE=7,d=i.COMMENT_NODE=8,f=i.DOCUMENT_NODE=9,p=i.DOCUMENT_TYPE_NODE=10,m=i.DOCUMENT_FRAGMENT_NODE=11,g=i.NOTATION_NODE=12,y={},b={};y.INDEX_SIZE_ERR=(b[1]="Index size error",1),y.DOMSTRING_SIZE_ERR=(b[2]="DOMString size error",2);var v=y.HIERARCHY_REQUEST_ERR=(b[3]="Hierarchy request error",3);y.WRONG_DOCUMENT_ERR=(b[4]="Wrong document",4),y.INVALID_CHARACTER_ERR=(b[5]="Invalid character",5),y.NO_DATA_ALLOWED_ERR=(b[6]="No data allowed",6),y.NO_MODIFICATION_ALLOWED_ERR=(b[7]="No modification allowed",7);var w=y.NOT_FOUND_ERR=(b[8]="Not found",8);y.NOT_SUPPORTED_ERR=(b[9]="Not supported",9);var _=y.INUSE_ATTRIBUTE_ERR=(b[10]="Attribute in use",10);function E(e,t){if(t instanceof Error)var r=t;else r=this,Error.call(this,b[e]),this.message=b[e],Error.captureStackTrace&&Error.captureStackTrace(this,E);return r.code=e,t&&(this.message=this.message+": "+t),r}function T(){}function x(e,t){this._node=e,this._refresh=t,S(this)}function S(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var n=e._refresh(e._node);ee(e,"length",n.length),r(n,e),e._inc=t}}function k(){}function O(e,t){for(var r=e.length;r--;)if(e[r]===t)return r}function A(e,t,r,n){if(n?t[O(t,n)]=r:t[t.length++]=r,e){r.ownerElement=e;var i=e.ownerDocument;i&&(n&&L(i,e,n),i&&i._inc++,"http://www.w3.org/2000/xmlns/"==r.namespaceURI&&(e._nsMap[r.prefix?r.localName:""]=r.value))}}function C(e,t,r){var n=O(t,r);if(n>=0){for(var i=t.length-1;n<i;)t[n]=t[++n];if(t.length=i,e){var a=e.ownerDocument;a&&(L(a,e,r),r.ownerElement=null)}}else throw E(w,Error(e.tagName+"@"+r))}function D(e){if(this._features={},e)for(var t in e)this._features=e[t]}function N(){}function R(e){return"<"==e&&"&lt;"||">"==e&&"&gt;"||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function I(e,t){if(t(e))return!0;if(e=e.firstChild)do if(I(e,t))return!0;while(e=e.nextSibling)}function P(){}function L(e,t,r,n){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==r.namespaceURI&&delete t._nsMap[r.prefix?r.localName:""]}function j(e,t,r){if(e&&e._inc){e._inc++;var n=t.childNodes;if(r)n[n.length++]=r;else{for(var i=t.firstChild,a=0;i;)n[a++]=i,i=i.nextSibling;n.length=a}}}function M(e,t){var r=t.previousSibling,n=t.nextSibling;return r?r.nextSibling=n:e.firstChild=n,n?n.previousSibling=r:e.lastChild=r,j(e.ownerDocument,e),t}function U(e,t,r){var n=t.parentNode;if(n&&n.removeChild(t),t.nodeType===m){var i=t.firstChild;if(null==i)return t;var a=t.lastChild}else i=a=t;var s=r?r.previousSibling:e.lastChild;i.previousSibling=s,a.nextSibling=r,s?s.nextSibling=i:e.firstChild=i,null==r?e.lastChild=a:r.previousSibling=a;do i.parentNode=e;while(i!==a&&(i=i.nextSibling));return j(e.ownerDocument||e,e),t.nodeType==m&&(t.firstChild=t.lastChild=null),t}function B(){this._nsMap={}}function z(){}function q(){}function $(){}function F(){}function H(){}function V(){}function G(){}function W(){}function Y(){}function K(){}function X(){}function Z(e,t){var r=[],n=9==this.nodeType?this.documentElement:this,i=n.prefix,a=n.namespaceURI;if(a&&null==i){var i=n.lookupPrefix(a);if(null==i)var s=[{namespace:a,prefix:null}]}return Q(this,r,e,t,s),r.join("")}function J(e,t,r){var n=e.prefix||"",i=e.namespaceURI;if(!n&&!i||"xml"===n&&"http://www.w3.org/XML/1998/namespace"===i||"http://www.w3.org/2000/xmlns/"==i)return!1;for(var a=r.length;a--;){var s=r[a];if(s.prefix==n)return s.namespace!=i}return!0}function Q(e,t,r,n,i){if(n){if(!(e=n(e)))return;if("string"==typeof e){t.push(e);return}}switch(e.nodeType){case a:i||(i=[]),i.length;var c=e.attributes,g=c.length,y=e.firstChild,b=e.tagName;r="http://www.w3.org/1999/xhtml"===e.namespaceURI||r,t.push("<",b);for(var v=0;v<g;v++){var w=c.item(v);"xmlns"==w.prefix?i.push({prefix:w.localName,namespace:w.value}):"xmlns"==w.nodeName&&i.push({prefix:"",namespace:w.value})}for(var v=0;v<g;v++){var w=c.item(v);if(J(w,r,i)){var _=w.prefix||"",E=w.namespaceURI,T=_?" xmlns:"+_:" xmlns";t.push(T,'="',E,'"'),i.push({prefix:_,namespace:E})}Q(w,t,r,n,i)}if(J(e,r,i)){var _=e.prefix||"",E=e.namespaceURI,T=_?" xmlns:"+_:" xmlns";t.push(T,'="',E,'"'),i.push({prefix:_,namespace:E})}if(y||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(b)){if(t.push(">"),r&&/^script$/i.test(b))for(;y;)y.data?t.push(y.data):Q(y,t,r,n,i),y=y.nextSibling;else for(;y;)Q(y,t,r,n,i),y=y.nextSibling;t.push("</",b,">")}else t.push("/>");return;case f:case m:for(var y=e.firstChild;y;)Q(y,t,r,n,i),y=y.nextSibling;return;case s:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,R),'"');case o:return t.push(e.data.replace(/[<&]/g,R));case l:return t.push("<![CDATA[",e.data,"]]>");case d:return t.push("<!--",e.data,"-->");case p:var x=e.publicId,S=e.systemId;if(t.push("<!DOCTYPE ",e.name),x)t.push(' PUBLIC "',x),S&&"."!=S&&t.push('" "',S),t.push('">');else if(S&&"."!=S)t.push(' SYSTEM "',S,'">');else{var k=e.internalSubset;k&&t.push(" [",k,"]"),t.push(">")}return;case h:return t.push("<?",e.target," ",e.data,"?>");case u:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ee(e,t,r){e[t]=r}y.INVALID_STATE_ERR=(b[11]="Invalid state",11),y.SYNTAX_ERR=(b[12]="Syntax error",12),y.INVALID_MODIFICATION_ERR=(b[13]="Invalid modification",13),y.NAMESPACE_ERR=(b[14]="Invalid namespace",14),y.INVALID_ACCESS_ERR=(b[15]="Invalid access",15),E.prototype=Error.prototype,r(y,E),T.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var r=[],n=0;n<this.length;n++)Q(this[n],r,e,t);return r.join("")}},x.prototype.item=function(e){return S(this),this[e]},n(x,T),k.prototype={length:0,item:T.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var r=this[t];if(r.nodeName==e)return r}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new E(_);var r=this.getNamedItem(e.nodeName);return A(this._ownerElement,this,e,r),r},setNamedItemNS:function(e){var t,r=e.ownerElement;if(r&&r!=this._ownerElement)throw new E(_);return t=this.getNamedItemNS(e.namespaceURI,e.localName),A(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return C(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var r=this.getNamedItemNS(e,t);return C(this._ownerElement,this,r),r},getNamedItemNS:function(e,t){for(var r=this.length;r--;){var n=this[r];if(n.localName==t&&n.namespaceURI==e)return n}return null}},D.prototype={hasFeature:function(e,t){var r=this._features[e.toLowerCase()];return!!r&&(!t||t in r)},createDocument:function(e,t,r){var n=new P;if(n.implementation=this,n.childNodes=new T,n.doctype=r,r&&n.appendChild(r),t){var i=n.createElementNS(e,t);n.appendChild(i)}return n},createDocumentType:function(e,t,r){var n=new V;return n.name=e,n.nodeName=e,n.publicId=t,n.systemId=r,n}},N.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return U(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return M(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,r,n){var i=new r.constructor;for(var o in r){var l=r[o];"object"!=typeof l&&l!=i[o]&&(i[o]=l)}switch(r.childNodes&&(i.childNodes=new T),i.ownerDocument=t,i.nodeType){case a:var u=r.attributes,c=i.attributes=new k,h=u.length;c._ownerElement=i;for(var d=0;d<h;d++)i.setAttributeNode(e(t,u.item(d),!0));break;case s:n=!0}if(n)for(var f=r.firstChild;f;)i.appendChild(e(t,f,n)),f=f.nextSibling;return i}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==o&&e.nodeType==o?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var r=t._nsMap;if(r){for(var n in r)if(r[n]==e)return n}t=t.nodeType==s?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var r=t._nsMap;if(r&&e in r)return r[e];t=t.nodeType==s?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},r(i,N),r(i,N.prototype),P.prototype={nodeName:"#document",nodeType:f,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==m){for(var r=e.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,t),r=n}return e}return null==this.documentElement&&e.nodeType==a&&(this.documentElement=e),U(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),M(this,e)},importNode:function(e,t){return function e(t,r,n){var i;switch(r.nodeType){case a:(i=r.cloneNode(!1)).ownerDocument=t;case m:break;case s:n=!0}if(i||(i=r.cloneNode(!1)),i.ownerDocument=t,i.parentNode=null,n)for(var o=r.firstChild;o;)i.appendChild(e(t,o,n)),o=o.nextSibling;return i}(this,e,t)},getElementById:function(e){var t=null;return I(this.documentElement,function(r){if(r.nodeType==a&&r.getAttribute("id")==e)return t=r,!0}),t},createElement:function(e){var t=new B;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new T,(t.attributes=new k)._ownerElement=t,t},createDocumentFragment:function(){var e=new K;return e.ownerDocument=this,e.childNodes=new T,e},createTextNode:function(e){var t=new $;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new F;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new H;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var r=new X;return r.ownerDocument=this,r.tagName=r.target=e,r.nodeValue=r.data=t,r},createAttribute:function(e){var t=new z;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new Y;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var r=new B,n=t.split(":"),i=r.attributes=new k;return r.childNodes=new T,r.ownerDocument=this,r.nodeName=t,r.tagName=t,r.namespaceURI=e,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=t,i._ownerElement=r,r},createAttributeNS:function(e,t){var r=new z,n=t.split(":");return r.ownerDocument=this,r.nodeName=t,r.name=t,r.namespaceURI=e,r.specified=!0,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=t,r}},n(P,N),B.prototype={nodeType:a,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var r=this.ownerDocument.createAttribute(e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===m?this.insertBefore(e,null):function(e,t){var r=t.parentNode;if(r){var n=e.lastChild;r.removeChild(t);var n=e.lastChild}var n=e.lastChild;return t.parentNode=e,t.previousSibling=n,t.nextSibling=null,n?n.nextSibling=t:e.firstChild=t,e.lastChild=t,j(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);r&&this.removeAttributeNode(r)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);return r&&r.value||""},setAttributeNS:function(e,t,r){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new x(this,function(t){var r=[];return I(t,function(n){n!==t&&n.nodeType==a&&("*"===e||n.tagName==e)&&r.push(n)}),r})},getElementsByTagNameNS:function(e,t){return new x(this,function(r){var n=[];return I(r,function(i){i!==r&&i.nodeType===a&&("*"===e||i.namespaceURI===e)&&("*"===t||i.localName==t)&&n.push(i)}),n})}},P.prototype.getElementsByTagName=B.prototype.getElementsByTagName,P.prototype.getElementsByTagNameNS=B.prototype.getElementsByTagNameNS,n(B,N),z.prototype.nodeType=s,n(z,N),q.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw Error(b[v])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,r){r=this.data.substring(0,e)+r+this.data.substring(e+t),this.nodeValue=this.data=r,this.length=r.length}},n(q,N),$.prototype={nodeName:"#text",nodeType:o,splitText:function(e){var t=this.data,r=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},n($,q),F.prototype={nodeName:"#comment",nodeType:d},n(F,q),H.prototype={nodeName:"#cdata-section",nodeType:l},n(H,q),V.prototype.nodeType=p,n(V,N),G.prototype.nodeType=g,n(G,N),W.prototype.nodeType=c,n(W,N),Y.prototype.nodeType=u,n(Y,N),K.prototype.nodeName="#document-fragment",K.prototype.nodeType=m,n(K,N),X.prototype.nodeType=h,n(X,N),(function(){}).prototype.serializeToString=function(e,t,r){return Z.call(e,t,r)},N.prototype.toString=Z;try{Object.defineProperty&&(Object.defineProperty(x.prototype,"length",{get:function(){return S(this),this.$$length}}),Object.defineProperty(N.prototype,"textContent",{get:function(){return function e(t){switch(t.nodeType){case a:case m:var r=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&r.push(e(t)),t=t.nextSibling;return r.join("");default:return t.nodeValue}}(this)},set:function(e){switch(this.nodeType){case a:case m:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ee=function(e,t,r){e["$$"+t]=r})}catch(e){}t.DOMImplementation=D},2741:(e,t)=>{var r=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=RegExp("[\\-\\.0-9"+r.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=RegExp("^"+r.source+n.source+"*(?::"+r.source+n.source+"*)?$");function a(){}function s(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function o(e,t,r){for(var n=e.tagName,i=null,a=e.length;a--;){var s=e[a],o=s.qName,u=s.value,c=o.indexOf(":");if(c>0)var h=s.prefix=o.slice(0,c),d=o.slice(c+1),f="xmlns"===h&&d;else d=o,h=null,f="xmlns"===o&&"";s.localName=d,!1!==f&&(null==i&&(i={},l(r,r={})),r[f]=i[f]=u,s.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(f,u))}for(var a=e.length;a--;){var h=(s=e[a]).prefix;h&&("xml"===h&&(s.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==h&&(s.uri=r[h||""]))}var c=n.indexOf(":");c>0?(h=e.prefix=n.slice(0,c),d=e.localName=n.slice(c+1)):(h=null,d=e.localName=n);var p=e.uri=r[h||""];if(t.startElement(p,d,n,e),!e.closed)return e.currentNSMap=r,e.localNSMap=i,!0;if(t.endElement(p,d,n),i)for(h in i)t.endPrefixMapping(h)}function l(e,t){for(var r in e)t[r]=e[r]}function u(e){}function c(e,t){return e.__proto__=t,e}a.prototype={parse:function(e,t,r){var n=this.domBuilder;n.startDocument(),l(t,t={}),function(e,t,r,n,i){function a(e){var t,n=e.slice(1,-1);return n in r?r[n]:"#"!==n.charAt(0)?(i.error("entity not found:"+e),e):(t=parseInt(n.substr(1).replace("x","0x")))>65535?String.fromCharCode(55296+((t-=65536)>>10),56320+(1023&t)):String.fromCharCode(t)}function l(t){if(t>y){var r=e.substring(y,t).replace(/&#?\w+;/g,a);p&&c(y),n.characters(r,0,t-y),y=t}}function c(t,r){for(;t>=d&&(r=f.exec(e));)d=(h=r.index)+r[0].length,p.lineNumber++;p.columnNumber=t-h+1}for(var h=0,d=0,f=/.*(?:\r\n?|\n)|.*$/g,p=n.locator,m=[{currentNSMap:t}],g={},y=0;;){try{var b=e.indexOf("<",y);if(b<0){if(!e.substr(y).match(/^\s*$/)){var v=n.doc,w=v.createTextNode(e.substr(y));v.appendChild(w),n.currentElement=w}return}switch(b>y&&l(b),e.charAt(b+1)){case"/":var _=e.indexOf(">",b+3),E=e.substring(b+2,_),T=m.pop();_<0?(E=e.substring(b+2).replace(/[\s<].*/,""),i.error("end tag name: "+E+" is not complete:"+T.tagName),_=b+1+E.length):E.match(/\s</)&&(E=E.replace(/[\s<].*/,""),i.error("end tag name: "+E+" maybe not complete"),_=b+1+E.length);var x=T.localNSMap,S=T.tagName==E;if(S||T.tagName&&T.tagName.toLowerCase()==E.toLowerCase()){if(n.endElement(T.uri,T.localName,E),x)for(var k in x)n.endPrefixMapping(k);S||i.fatalError("end tag name: "+E+" is not match the current start tagName:"+T.tagName)}else m.push(T);_++;break;case"?":p&&c(b),_=function(e,t,r){var n=e.indexOf("?>",t);if(n){var i=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i)return i[0].length,r.processingInstruction(i[1],i[2]),n+2}return -1}(e,b,n);break;case"!":p&&c(b),_=function(e,t,r,n){if("-"===e.charAt(t+2)){if("-"===e.charAt(t+3)){var i=e.indexOf("-->",t+4);if(i>t)return r.comment(e,t+4,i-t-4),i+3;n.error("Unclosed comment")}}else{if("CDATA["==e.substr(t+3,6)){var i=e.indexOf("]]>",t+9);return r.startCDATA(),r.characters(e,t+9,i-t-9),r.endCDATA(),i+3}var a=function(e,t){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=t,i.exec(e);r=i.exec(e);)if(n.push(r),r[1])return n}(e,t),s=a.length;if(s>1&&/!doctype/i.test(a[0][0])){var o=a[1][0],l=s>3&&/^public$/i.test(a[2][0])&&a[3][0],u=s>4&&a[4][0],c=a[s-1];return r.startDTD(o,l&&l.replace(/^(['"])(.*?)\1$/,"$2"),u&&u.replace(/^(['"])(.*?)\1$/,"$2")),r.endDTD(),c.index+c[0].length}}return -1}(e,b,n,i);break;default:p&&c(b);var O=new u,A=m[m.length-1].currentNSMap,_=function(e,t,r,n,i,a){for(var s,o,l=++t,u=0;;){var c=e.charAt(l);switch(c){case"=":if(1===u)s=e.slice(t,l),u=3;else if(2===u)u=3;else throw Error("attribute equal must after attrName");break;case"'":case'"':if(3===u||1===u){if(1===u&&(a.warning('attribute value must after "="'),s=e.slice(t,l)),t=l+1,(l=e.indexOf(c,t))>0)o=e.slice(t,l).replace(/&#?\w+;/g,i),r.add(s,o,t-1),u=5;else throw Error("attribute value no end '"+c+"' match")}else if(4==u)o=e.slice(t,l).replace(/&#?\w+;/g,i),r.add(s,o,t),a.warning('attribute "'+s+'" missed start quot('+c+")!!"),t=l+1,u=5;else throw Error('attribute value must after "="');break;case"/":switch(u){case 0:r.setTagName(e.slice(t,l));case 5:case 6:case 7:u=7,r.closed=!0;case 4:case 1:case 2:break;default:throw Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),0==u&&r.setTagName(e.slice(t,l)),l;case">":switch(u){case 0:r.setTagName(e.slice(t,l));case 5:case 6:case 7:break;case 4:case 1:"/"===(o=e.slice(t,l)).slice(-1)&&(r.closed=!0,o=o.slice(0,-1));case 2:2===u&&(o=s),4==u?(a.warning('attribute "'+o+'" missed quot(")!!'),r.add(s,o.replace(/&#?\w+;/g,i),t)):("http://www.w3.org/1999/xhtml"===n[""]&&o.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+o+'" missed value!! "'+o+'" instead!!'),r.add(o,o,t));break;case 3:throw Error("attribute value missed!!")}return l;case"\x80":c=" ";default:if(c<=" ")switch(u){case 0:r.setTagName(e.slice(t,l)),u=6;break;case 1:s=e.slice(t,l),u=2;break;case 4:var o=e.slice(t,l).replace(/&#?\w+;/g,i);a.warning('attribute "'+o+'" missed quot(")!!'),r.add(s,o,t);case 5:u=6}else switch(u){case 2:r.tagName,"http://www.w3.org/1999/xhtml"===n[""]&&s.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+s+'" missed value!! "'+s+'" instead2!!'),r.add(s,s,t),t=l,u=1;break;case 5:a.warning('attribute space is required"'+s+'"!!');case 6:u=1,t=l;break;case 3:u=4,t=l;break;case 7:throw Error("elements closed character '/' and '>' must be connected to")}}l++}}(e,b,O,A,a,i),C=O.length;if(!O.closed&&function(e,t,r,n){var i=n[r];return null==i&&((i=e.lastIndexOf("</"+r+">"))<t&&(i=e.lastIndexOf("</"+r)),n[r]=i),i<t}(e,_,O.tagName,g)&&(O.closed=!0,r.nbsp||i.warning("unclosed xml attribute")),p&&C){for(var D=s(p,{}),N=0;N<C;N++){var R=O[N];c(R.offset),R.locator=s(p,{})}n.locator=D,o(O,n,A)&&m.push(O),n.locator=p}else o(O,n,A)&&m.push(O);"http://www.w3.org/1999/xhtml"!==O.uri||O.closed?_++:_=function(e,t,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var a=e.indexOf("</"+r+">",t),s=e.substring(t+1,a);if(/[&<]/.test(s))return/^script$/i.test(r)||(s=s.replace(/&#?\w+;/g,n)),i.characters(s,0,s.length),a}return t+1}(e,_,O.tagName,a,n)}}catch(e){i.error("element parse error: "+e),_=-1}_>y?y=_:l(Math.max(b,y)+1)}}(e,t,r,n,this.errorHandler),n.endDocument()}},u.prototype={setTagName:function(e){if(!i.test(e))throw Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,r){if(!i.test(e))throw Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},c({},c.prototype) instanceof c||(c=function(e,t){function r(){}for(t in r.prototype=t,r=new r,e)r[t]=e[t];return r}),t.G=a}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[948],()=>r(3068));module.exports=n})();