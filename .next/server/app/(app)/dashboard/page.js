(()=>{var e={};e.id=40,e.ids=[40],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5399:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>d}),t(1544),t(5090),t(3315),t(5866),t(2029);var r=t(3191),a=t(8716),l=t(7922),n=t.n(l),i=t(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(s,o);let d=["",{children:["(app)",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1544)),"C:\\Users\\506870\\Desktop\\KB-outage\\src\\app\\(app)\\dashboard\\page.tsx"]}]},{loading:[()=>Promise.resolve().then(t.bind(t,5090)),"C:\\Users\\506870\\Desktop\\KB-outage\\src\\app\\(app)\\dashboard\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,3315)),"C:\\Users\\506870\\Desktop\\KB-outage\\src\\app\\(app)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,2029)),"C:\\Users\\506870\\Desktop\\KB-outage\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\506870\\Desktop\\KB-outage\\src\\app\\(app)\\dashboard\\page.tsx"],x="/(app)/dashboard/page",u={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(app)/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},519:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},6998:(e,s,t)=>{Promise.resolve().then(t.bind(t,4590))},6215:()=>{},3197:(e,s,t)=>{Promise.resolve().then(t.bind(t,580))},5303:()=>{},4590:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var r=t(326),a=t(434),l=t(7577),n=t(6792),i=t(5329);let o=["DRAFT","DOC_READY","SOCIAL_POSTED","NOTICE_SCHEDULED"],d={DRAFT:"DRAFT",DOC_READY:"DOCUMENT READY",SOCIAL_POSTED:"SOCIAL POSTED",NOTICE_SCHEDULED:"NOTICE SCHEDULED"};function c(){let[e,s]=(0,l.useState)([]),[t,c]=(0,l.useState)(null),[x,u]=(0,l.useState)(!0),m=(0,l.useMemo)(()=>o.reduce((s,t)=>(s[t]=e.filter(e=>e.step===t&&!0!==e.is_closed),s),{}),[e]);return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("header",{className:"space-y-3",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-slate-400",children:"Overview"}),r.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900",children:"Dashboard"}),r.jsx("p",{className:"text-sm text-slate-600",children:"ติดตามสถานะงานแต่ละรายการและงานที่ต้องทำต่อ"})]}),t?r.jsx(i.Zb,{className:"border-rose-200 bg-rose-50/70",children:r.jsx(i.aY,{className:"py-4 text-sm text-rose-700",children:t})}):null,(0,r.jsxs)(i.Zb,{children:[r.jsx(i.Ol,{children:(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,r.jsxs)("div",{children:[r.jsx(i.ll,{children:"Pipeline"}),r.jsx(i.SZ,{children:"งานที่ยังต้องดำเนินการตามขั้นตอน"})]}),r.jsx(n.Z,{variant:"accent",children:"Live"})]})}),r.jsx(i.aY,{children:r.jsx("div",{className:"grid gap-4 lg:grid-cols-4",children:o.map(e=>(0,r.jsxs)("div",{className:"flex flex-col rounded-2xl border border-slate-200/70 bg-white/80 p-4 shadow-sm",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.25em] text-slate-400",children:d[e]}),r.jsx("span",{className:"h-2 w-2 rounded-full bg-gradient-to-r from-fuchsia-500 to-pink-500"})]}),r.jsx("div",{className:"mt-4 space-y-2",children:x?r.jsx("p",{className:"text-xs text-slate-400",children:"กำลังโหลด..."}):m[e]?.length?m[e].map(e=>r.jsx(a.default,{href:`/job/${e.id}`,className:"block rounded-xl border border-slate-200/70 bg-white px-3 py-2 text-xs font-semibold text-slate-900 shadow-sm transition hover:border-slate-300 hover:shadow-md",children:e.equipment_code??"—"},e.id)):r.jsx("p",{className:"text-xs text-slate-400",children:"ไม่มีงาน"})})]},e))})})]})]})}},580:(e,s,t)=>{"use strict";t.d(s,{default:()=>h});var r=t(326),a=t(7577),l=t(434),n=t(5047);let i=[{label:"Dashboard",href:"/dashboard"},{label:"Jobs",href:"/jobs"},{label:"Calendar",href:"/calendar"}];function o({isOpen:e,onClose:s}){let t=(0,n.usePathname)(),a=()=>(0,r.jsxs)("div",{className:"flex h-full flex-col bg-white/80 px-5 py-6 backdrop-blur-xl",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 px-2",children:[r.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-full bg-gradient-to-tr from-fuchsia-500 via-purple-500 to-pink-500 text-sm font-semibold text-white shadow-md",children:"KB"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:"KB Outage"}),r.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-400",children:"Operations"})]})]}),r.jsx("nav",{className:"mt-8 flex-1 space-y-2",children:i.map(e=>{let a=t===e.href||t.startsWith(`${e.href}/`)||"/jobs"===e.href&&t.startsWith("/job/");return(0,r.jsxs)(l.default,{href:e.href,className:`flex items-center justify-between rounded-full px-4 py-2 text-sm font-medium transition ${a?"bg-white text-slate-900 shadow-sm":"text-slate-600 hover:bg-white/70 hover:text-slate-900"}`,onClick:s,children:[r.jsx("span",{children:e.label}),a?r.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-gradient-to-r from-fuchsia-500 to-pink-500"}):null]},e.href)})}),r.jsx("div",{className:"rounded-2xl border border-slate-200/80 bg-white px-4 py-4 text-xs text-slate-500 shadow-sm",children:"Premium console layout • v2"})]});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:`fixed inset-0 z-40 transition lg:hidden ${e?"pointer-events-auto":"pointer-events-none"}`,children:[r.jsx("div",{className:`absolute inset-0 bg-slate-900/40 transition-opacity ${e?"opacity-100":"opacity-0"}`,onClick:s}),r.jsx("aside",{className:`absolute left-0 top-0 h-full w-72 transform bg-white shadow-xl transition-transform ${e?"translate-x-0":"-translate-x-full"}`,children:a()})]}),r.jsx("aside",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-72 lg:flex-col lg:border-r lg:border-slate-200/70 lg:bg-white/80 lg:backdrop-blur-xl",children:a()})]})}var d=t(6792),c=t(9837);let x={"/dashboard":"Dashboard","/jobs":"Jobs","/calendar":"Calendar","/job":"Job detail"},u=e=>{let s=Object.keys(x).find(s=>e===s||e.startsWith(`${s}/`));return s?x[s]:"KB Outage"};function m({onMenuClick:e}){let s=(0,n.usePathname)(),t=u(s),a="/dashboard"===s||s.startsWith("/dashboard/"),i="/jobs"===s||s.startsWith("/jobs/"),o="/calendar"===s||s.startsWith("/calendar/"),x=s.startsWith("/job/");return r.jsx("header",{className:"sticky top-0 z-30 border-b border-slate-200/70 bg-white/80 backdrop-blur",children:(0,r.jsxs)("div",{className:"flex items-center justify-between px-4 py-4 sm:px-6 lg:px-10",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("button",{type:"button",onClick:e,className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-slate-200/80 bg-white text-slate-600 shadow-sm transition hover:bg-slate-50 lg:hidden","aria-label":"Open menu",children:"☰"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-slate-400",children:"Current view"}),r.jsx("h1",{className:"text-xl font-semibold tracking-tight text-slate-900",children:t})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[a?r.jsx(l.default,{href:"/jobs",className:(0,c.$)({variant:"secondary",size:"sm"}),children:"ดูงานทั้งหมด"}):null,i?r.jsx(l.default,{href:"/new",className:(0,c.$)({variant:"primary",size:"sm"}),children:"+ สร้างงาน"}):null,o?r.jsx(l.default,{href:"/jobs",className:(0,c.$)({variant:"secondary",size:"sm"}),children:"ไปที่ Jobs"}):null,x?r.jsx(l.default,{href:"/jobs",className:(0,c.$)({variant:"secondary",size:"sm"}),children:"กลับไป Jobs"}):null,r.jsx(d.Z,{variant:"accent",children:"Premium"})]})]})})}function h({children:e}){let[s,t]=(0,a.useState)(!1);return(0,r.jsxs)("div",{className:"min-h-screen bg-[#fafafa] text-slate-900",children:[r.jsx(o,{isOpen:s,onClose:()=>t(!1)}),(0,r.jsxs)("div",{className:"flex min-h-screen flex-col lg:pl-72",children:[r.jsx(m,{onMenuClick:()=>t(!0)}),r.jsx("main",{className:"flex-1 px-4 pb-12 pt-6 sm:px-6 lg:px-10",children:r.jsx("div",{className:"mx-auto w-full max-w-6xl",children:e})})]})]})}},6792:(e,s,t)=>{"use strict";t.d(s,{Z:()=>n});var r=t(326),a=t(1223);let l={default:"border border-slate-200/80 bg-slate-100/70 text-slate-600",accent:"border border-fuchsia-200/70 bg-fuchsia-50 text-fuchsia-700",success:"border border-emerald-200/80 bg-emerald-50 text-emerald-700",warning:"border border-amber-200/80 bg-amber-50 text-amber-700",danger:"border border-rose-200/80 bg-rose-50 text-rose-700",neutral:"border border-slate-200/70 bg-white text-slate-700"};function n({variant:e="default",className:s,...t}){return r.jsx("span",{...t,className:(0,a.cn)("inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-semibold",l[e],s)})}},9837:(e,s,t)=>{"use strict";t.d(s,{$:()=>i,Z:()=>o});var r=t(326),a=t(1223);let l={primary:"bg-gradient-to-r from-fuchsia-500 via-purple-500 to-pink-500 text-white shadow-[0_16px_30px_rgba(236,72,153,0.25)] hover:brightness-110",secondary:"border border-slate-200/80 bg-white text-slate-700 shadow-sm hover:bg-slate-50",ghost:"text-slate-600 hover:bg-slate-100/80 hover:text-slate-900"},n={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-sm"};function i({variant:e="primary",size:s="md",className:t}){return(0,a.cn)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-full font-medium transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fuchsia-300 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-60",l[e],n[s],t)}function o({className:e,variant:s,size:t,...a}){return r.jsx("button",{...a,className:i({variant:s,size:t,className:e})})}},5329:(e,s,t)=>{"use strict";t.d(s,{Ol:()=>n,SZ:()=>o,Zb:()=>l,aY:()=>d,ll:()=>i});var r=t(326),a=t(1223);function l({className:e,...s}){return r.jsx("div",{...s,className:(0,a.cn)("rounded-2xl border border-slate-200/70 bg-white shadow-sm",e)})}function n({className:e,...s}){return r.jsx("div",{...s,className:(0,a.cn)("px-5 pt-5",e)})}function i({className:e,...s}){return r.jsx("h3",{...s,className:(0,a.cn)("text-lg font-semibold tracking-tight text-slate-900",e)})}function o({className:e,...s}){return r.jsx("p",{...s,className:(0,a.cn)("text-sm text-slate-600",e)})}function d({className:e,...s}){return r.jsx("div",{...s,className:(0,a.cn)("px-5 pb-5",e)})}},1223:(e,s,t)=>{"use strict";function r(...e){return e.filter(Boolean).join(" ")}t.d(s,{cn:()=>r})},5090:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});var r=t(9510);function a(){return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium uppercase tracking-[0.2em] text-slate-400",children:"Overview"}),r.jsx("h1",{className:"mt-2 text-3xl font-semibold text-slate-900",children:"Dashboard"}),r.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"สรุปภาพรวมงานล่าสุดและสถานะที่ต้องติดตาม"})]}),r.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:Array.from({length:3}).map((e,s)=>(0,r.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:[r.jsx("div",{className:"h-4 w-24 animate-pulse rounded bg-slate-200"}),r.jsx("div",{className:"mt-3 h-8 w-16 animate-pulse rounded bg-slate-200"}),r.jsx("div",{className:"mt-2 h-4 w-32 animate-pulse rounded bg-slate-200"})]},`dashboard-card-${s}`))})]})}},1544:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>l,default:()=>i});var r=t(8570);let a=(0,r.createProxy)(String.raw`C:\Users\506870\Desktop\KB-outage\src\app\(app)\dashboard\page.tsx`),{__esModule:l,$$typeof:n}=a;a.default;let i=(0,r.createProxy)(String.raw`C:\Users\506870\Desktop\KB-outage\src\app\(app)\dashboard\page.tsx#default`)},3315:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var r=t(9510),a=t(8570);let l=(0,a.createProxy)(String.raw`C:\Users\506870\Desktop\KB-outage\src\components\layout\AppShell.tsx`),{__esModule:n,$$typeof:i}=l;l.default;let o=(0,a.createProxy)(String.raw`C:\Users\506870\Desktop\KB-outage\src\components\layout\AppShell.tsx#default`);function d({children:e}){return r.jsx(o,{children:e})}},2029:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l,metadata:()=>a});var r=t(9510);t(5023);let a={title:"Krabi Outage Tracker",description:"Track planned outages in Krabi."};function l({children:e}){return r.jsx("html",{lang:"th",children:r.jsx("body",{children:r.jsx("div",{className:"min-h-screen",children:r.jsx("main",{className:"mx-auto flex w-full max-w-5xl flex-col px-4 py-8",children:e})})})})}},5023:()=>{}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[948,471,496],()=>t(5399));module.exports=r})();