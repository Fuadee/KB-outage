(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1332:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>i}),s(5480),s(2029),s(5866);var a=s(3191),l=s(8716),r=s(7922),o=s.n(r),n=s(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let i=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5480)),"C:\\Users\\506870\\Desktop\\KB-outage\\src\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2029)),"C:\\Users\\506870\\Desktop\\KB-outage\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\506870\\Desktop\\KB-outage\\src\\app\\page.tsx"],m="/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},519:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},6215:()=>{},6591:(e,t,s)=>{Promise.resolve().then(s.bind(s,4111))},4111:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var a=s(326),l=s(434),r=s(7577);function o({isOpen:e,title:t,onClose:s,children:l}){return e?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/40",onClick:s,role:"presentation"}),(0,a.jsxs)("div",{className:"relative z-10 w-full max-w-lg rounded-xl bg-white p-6 shadow-xl",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[t?a.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:t}):null,a.jsx("button",{type:"button",onClick:s,className:"text-sm text-slate-500 hover:text-slate-700",children:"ปิด"})]}),a.jsx("div",{className:"mt-4",children:l})]})]}):null}var n=s(9864);function d(e){return new Date(`${e}T00:00:00`)}function i(e){let t=new Date(e);return t.setHours(0,0,0,0),t}function c(e){let t=function(e,t){let s=i(e).getTime();return Math.round((i(t).getTime()-s)/864e5)}(i(new Date),i(d(e.outage_date))),s=t<0?`เลยกำหนด ${Math.abs(t)} วัน`:0===t?"วันนี้":1===t?"พรุ่งนี้":`เหลือ ${t} วัน`;return t<0?{daysLeft:t,color:"RED",label:s}:"PENDING"===(e.nakhon_status??"PENDING")?t<14?{daysLeft:t,color:"RED",label:s}:t<=28?{daysLeft:t,color:"YELLOW",label:s}:{daysLeft:t,color:"GREEN",label:s}:t<3?{daysLeft:t,color:"RED",label:s}:t<=6?{daysLeft:t,color:"YELLOW",label:s}:{daysLeft:t,color:"GREEN",label:s}}let m=e=>{if(!e)return null;let t=e.match(/filename\*=UTF-8''([^;]+)/i);if(t?.[1])try{return decodeURIComponent(t[1])}catch{return t[1]}let s=e.match(/filename="?([^";]+)"?/i);return s?.[1]??null};function u(){let[e,t]=(0,r.useState)([]),[s,i]=(0,r.useState)(!0),[u,x]=(0,r.useState)(null),[p,_]=(0,r.useState)(""),[h,b]=(0,r.useState)("all"),[f,g]=(0,r.useState)(null),[j,N]=(0,r.useState)({}),[w,y]=(0,r.useState)(null),[v,k]=(0,r.useState)(""),[C,E]=(0,r.useState)(""),[q,P]=(0,r.useState)({}),[S,D]=(0,r.useState)(!1),[T,O]=(0,r.useState)(null),[R,I]=(0,r.useState)({doc_issue_date:"",doc_purpose:"",doc_area_title:"",doc_time_start:"",doc_time_end:"",doc_area_detail:"",map_link:""}),[L,U]=(0,r.useState)({}),[A,G]=(0,r.useState)(!1),$=()=>{y(null),k(""),E(""),P({}),D(!1)},K=()=>{O(null),I({doc_issue_date:"",doc_purpose:"",doc_area_title:"",doc_time_start:"",doc_time_end:"",doc_area_detail:"",map_link:""}),U({}),G(!1)},B=e=>{y(e),k(""),E(""),P({})},F=e=>{O(e),I({doc_issue_date:e.doc_issue_date??"",doc_purpose:e.doc_purpose??"",doc_area_title:e.doc_area_title??"",doc_time_start:e.doc_time_start??"",doc_time_end:e.doc_time_end??"",doc_area_detail:e.doc_area_detail??"",map_link:e.map_link??""}),U({})},M=async()=>{if(!w)return;let e={};if(v||(e.date="กรุณาระบุวันที่แจ้งศูนย์นคร"),C.trim()||(e.memoNo="กรุณาระบุเลขที่บันทึก"),Object.keys(e).length>0){P(e);return}D(!0),P({});let{error:s}=await (0,n.Z6)(w.id,{date:v,memoNo:C.trim()});if(s){P({submit:s.message||"บันทึกไม่สำเร็จ กรุณาลองใหม่"}),D(!1);return}t(e=>e.map(e=>e.id===w.id?{...e,nakhon_status:"NOTIFIED",nakhon_notified_date:v,nakhon_memo_no:C.trim()}:e)),$()},Y=async e=>{g(null),N(t=>({...t,[e.id]:!0}));let{error:s}=await (0,n.uA)(e.id);if(s){g(s.message||"อัปเดตไม่สำเร็จ"),N(t=>({...t,[e.id]:!1}));return}t(t=>t.map(t=>t.id===e.id?{...t,nakhon_status:"NOT_REQUIRED",nakhon_notified_date:null,nakhon_memo_no:null}:t)),N(t=>({...t,[e.id]:!1}))},z=async()=>{if(!T)return;let e={};if(R.doc_issue_date||(e.doc_issue_date="กรุณาระบุวันที่ออกหนังสือ"),R.doc_purpose.trim()||(e.doc_purpose="กรุณาระบุวัตถุประสงค์"),R.doc_area_title.trim()||(e.doc_area_title="กรุณาระบุบริเวณที่ดับ"),R.doc_time_start.trim()||(e.doc_time_start="กรุณาระบุเวลาเริ่มดับไฟ"),R.doc_time_end.trim()||(e.doc_time_end="กรุณาระบุเวลาจ่ายไฟ"),R.doc_area_detail.trim()||(e.doc_area_detail="กรุณาระบุรายละเอียดพื้นที่ดับไฟ"),R.map_link.trim()||(e.map_link="กรุณาระบุลิ้ง google map"),Object.keys(e).length>0){U(e);return}let s={doc_issue_date:R.doc_issue_date,doc_purpose:R.doc_purpose.trim(),doc_area_title:R.doc_area_title.trim(),doc_time_start:R.doc_time_start.trim(),doc_time_end:R.doc_time_end.trim(),doc_area_detail:R.doc_area_detail.trim(),map_link:R.map_link.trim()};G(!0),U({});try{let e=await fetch("/api/docs/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jobId:T.id,payload:s})});if(!e.ok){let t=e.headers.get("Content-Type")??"",s="";if(t.includes("application/json")){let t=await e.json().catch(()=>null);s=t?.error||t?.message||""}else s=await e.text().catch(()=>"");U({submit:s?`ไม่สามารถสร้างเอกสารได้ กรุณาลองใหม่ (${s})`:"ไม่สามารถสร้างเอกสารได้ กรุณาลองใหม่"}),G(!1);return}let a=await e.blob(),l=window.URL.createObjectURL(a),r=m(e.headers.get("Content-Disposition"))??`outage-doc-${T.id}.docx`,o=document.createElement("a");o.href=l,o.download=r,document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(l);let n=new Date().toISOString();t(e=>e.map(e=>e.id===T.id?{...e,...s,doc_status:"GENERATED",doc_url:null,doc_generated_at:n}:e)),K()}catch(e){console.error(e),U({submit:"สร้างเอกสารไม่สำเร็จ กรุณาลองใหม่"}),G(!1)}},H=(0,r.useMemo)(()=>{let t=p.trim().toLowerCase();return e.filter(e=>!t||e.equipment_code.toLowerCase().includes(t)).filter(e=>"all"===h||c(e).color.toLowerCase()===h).sort((e,t)=>d(e.outage_date).getTime()-d(t.outage_date).getTime())},[e,p,h]);return(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsxs)("header",{className:"flex flex-col gap-4 rounded-2xl bg-white p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Krabi Outage Tracker"}),a.jsx("p",{className:"text-sm text-slate-500",children:"ติดตามงานดับไฟตามกำหนดและสถานะวันคงเหลือ"})]}),a.jsx(l.default,{href:"/new",className:"inline-flex items-center justify-center rounded-xl bg-slate-900 px-4 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-slate-800",children:"+ สร้างงาน"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{className:"flex w-full max-w-md flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-600",children:"ค้นหาอุปกรณ์"}),a.jsx("input",{value:p,onChange:e=>_(e.target.value),placeholder:"กรอกรหัสอุปกรณ์",className:"rounded-xl border border-slate-200 px-3 py-2 text-sm shadow-sm outline-none transition focus:border-slate-400"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:[{id:"all",label:"ทั้งหมด"},{id:"green",label:"เขียว"},{id:"yellow",label:"เหลือง"},{id:"red",label:"แดง"}].map(e=>a.jsx("button",{onClick:()=>b(e.id),className:`rounded-full px-4 py-1 text-sm font-medium transition ${h===e.id?"bg-slate-900 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:e.label},e.id))})]})]}),u?a.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:u}):null,f?a.jsx("div",{className:"rounded-xl border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-700",children:f}):null,a.jsx("section",{className:"grid gap-4",children:s?a.jsx("div",{className:"rounded-xl border border-slate-200 bg-white px-4 py-8 text-center text-sm text-slate-500 shadow-sm",children:"กำลังโหลดข้อมูล..."}):0===H.length?a.jsx("div",{className:"rounded-xl border border-slate-200 bg-white px-4 py-8 text-center text-sm text-slate-500 shadow-sm",children:"ยังไม่มีงานที่ตรงกับตัวกรอง"}):H.map(e=>{var t;let s=c(e),r="RED"===(t=s.color)?{strip:"bg-red-500",badge:"bg-red-50 text-red-700 ring-red-200",text:"text-red-700"}:"YELLOW"===t?{strip:"bg-amber-400",badge:"bg-amber-50 text-amber-700 ring-amber-200",text:"text-amber-700"}:{strip:"bg-emerald-500",badge:"bg-emerald-50 text-emerald-700 ring-emerald-200",text:"text-emerald-700"},o=e.nakhon_status??"PENDING",n="NOTIFIED"===o,i=j[e.id]??!1,m="GENERATED"===e.doc_status&&!!e.doc_url,u="GENERATING"===e.doc_status;return(0,a.jsxs)("div",{className:"group flex items-stretch overflow-hidden rounded-2xl border border-slate-100 bg-white shadow-sm transition hover:-translate-y-0.5 hover:border-slate-200 hover:shadow-md",children:[a.jsx("div",{className:`w-2 ${r.strip}`}),(0,a.jsxs)("div",{className:"flex w-full flex-col gap-4 p-5",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[(0,a.jsxs)(l.default,{href:`/job/${e.id}`,className:"flex min-w-[240px] flex-1 flex-col gap-3",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm text-slate-500",children:d(e.outage_date).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"})}),a.jsx("span",{className:`text-sm font-medium ${r.text}`,children:s.label})]}),a.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ring-1 ${r.badge}`,children:s.color})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-lg font-semibold text-slate-900",children:e.equipment_code}),a.jsx("p",{className:"text-sm text-slate-600",children:e.note?.trim()||"ไม่มีหมายเหตุ"})]})]}),a.jsx("div",{className:"flex w-full flex-col items-start gap-2 sm:w-auto sm:items-end",children:"PENDING"===o?(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{type:"button",onClick:()=>B(e),className:"w-full rounded-xl bg-slate-900 px-4 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-slate-800 sm:w-auto",children:"แจ้งศูนย์นครแล้ว"}),a.jsx("button",{type:"button",onClick:()=>Y(e),disabled:i,className:"w-full rounded-xl border border-slate-200 px-4 py-2 text-sm font-medium text-slate-700 shadow-sm transition hover:bg-slate-100 disabled:cursor-not-allowed disabled:opacity-70 sm:w-auto",children:i?"กำลังบันทึก...":"ไม่ต้องแจ้งศูนย์นคร"})]}):a.jsx(a.Fragment,{children:m?a.jsx("button",{type:"button",onClick:()=>window.open(e.doc_url,"_blank"),className:"w-full rounded-xl bg-emerald-600 px-4 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-emerald-500 sm:w-auto",children:"พิมพ์เอกสาร"}):a.jsx("button",{type:"button",onClick:()=>F(e),disabled:i||u,className:"w-full rounded-xl bg-emerald-600 px-4 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-emerald-500 disabled:cursor-not-allowed disabled:opacity-70 sm:w-auto",children:u?"กำลังสร้าง...":"สร้างเอกสารดับไฟ"})})})]}),(n||"NOT_REQUIRED"===o)&&a.jsx("div",{className:"text-sm text-slate-600",children:n?(0,a.jsxs)(a.Fragment,{children:["แจ้งศูนย์นครแล้ว:"," ",a.jsx("span",{className:"font-medium text-slate-800",children:e.nakhon_notified_date?d(e.nakhon_notified_date).toLocaleDateString("th-TH",{year:"numeric",month:"short",day:"numeric"}):"-"})," ","| เลขที่บันทึก:"," ",a.jsx("span",{className:"font-medium text-slate-800",children:e.nakhon_memo_no??"-"})]}):a.jsx("span",{children:"ไม่ต้องแจ้งศูนย์นคร"})})]})]},e.id)})}),a.jsx(o,{isOpen:!!w,title:"แจ้งศูนย์นครแล้ว",onClose:$,children:(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:["วันที่แจ้งศูนย์นคร",a.jsx("input",{type:"date",value:v,onChange:e=>k(e.target.value),className:"rounded-xl border border-slate-200 px-3 py-2 text-sm shadow-sm outline-none focus:border-slate-400",required:!0}),q.date?a.jsx("span",{className:"text-xs text-red-600",children:q.date}):null]}),(0,a.jsxs)("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:["เลขที่บันทึก",a.jsx("input",{type:"text",value:C,onChange:e=>E(e.target.value),className:"rounded-xl border border-slate-200 px-3 py-2 text-sm shadow-sm outline-none focus:border-slate-400",required:!0}),q.memoNo?a.jsx("span",{className:"text-xs text-red-600",children:q.memoNo}):null]}),q.submit?a.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",children:q.submit}):null,(0,a.jsxs)("div",{className:"flex flex-wrap justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:$,className:"rounded-xl border border-slate-200 px-4 py-2 text-sm font-medium text-slate-700 shadow-sm transition hover:bg-slate-100",children:"ยกเลิก"}),a.jsx("button",{type:"button",onClick:M,disabled:S,className:"rounded-xl bg-slate-900 px-4 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-slate-800 disabled:cursor-not-allowed disabled:opacity-70",children:S?"กำลังบันทึก...":"ตกลง"})]})]})}),a.jsx(o,{isOpen:!!T,title:"สร้างเอกสารดับไฟ",onClose:K,children:(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:["หนังสือลงวันที่",a.jsx("input",{type:"date",value:R.doc_issue_date,onChange:e=>I(t=>({...t,doc_issue_date:e.target.value})),className:"rounded-xl border border-slate-200 px-3 py-2 text-sm shadow-sm outline-none focus:border-slate-400",required:!0}),L.doc_issue_date?a.jsx("span",{className:"text-xs text-red-600",children:L.doc_issue_date}):null]}),(0,a.jsxs)("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:["ดับไฟเพื่อ",a.jsx("input",{type:"text",value:R.doc_purpose,onChange:e=>I(t=>({...t,doc_purpose:e.target.value})),className:"rounded-xl border border-slate-200 px-3 py-2 text-sm shadow-sm outline-none focus:border-slate-400",required:!0}),L.doc_purpose?a.jsx("span",{className:"text-xs text-red-600",children:L.doc_purpose}):null]}),(0,a.jsxs)("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:["บริเวณที่ดับ",a.jsx("input",{type:"text",value:R.doc_area_title,onChange:e=>I(t=>({...t,doc_area_title:e.target.value})),className:"rounded-xl border border-slate-200 px-3 py-2 text-sm shadow-sm outline-none focus:border-slate-400",required:!0}),L.doc_area_title?a.jsx("span",{className:"text-xs text-red-600",children:L.doc_area_title}):null]}),(0,a.jsxs)("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:["เวลาเริ่มดับไฟ",a.jsx("input",{type:"time",value:R.doc_time_start,onChange:e=>I(t=>({...t,doc_time_start:e.target.value})),className:"rounded-xl border border-slate-200 px-3 py-2 text-sm shadow-sm outline-none focus:border-slate-400",required:!0}),L.doc_time_start?a.jsx("span",{className:"text-xs text-red-600",children:L.doc_time_start}):null]}),(0,a.jsxs)("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:["เวลาจ่ายไฟ",a.jsx("input",{type:"time",value:R.doc_time_end,onChange:e=>I(t=>({...t,doc_time_end:e.target.value})),className:"rounded-xl border border-slate-200 px-3 py-2 text-sm shadow-sm outline-none focus:border-slate-400",required:!0}),L.doc_time_end?a.jsx("span",{className:"text-xs text-red-600",children:L.doc_time_end}):null]}),(0,a.jsxs)("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:["รายละเอียดพื้นที่ดับไฟ",a.jsx("textarea",{value:R.doc_area_detail,onChange:e=>I(t=>({...t,doc_area_detail:e.target.value})),rows:3,className:"rounded-xl border border-slate-200 px-3 py-2 text-sm shadow-sm outline-none focus:border-slate-400",required:!0}),L.doc_area_detail?a.jsx("span",{className:"text-xs text-red-600",children:L.doc_area_detail}):null]}),(0,a.jsxs)("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:["ลิ้ง google map",a.jsx("input",{type:"url",value:R.map_link,onChange:e=>I(t=>({...t,map_link:e.target.value})),className:"rounded-xl border border-slate-200 px-3 py-2 text-sm shadow-sm outline-none focus:border-slate-400",required:!0}),L.map_link?a.jsx("span",{className:"text-xs text-red-600",children:L.map_link}):null]}),L.submit?a.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",children:L.submit}):null,(0,a.jsxs)("div",{className:"flex flex-wrap justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:K,className:"rounded-xl border border-slate-200 px-4 py-2 text-sm font-medium text-slate-700 shadow-sm transition hover:bg-slate-100",children:"ยกเลิก"}),a.jsx("button",{type:"button",onClick:z,disabled:A,className:"rounded-xl bg-emerald-600 px-4 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-emerald-500 disabled:cursor-not-allowed disabled:opacity-70",children:A?"กำลังสร้าง...":"สร้าง"})]})]})})]})}},9864:(e,t,s)=>{"use strict";s.d(t,{Cq:()=>n,CC:()=>i,uA:()=>m,Z6:()=>c,gK:()=>d});var a=s(5157);let l="https://yhkrzepnokhiqbxwhkgz.supabase.co",r="sb_publishable_CdTtNwP3k39LxhkLkKbS3w_Y3co_tFE";if(!l||!r)throw Error("Missing Supabase env vars. Set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY.");let o=(0,a.eI)(l,r);async function n(e){return o.from("outage_jobs").insert({outage_date:e.outage_date,equipment_code:e.equipment_code,note:e.note??null})}async function d(e,t){return o.from("outage_jobs").update({outage_date:t.outage_date,equipment_code:t.equipment_code,note:t.note??null}).eq("id",e)}async function i(e){return o.from("outage_jobs").delete().eq("id",e)}async function c(e,t){return o.from("outage_jobs").update({nakhon_status:"NOTIFIED",nakhon_notified_date:t.date,nakhon_memo_no:t.memoNo}).eq("id",e)}async function m(e){return o.from("outage_jobs").update({nakhon_status:"NOT_REQUIRED",nakhon_notified_date:null,nakhon_memo_no:null}).eq("id",e)}},2029:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r,metadata:()=>l});var a=s(9510);s(5023);let l={title:"Krabi Outage Tracker",description:"Track planned outages in Krabi."};function r({children:e}){return a.jsx("html",{lang:"th",children:a.jsx("body",{children:a.jsx("div",{className:"min-h-screen",children:a.jsx("main",{className:"mx-auto flex w-full max-w-5xl flex-col px-4 py-8",children:e})})})})}},5480:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>o,__esModule:()=>r,default:()=>n});var a=s(8570);let l=(0,a.createProxy)(String.raw`C:\Users\506870\Desktop\KB-outage\src\app\page.tsx`),{__esModule:r,$$typeof:o}=l;l.default;let n=(0,a.createProxy)(String.raw`C:\Users\506870\Desktop\KB-outage\src\app\page.tsx#default`)},5023:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[948,471,435],()=>s(1332));module.exports=a})();