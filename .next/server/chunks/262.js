"use strict";exports.id=262,exports.ids=[262],exports.modules={6262:(e,t,s)=>{s.r(t),s.d(t,{default:()=>P});var a=s(326),l=s(434),o=s(5047),i=s(7577),r=s(4029),n=s(7687),d=s(9068);function c({options:e,value:t,onChange:s,className:l=""}){return a.jsx("div",{role:"group",className:`inline-flex items-center rounded-full bg-slate-100 p-1 text-sm shadow-inner ${l?` ${l}`:""}`,children:e.map(e=>{let l=t===e.id;return a.jsx("button",{type:"button",onClick:()=>s(e.id),className:`rounded-full px-4 py-1.5 text-sm font-medium transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-violet-300 focus-visible:ring-offset-2 ${l?"bg-white text-slate-900 shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:e.label},e.id)})})}function u(e){return new Date(`${e}T00:00:00`)}function m(e){let t=new Date(e);return t.setHours(0,0,0,0),t}function x(e){let t=function(e,t){let s=m(e).getTime();return Math.round((m(t).getTime()-s)/864e5)}(m(new Date),m(u(e.outage_date))),s=t<0?`‡πÄ‡∏•‡∏¢‡∏Å‡∏≥‡∏´‡∏ô‡∏î ${Math.abs(t)} ‡∏ß‡∏±‡∏ô`:0===t?"‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ":1===t?"‡∏û‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏µ‡πâ":`‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ${t} ‡∏ß‡∏±‡∏ô`;return t<0?{daysLeft:t,color:"RED",label:s}:"PENDING"===(e.nakhon_status??"PENDING")?t<14?{daysLeft:t,color:"RED",label:s}:t<=28?{daysLeft:t,color:"YELLOW",label:s}:{daysLeft:t,color:"GREEN",label:s}:t<3?{daysLeft:t,color:"RED",label:s}:t<=6?{daysLeft:t,color:"YELLOW",label:s}:{daysLeft:t,color:"GREEN",label:s}}let p=["‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏°","‡∏Å‡∏∏‡∏°‡∏†‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡πå","‡∏°‡∏µ‡∏ô‡∏≤‡∏Ñ‡∏°","‡πÄ‡∏°‡∏©‡∏≤‡∏¢‡∏ô","‡∏û‡∏§‡∏©‡∏†‡∏≤‡∏Ñ‡∏°","‡∏°‡∏¥‡∏ñ‡∏∏‡∏ô‡∏≤‡∏¢‡∏ô","‡∏Å‡∏£‡∏Å‡∏é‡∏≤‡∏Ñ‡∏°","‡∏™‡∏¥‡∏á‡∏´‡∏≤‡∏Ñ‡∏°","‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô","‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏°","‡∏û‡∏§‡∏®‡∏à‡∏¥‡∏Å‡∏≤‡∏¢‡∏ô","‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏°"];function _(e){let t=e.doc_purpose??"",s=e.doc_area_title??"",a=e.doc_time_start??"",l=e.doc_time_end??"",o=e.doc_area_detail??"",i=e.map_link??"",r=function(e){if(!e)return"";let t=u(e),s=t.getDate(),a=p[t.getMonth()]??"",l=t.getFullYear()+543;return`${s} ${a} ${l}`.trim()}(e.outage_date);return`‡πÄ‡∏û‡∏∑‡πà‡∏≠${t} ‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì ${s}
üìÖ${r}
‚ò£Ô∏è‡πÇ‡∏ã‡∏ô‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á ‡πÅ‡∏™‡∏î‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏ü‡∏î‡∏±‡∏ö ‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡πÄ‡∏ß‡∏•‡∏≤ ${a} .- ${l} ‡∏ô.
üåè‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö ${o}
üìå‡∏Å‡∏î‡∏•‡∏¥‡πâ‡∏á‡∏Ñ‡πå üëá ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏ü‡∏î‡∏±‡∏ö ${i}`}function b({job:e,isOpen:t,onClose:s,onJobUpdate:l}){let[o,d]=(0,i.useState)(!1),[c,u]=(0,i.useState)(null),m=(0,i.useMemo)(()=>e?e.social_post_text?.trim()?e.social_post_text:_(e):"",[e]),x=async(e=!0)=>{if(m)try{await navigator.clipboard.writeText(m),e&&u("‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏•‡πâ‡∏ß ‚Äî ‡πÑ‡∏õ‡∏ß‡∏≤‡∏á‡πÉ‡∏ô Facebook/LINE ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢")}catch(t){console.error("Failed to copy text",t),e&&u("‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà")}},p=async()=>{if(e&&m){if("POSTED"===e.social_status){await x();return}d(!0);try{let t=await fetch("/api/jobs/social-post",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jobId:e.id})}),a=await t.json().catch(()=>null);if(!t.ok||!a?.ok)throw Error(a?.error??"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏î‡πâ");let o=a.social_posted_at??new Date().toISOString(),i=a.social_post_text??a.preview_text??_(e);l(e.id,{...a.job??{},social_status:a.social_status??"POSTED",social_post_text:i,social_posted_at:o}),x(!1),u("‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß"),window.setTimeout(()=>{s()},500)}catch(e){console.error("Social post failed",e),u("‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà")}finally{d(!1)}}};return a.jsx(n.Z,{isOpen:t,title:"‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÇ‡∏û‡∏™‡∏ï‡πå Social",onClose:s,children:(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[c?a.jsx("div",{className:"rounded-xl border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:c}):null,a.jsx("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3 text-sm text-slate-700",children:a.jsx("p",{className:"whitespace-pre-wrap leading-relaxed",children:m||"-"})}),a.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-3",children:a.jsx(r.Z,{googleUrl:e?.map_link,myMapUrl:e?.mymaps_url})}),(0,a.jsxs)("div",{className:"flex flex-wrap justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:()=>void x(!0),className:"rounded-xl border border-slate-200 px-4 py-2 text-sm font-medium text-slate-700 shadow-sm transition hover:bg-slate-100",children:"‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°"}),a.jsx("button",{type:"button",onClick:p,disabled:o||!m,className:"rounded-xl bg-slate-900 px-4 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-slate-800 disabled:cursor-not-allowed disabled:opacity-70",children:o?"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏û‡∏™‡∏ï‡πå...":"Post ‡∏•‡∏á‡∏™‡∏∑‡πà‡∏≠ social"})]})]})})}let h="rounded-2xl border border-slate-200/60 bg-white/80 shadow-sm transition hover:shadow-md",f="text-white bg-gradient-to-r from-violet-600 via-purple-600 to-indigo-600 shadow-[0_10px_24px_rgba(124,58,237,0.25)] hover:brightness-110 active:scale-[0.98] focus-visible:ring-violet-300",g=`inline-flex items-center justify-center rounded-xl px-4 py-2 text-sm font-medium shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 ${f}`,j="inline-flex items-center justify-center rounded-xl border border-slate-200 bg-slate-100/60 px-4 py-2 text-sm font-medium text-slate-700 shadow-sm transition hover:bg-slate-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-violet-300 focus-visible:ring-offset-2",N="rounded-xl border border-slate-200/80 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm outline-none transition focus:border-purple-400 focus-visible:ring-2 focus-visible:ring-purple-200",y=e=>{switch(e){case"RED":return"border border-rose-200/80 bg-rose-50 text-rose-700";case"YELLOW":return"border border-amber-200/80 bg-amber-50 text-amber-700";default:return"border border-emerald-200/80 bg-emerald-50 text-emerald-700"}};function v({status:e,label:t}){return a.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${y(e)}`,children:t})}var w=s(8927),k=s(1632);let E=e=>{if(!e)return null;let t=e.match(/filename\*=UTF-8''([^;]+)/i);if(t?.[1])try{return decodeURIComponent(t[1])}catch{return t[1]}let s=e.match(/filename="?([^";]+)"?/i);return s?.[1]??null},S=e=>{if("PENDING"===(e.nakhon_status??"PENDING"))return"notify_nakhon";if(!("GENERATED"===e.doc_status||e.doc_generated_at))return"create_doc";let t=e.social_status??"DRAFT";if("PENDING_APPROVAL"===t)return"wait_approval";let s=e.notice_status??"NONE";return"POSTED"===t&&"SCHEDULED"!==s?"notify_outage_letter":"close_job"},C={notify_nakhon:"‡πÅ‡∏à‡πâ‡∏á‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏ô‡∏Ñ‡∏£",create_doc:"‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏î‡∏±‡∏ö‡πÑ‡∏ü",wait_approval:"‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥",notify_outage_letter:"‡πÅ‡∏à‡πâ‡∏á‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏î‡∏±‡∏ö‡πÑ‡∏ü",close_job:"‡∏õ‡∏¥‡∏î‡∏á‡∏≤‡∏ô"},D="inline-flex items-center justify-center rounded-xl px-4 py-2 text-sm font-medium shadow-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2",O=`${D} ${f}`,T=`${D} border border-slate-200 bg-white text-slate-700 hover:bg-slate-50 focus-visible:ring-slate-200`,$="disabled:cursor-not-allowed disabled:opacity-60";function P(){let e=(0,o.useRouter)(),[t,s]=(0,i.useState)([]),[m,p]=(0,i.useState)(!0),[_,f]=(0,i.useState)(null),[y,D]=(0,i.useState)(""),[P,L]=(0,i.useState)("all"),[R,I]=(0,i.useState)("active"),[U,G]=(0,i.useState)(null),[A,F]=(0,i.useState)({}),[q,Z]=(0,i.useState)(null),[H,M]=(0,i.useState)(""),[J,Y]=(0,i.useState)(""),[W,Q]=(0,i.useState)({}),[V,K]=(0,i.useState)(!1),[z,B]=(0,i.useState)(null),[X,ee]=(0,i.useState)(null),[et,es]=(0,i.useState)(null),[ea,el]=(0,i.useState)({doc_issue_date:"",doc_purpose:"",doc_area_title:"",doc_time_start:"",doc_time_end:"",doc_area_detail:"",map_link:""}),[eo,ei]=(0,i.useState)({}),[er,en]=(0,i.useState)(!1),[ed,ec]=(0,i.useState)(null),[eu,em]=(0,i.useState)(!1),[ex,ep]=(0,i.useState)(null),[e_,eb]=(0,i.useState)(null),[eh,ef]=(0,i.useState)(null),eg=async()=>{p(!0),f(null),G(null);let{data:e,error:t}=await (0,w.DQ)();t?(f(t.message),s([])):s(e??[]),p(!1)},ej=()=>{Z(null),M(""),Y(""),Q({}),K(!1)},eN=()=>{B(null),el({doc_issue_date:"",doc_purpose:"",doc_area_title:"",doc_time_start:"",doc_time_end:"",doc_area_detail:"",map_link:""}),ei({}),en(!1)},ey=()=>{es(null)},ev=e=>{Z(e),M(""),Y(""),Q({})},ew=e=>{B(e),el({doc_issue_date:e.doc_issue_date??"",doc_purpose:e.doc_purpose??"",doc_area_title:e.doc_area_title??"",doc_time_start:e.doc_time_start??"",doc_time_end:e.doc_time_end??"",doc_area_detail:e.doc_area_detail??"",map_link:e.map_link??""}),ei({})},ek=e=>{ec(e),em(!1),ep(null)},eE=async()=>{if(!ed)return;em(!0),ep(null);let{data:t}=await k.O.auth.getSession();if(!t.session){em(!1),ec(null),e.push("/login");return}try{let t=await fetch(`/api/jobs/${ed.id}/close`,{method:"POST",headers:{"Content-Type":"application/json"}});if(401===t.status){em(!1),ec(null),e.push("/login");return}let s=await t.json().catch(()=>null);if(!t.ok||!s?.ok)throw Error(s?.error??"‡∏õ‡∏¥‡∏î‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà");eb({message:"‚úÖ ‡∏õ‡∏¥‡∏î‡∏á‡∏≤‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢",tone:"success"}),await eg(),ec(null)}catch(t){let e=t instanceof Error?t.message:"‡∏õ‡∏¥‡∏î‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà";ep(e),eb({message:e,tone:"error"})}finally{em(!1)}},eS=async()=>{await k.O.auth.signOut(),await fetch("/api/auth/session",{method:"DELETE"}),e.push("/login")},eC=async()=>{if(!q)return;let e={};if(H||(e.date="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏à‡πâ‡∏á‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏ô‡∏Ñ‡∏£"),J.trim()||(e.memoNo="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å"),Object.keys(e).length>0){Q(e);return}K(!0),Q({});let{error:t}=await (0,w.Z6)(q.id,{date:H,memoNo:J.trim()});if(t){Q({submit:t.message||"‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà"}),K(!1);return}s(e=>e.map(e=>e.id===q.id?{...e,nakhon_status:"NOTIFIED",nakhon_notified_date:H,nakhon_memo_no:J.trim()}:e)),ej()},eD=async e=>{G(null),F(t=>({...t,[e.id]:!0}));let{error:t}=await (0,w.uA)(e.id);if(t){G(t.message||"‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à"),F(t=>({...t,[e.id]:!1}));return}s(t=>t.map(t=>t.id===e.id?{...t,nakhon_status:"NOT_REQUIRED",nakhon_notified_date:null,nakhon_memo_no:null}:t)),F(t=>({...t,[e.id]:!1}))},eO=async()=>{if(!z)return;let e={};if(ea.doc_issue_date||(e.doc_issue_date="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏Å‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠"),ea.doc_purpose.trim()||(e.doc_purpose="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå"),ea.doc_area_title.trim()||(e.doc_area_title="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏ó‡∏µ‡πà‡∏î‡∏±‡∏ö"),ea.doc_time_start.trim()||(e.doc_time_start="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏î‡∏±‡∏ö‡πÑ‡∏ü"),ea.doc_time_end.trim()||(e.doc_time_end="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏ß‡∏•‡∏≤‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏ü"),ea.doc_area_detail.trim()||(e.doc_area_detail="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏î‡∏±‡∏ö‡πÑ‡∏ü"),ea.map_link.trim()||(e.map_link="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏•‡∏¥‡πâ‡∏á google map"),Object.keys(e).length>0){ei(e);return}let t={doc_issue_date:ea.doc_issue_date,doc_purpose:ea.doc_purpose.trim(),doc_area_title:ea.doc_area_title.trim(),doc_time_start:ea.doc_time_start.trim(),doc_time_end:ea.doc_time_end.trim(),doc_area_detail:ea.doc_area_detail.trim(),map_link:ea.map_link.trim()};en(!0),ei({});try{let e=await fetch("/api/docs/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jobId:z.id,payload:t})});if(!e.ok){let t=e.headers.get("Content-Type")??"",s="";if(t.includes("application/json")){let t=await e.json().catch(()=>null);s=t?.error||t?.message||""}else s=await e.text().catch(()=>"");ei({submit:s?`‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÑ‡∏î‡πâ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà (${s})`:"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÑ‡∏î‡πâ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà"}),en(!1);return}let a=await e.blob(),l=window.URL.createObjectURL(a),o=E(e.headers.get("Content-Disposition"))??`outage-doc-${z.id}.docx`,i=document.createElement("a");i.href=l,i.download=o,document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(l);let r=new Date().toISOString();s(e=>e.map(e=>e.id===z.id?{...e,...t,doc_status:"GENERATED",doc_url:null,doc_generated_at:r}:e));try{let e=await fetch("/api/jobs/social-pending",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jobId:z.id})}),t=await e.json().catch(()=>null);e.ok&&t?.ok?s(e=>e.map(e=>e.id===z.id?{...e,social_status:"PENDING_APPROVAL"}:e)):console.warn("Failed to set social pending status",t)}catch(e){console.warn("Failed to set social pending status",e)}eN()}catch(e){console.error(e),ei({submit:"‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà"}),en(!1)}},eT=(0,i.useMemo)(()=>{let e=y.trim().toLowerCase();return t.filter(e=>"closed"===R?e.is_closed:!e.is_closed).filter(t=>!e||t.equipment_code.toLowerCase().includes(e)).filter(e=>"all"===P||x(e).color.toLowerCase()===P).sort((e,t)=>{if("closed"===R){let s=e.closed_at?new Date(e.closed_at).getTime():0;return(t.closed_at?new Date(t.closed_at).getTime():0)-s}return u(e.outage_date).getTime()-u(t.outage_date).getTime()})},[t,y,P,R]);return a.jsx("div",{className:"min-h-screen bg-slate-50",children:(0,a.jsxs)("div",{className:"mx-auto flex w-full max-w-5xl flex-col gap-6 px-4 py-8 sm:px-6 lg:px-8",children:[(0,a.jsxs)("header",{className:"flex flex-col gap-5 rounded-2xl border border-slate-200/60 bg-white/80 p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-900",children:"Krabi Outage Tracker"}),a.jsx("p",{className:"text-sm text-slate-500",children:"‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏á‡∏≤‡∏ô‡∏î‡∏±‡∏ö‡πÑ‡∏ü‡∏ï‡∏≤‡∏°‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ß‡∏±‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-start gap-3 sm:items-end",children:[eh?a.jsx("span",{className:"text-xs font-medium text-slate-500",children:eh}):null,(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[a.jsx(l.default,{href:"/new",className:g,children:"+ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏á‡∏≤‡∏ô"}),a.jsx("button",{type:"button",onClick:eS,className:j,children:"‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö"})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-end lg:justify-between",children:[(0,a.jsxs)("div",{className:"flex w-full max-w-md flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-600",children:"‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå"}),a.jsx("input",{value:y,onChange:e=>D(e.target.value),placeholder:"‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå",className:N})]}),a.jsx(c,{options:[{id:"all",label:"‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"},{id:"green",label:"‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß"},{id:"yellow",label:"‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á"},{id:"red",label:"‡πÅ‡∏î‡∏á"}],value:P,onChange:L})]}),a.jsx(c,{options:[{id:"active",label:"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£"},{id:"closed",label:"‡∏õ‡∏¥‡∏î‡πÅ‡∏•‡πâ‡∏ß"}],value:R,onChange:I})]}),e_?a.jsx("div",{className:`rounded-xl border px-4 py-3 text-sm ${"success"===e_.tone?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-rose-200 bg-rose-50 text-rose-700"}`,children:e_.message}):null,_?a.jsx("div",{className:"rounded-xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",children:_}):null,U?a.jsx("div",{className:"rounded-xl border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-700",children:U}):null,a.jsx("section",{className:"grid gap-4",children:m?a.jsx("div",{className:`${h} px-4 py-8 text-center text-sm text-slate-500`,children:"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•..."}):0===eT.length?a.jsx("div",{className:`${h} px-4 py-8 text-center text-sm text-slate-500`,children:"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á"}):eT.map(t=>{var s;let l=x(t),o="RED"===(s=l.color)?{strip:"bg-rose-200/80",badge:"border border-rose-200/80 bg-rose-50 text-rose-700",text:"text-rose-700"}:"YELLOW"===s?{strip:"bg-amber-200/80",badge:"border border-amber-200/80 bg-amber-50 text-amber-700",text:"text-amber-700"}:{strip:"bg-emerald-200/80",badge:"border border-emerald-200/80 bg-emerald-50 text-emerald-700",text:"text-emerald-700"},i=t.nakhon_status??"PENDING",n="NOTIFIED"===i,d=A[t.id]??!1,c=t.is_closed??!1,m="GENERATED"===t.doc_status||!!t.doc_generated_at,p="GENERATING"===t.doc_status,_=t.social_status??"DRAFT",b=t.notice_status??"NONE",f=S(t),g=C[f],j=e=>e===f?O:T;return(0,a.jsxs)("div",{className:`${h} group flex items-stretch overflow-hidden transition hover:-translate-y-0.5`,children:[a.jsx("div",{className:`w-2 ${o.strip}`}),(0,a.jsxs)("div",{className:"flex w-full flex-col gap-4 p-5 sm:flex-row sm:items-start sm:justify-between",children:[(0,a.jsxs)("div",{className:"flex min-w-[240px] flex-1 flex-col gap-4",children:[(0,a.jsxs)("div",{role:"button",tabIndex:0,onClick:()=>e.push(`/job/${t.id}`),onKeyDown:s=>{("Enter"===s.key||" "===s.key)&&(s.preventDefault(),e.push(`/job/${t.id}`))},className:"cursor-pointer space-y-4 rounded-2xl outline-none transition focus-visible:ring-2 focus-visible:ring-purple-400 focus-visible:ring-offset-2",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[a.jsx("span",{className:"text-sm text-slate-500",children:u(t.outage_date).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"})}),a.jsx("span",{className:`text-sm font-medium ${o.text}`,children:l.label})]}),a.jsx(v,{status:l.color,label:l.color})]}),c?(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-xs font-medium text-slate-600",children:[a.jsx("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-slate-700",children:"‡∏õ‡∏¥‡∏î‡πÅ‡∏•‡πâ‡∏ß"}),(0,a.jsxs)("span",{children:["‡∏õ‡∏¥‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠"," ",t.closed_at?new Date(t.closed_at).toLocaleString("th-TH",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"]})]}):null,(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-lg font-semibold tracking-tight text-slate-900",children:t.equipment_code}),a.jsx("p",{className:"text-sm text-slate-600",children:t.note?.trim()||"‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏"})]}),(n||"NOT_REQUIRED"===i)&&a.jsx("div",{className:"text-sm text-slate-600",children:n?(0,a.jsxs)(a.Fragment,{children:["‡πÅ‡∏à‡πâ‡∏á‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏ô‡∏Ñ‡∏£‡πÅ‡∏•‡πâ‡∏ß:"," ",a.jsx("span",{className:"font-medium text-slate-800",children:t.nakhon_notified_date?u(t.nakhon_notified_date).toLocaleDateString("th-TH",{year:"numeric",month:"short",day:"numeric"}):"-"})," ","| ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å:"," ",a.jsx("span",{className:"font-medium text-slate-800",children:t.nakhon_memo_no??"-"})]}):a.jsx("span",{children:"‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏à‡πâ‡∏á‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏ô‡∏Ñ‡∏£"})})]}),a.jsx(r.Z,{googleUrl:t.map_link,myMapUrl:t.mymaps_url})]}),c?null:(0,a.jsxs)("div",{className:"flex w-full flex-col items-stretch gap-2 sm:w-auto sm:min-w-[220px]",children:[(0,a.jsxs)("div",{className:"text-xs font-medium text-slate-500",children:["‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ:"," ",a.jsx("span",{className:"text-slate-700",children:g})]}),"PENDING"===i?(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{type:"button",onClick:()=>ev(t),className:j("notify_nakhon"),children:"‡πÅ‡∏à‡πâ‡∏á‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏ô‡∏Ñ‡∏£‡πÅ‡∏•‡πâ‡∏ß"}),a.jsx("button",{type:"button",onClick:()=>eD(t),disabled:d,className:`${T} ${$}`,children:d?"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å...":"‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏à‡πâ‡∏á‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏ô‡∏Ñ‡∏£"})]}):a.jsx(a.Fragment,{children:m?t.doc_url?a.jsx("button",{type:"button",onClick:()=>{if(t.doc_url){window.open(t.doc_url,"_blank","noopener,noreferrer");return}ew(t)},className:j("create_doc"),children:"‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£"}):a.jsx("button",{type:"button",onClick:()=>ew(t),className:T,children:"‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á"}):a.jsx("button",{type:"button",onClick:()=>ew(t),disabled:d||p,className:`${j("create_doc")} ${$}`,children:p?"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á...":"‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏î‡∏±‡∏ö‡πÑ‡∏ü"})}),"PENDING_APPROVAL"===_||"POSTED"===_?a.jsx("button",{type:"button",onClick:()=>ee(t),className:j("wait_approval"),children:"POSTED"===_?"Posted ‡πÅ‡∏•‡πâ‡∏ß‡∏™‡∏∑‡πà‡∏≠ Social":"‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥"}):null,"POSTED"===_?a.jsx("button",{type:"button",onClick:()=>es(t),className:j("notify_outage_letter"),children:"SCHEDULED"===b?"‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß (‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏î‡πâ)":"‡πÅ‡∏à‡πâ‡∏á‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏î‡∏±‡∏ö‡πÑ‡∏ü"}):null,"SCHEDULED"!==b||c?null:a.jsx("button",{type:"button",onClick:()=>ek(t),className:j("close_job"),children:"‡∏õ‡∏¥‡∏î‡∏á‡∏≤‡∏ô"})]})]})]},t.id)})}),a.jsx(n.Z,{isOpen:!!q,title:"‡πÅ‡∏à‡πâ‡∏á‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏ô‡∏Ñ‡∏£‡πÅ‡∏•‡πâ‡∏ß",onClose:ej,children:(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:["‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏à‡πâ‡∏á‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏ô‡∏Ñ‡∏£",a.jsx("input",{type:"date",value:H,onChange:e=>M(e.target.value),className:N,required:!0}),W.date?a.jsx("span",{className:"text-xs text-red-600",children:W.date}):null]}),(0,a.jsxs)("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:["‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å",a.jsx("input",{type:"text",value:J,onChange:e=>Y(e.target.value),className:N,required:!0}),W.memoNo?a.jsx("span",{className:"text-xs text-red-600",children:W.memoNo}):null]}),W.submit?a.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",children:W.submit}):null,(0,a.jsxs)("div",{className:"flex flex-wrap justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:ej,className:j,children:"‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å"}),a.jsx("button",{type:"button",onClick:eC,disabled:V,className:`${g} disabled:cursor-not-allowed disabled:opacity-70`,children:V?"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å...":"‡∏ï‡∏Å‡∏•‡∏á"})]})]})}),a.jsx(n.Z,{isOpen:!!z,title:"‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏î‡∏±‡∏ö‡πÑ‡∏ü",onClose:eN,children:(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:["‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏•‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà",a.jsx("input",{type:"date",value:ea.doc_issue_date,onChange:e=>el(t=>({...t,doc_issue_date:e.target.value})),className:N,required:!0}),eo.doc_issue_date?a.jsx("span",{className:"text-xs text-red-600",children:eo.doc_issue_date}):null]}),(0,a.jsxs)("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:["‡∏î‡∏±‡∏ö‡πÑ‡∏ü‡πÄ‡∏û‡∏∑‡πà‡∏≠",a.jsx("input",{type:"text",value:ea.doc_purpose,onChange:e=>el(t=>({...t,doc_purpose:e.target.value})),className:N,required:!0}),eo.doc_purpose?a.jsx("span",{className:"text-xs text-red-600",children:eo.doc_purpose}):null]}),(0,a.jsxs)("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:["‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏ó‡∏µ‡πà‡∏î‡∏±‡∏ö",a.jsx("input",{type:"text",value:ea.doc_area_title,onChange:e=>el(t=>({...t,doc_area_title:e.target.value})),className:N,required:!0}),eo.doc_area_title?a.jsx("span",{className:"text-xs text-red-600",children:eo.doc_area_title}):null]}),(0,a.jsxs)("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:["‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏î‡∏±‡∏ö‡πÑ‡∏ü",a.jsx("input",{type:"time",value:ea.doc_time_start,onChange:e=>el(t=>({...t,doc_time_start:e.target.value})),className:N,required:!0}),eo.doc_time_start?a.jsx("span",{className:"text-xs text-red-600",children:eo.doc_time_start}):null]}),(0,a.jsxs)("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:["‡πÄ‡∏ß‡∏•‡∏≤‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏ü",a.jsx("input",{type:"time",value:ea.doc_time_end,onChange:e=>el(t=>({...t,doc_time_end:e.target.value})),className:N,required:!0}),eo.doc_time_end?a.jsx("span",{className:"text-xs text-red-600",children:eo.doc_time_end}):null]}),(0,a.jsxs)("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:["‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏î‡∏±‡∏ö‡πÑ‡∏ü",a.jsx("textarea",{value:ea.doc_area_detail,onChange:e=>el(t=>({...t,doc_area_detail:e.target.value})),rows:3,className:N,required:!0}),eo.doc_area_detail?a.jsx("span",{className:"text-xs text-red-600",children:eo.doc_area_detail}):null]}),(0,a.jsxs)("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700",children:["‡∏•‡∏¥‡πâ‡∏á google map",a.jsx("input",{type:"url",value:ea.map_link,onChange:e=>el(t=>({...t,map_link:e.target.value})),className:N,required:!0}),eo.map_link?a.jsx("span",{className:"text-xs text-red-600",children:eo.map_link}):null]}),eo.submit?a.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",children:eo.submit}):null,(0,a.jsxs)("div",{className:"flex flex-wrap justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:eN,className:j,children:"‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å"}),a.jsx("button",{type:"button",onClick:eO,disabled:er,className:`${g} disabled:cursor-not-allowed disabled:opacity-70`,children:er?"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á...":"‡∏™‡∏£‡πâ‡∏≤‡∏á"})]})]})}),a.jsx(b,{job:X,isOpen:!!X,onClose:()=>{ee(null)},onJobUpdate:(e,t)=>{s(s=>s.map(s=>s.id===e?{...s,...t}:s)),ee(s=>s?.id===e?{...s,...t}:s)}}),a.jsx(d.Z,{job:et,open:!!et,onOpenChange:e=>{e||ey()},onJobUpdate:(e,t)=>{s(s=>s.map(s=>s.id===e?{...s,...t}:s)),es(s=>s?.id===e?{...s,...t}:s)}}),a.jsx(n.Z,{isOpen:!!ed,title:"‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏õ‡∏¥‡∏î‡∏á‡∏≤‡∏ô?",onClose:()=>ec(null),children:(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[a.jsx("p",{className:"text-sm text-slate-600",children:'‡∏õ‡∏¥‡∏î‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ‡∏ó‡∏µ‡πà "‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏¥‡∏î‡πÅ‡∏•‡πâ‡∏ß" ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏î‡πâ'}),ex?a.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",children:ex}):null,(0,a.jsxs)("div",{className:"flex flex-wrap justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:()=>ec(null),className:j,children:"‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å"}),a.jsx("button",{type:"button",onClick:eE,disabled:eu,className:`${g} disabled:cursor-not-allowed disabled:opacity-70`,children:eu?"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏¥‡∏î‡∏á‡∏≤‡∏ô...":"‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏õ‡∏¥‡∏î‡∏á‡∏≤‡∏ô"})]})]})})]})})}}};